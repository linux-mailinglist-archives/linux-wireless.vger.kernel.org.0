Return-Path: <linux-wireless-owner@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 6939C5696F
	for <lists+linux-wireless@lfdr.de>; Wed, 26 Jun 2019 14:41:13 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727517AbfFZMlM (ORCPT <rfc822;lists+linux-wireless@lfdr.de>);
        Wed, 26 Jun 2019 08:41:12 -0400
Received: from esa3.microchip.iphmx.com ([68.232.153.233]:3705 "EHLO
        esa3.microchip.iphmx.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1727566AbfFZMlM (ORCPT
        <rfc822;linux-wireless@vger.kernel.org>);
        Wed, 26 Jun 2019 08:41:12 -0400
Received-SPF: Pass (esa3.microchip.iphmx.com: domain of
  Ajay.Kathat@microchip.com designates 198.175.253.82 as
  permitted sender) identity=mailfrom;
  client-ip=198.175.253.82; receiver=esa3.microchip.iphmx.com;
  envelope-from="Ajay.Kathat@microchip.com";
  x-sender="Ajay.Kathat@microchip.com"; x-conformance=spf_only;
  x-record-type="v=spf1"; x-record-text="v=spf1 mx
  a:ushub1.microchip.com a:smtpout.microchip.com
  a:mx1.microchip.iphmx.com a:mx2.microchip.iphmx.com
  include:servers.mcsv.net include:mktomail.com
  include:spf.protection.outlook.com ~all"
Received-SPF: None (esa3.microchip.iphmx.com: no sender
  authenticity information available from domain of
  postmaster@email.microchip.com) identity=helo;
  client-ip=198.175.253.82; receiver=esa3.microchip.iphmx.com;
  envelope-from="Ajay.Kathat@microchip.com";
  x-sender="postmaster@email.microchip.com";
  x-conformance=spf_only
Authentication-Results: esa3.microchip.iphmx.com; spf=Pass smtp.mailfrom=Ajay.Kathat@microchip.com; spf=None smtp.helo=postmaster@email.microchip.com; dkim=pass (signature verified) header.i=@microchiptechnology.onmicrosoft.com; dmarc=pass (p=none dis=none) d=microchip.com
X-IronPort-AV: E=Sophos;i="5.63,419,1557212400"; 
   d="scan'208";a="39093252"
Received: from smtpout.microchip.com (HELO email.microchip.com) ([198.175.253.82])
  by esa3.microchip.iphmx.com with ESMTP/TLS/AES256-SHA256; 26 Jun 2019 05:41:08 -0700
Received: from chn-vm-ex01.mchp-main.com (10.10.87.71) by
 chn-vm-ex03.mchp-main.com (10.10.87.152) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1713.5; Wed, 26 Jun 2019 05:42:17 -0700
Received: from NAM04-SN1-obe.outbound.protection.outlook.com (10.10.215.89) by
 email.microchip.com (10.10.87.71) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id 15.1.1713.5 via Frontend
 Transport; Wed, 26 Jun 2019 05:41:06 -0700
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=microchiptechnology.onmicrosoft.com;
 s=selector1-microchiptechnology-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xySg/x291HlYEeszQo3jspOhhrnv2dHwFaEe52fqAFo=;
 b=omjaUhTCrqyUcsahEeTnEXkId6xQcxd4pmqBX/6vXpWi7Ej0COYWF0HMxjy9g0sgf5iY5W9ZNjy6TRC29aBW2rS1n3qRnC/cUOTyR0ErAdb7Fr2gFFvjhyqapBiTseIgD5lfYl039A6MyHbXTwwwKHyCTqKaDOxwweuwG30P+AI=
Received: from BN6PR11MB3985.namprd11.prod.outlook.com (10.255.129.78) by
 BN6PR11MB3907.namprd11.prod.outlook.com (10.255.131.93) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2008.16; Wed, 26 Jun 2019 12:41:04 +0000
Received: from BN6PR11MB3985.namprd11.prod.outlook.com
 ([fe80::49ee:ab78:412:48ac]) by BN6PR11MB3985.namprd11.prod.outlook.com
 ([fe80::49ee:ab78:412:48ac%5]) with mapi id 15.20.2008.017; Wed, 26 Jun 2019
 12:41:04 +0000
From:   <Ajay.Kathat@microchip.com>
To:     <linux-wireless@vger.kernel.org>
CC:     <devel@driverdev.osuosl.org>, <gregkh@linuxfoundation.org>,
        <Adham.Abozaeid@microchip.com>, <johannes@sipsolutions.net>,
        <Ajay.Kathat@microchip.com>
Subject: [PATCH 7/8] staging: wilc1000: remove extra argument passing to
 wilc_send_config_pkt()
Thread-Topic: [PATCH 7/8] staging: wilc1000: remove extra argument passing to
 wilc_send_config_pkt()
Thread-Index: AQHVLBxrHYHotpDogEaULqn7rRJTfg==
Date:   Wed, 26 Jun 2019 12:41:04 +0000
Message-ID: <1561552810-8933-8-git-send-email-ajay.kathat@microchip.com>
References: <1561552810-8933-1-git-send-email-ajay.kathat@microchip.com>
In-Reply-To: <1561552810-8933-1-git-send-email-ajay.kathat@microchip.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: BM1PR0101CA0066.INDPRD01.PROD.OUTLOOK.COM
 (2603:1096:b00:19::28) To BN6PR11MB3985.namprd11.prod.outlook.com
 (2603:10b6:405:7b::14)
x-mailer: git-send-email 2.7.4
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [183.82.16.72]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 788349a6-e1b3-4d52-eb61-08d6fa338d38
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328)(7193020);SRVR:BN6PR11MB3907;
x-ms-traffictypediagnostic: BN6PR11MB3907:
x-microsoft-antispam-prvs: <BN6PR11MB3907BB689D6BA48DFE5C515BE3E20@BN6PR11MB3907.namprd11.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:2512;
x-forefront-prvs: 00808B16F3
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(136003)(346002)(39860400002)(366004)(396003)(376002)(199004)(189003)(476003)(14454004)(54906003)(81166006)(8936002)(2616005)(446003)(53946003)(486006)(81156014)(6506007)(6436002)(6512007)(386003)(186003)(11346002)(5640700003)(102836004)(36756003)(316002)(6116002)(3846002)(26005)(2906002)(72206003)(478600001)(66066001)(50226002)(66446008)(2501003)(5660300002)(6486002)(107886003)(66556008)(64756008)(2351001)(86362001)(25786009)(6916009)(4326008)(8676002)(71190400001)(71200400001)(7736002)(76176011)(14444005)(256004)(99286004)(68736007)(305945005)(52116002)(78486014)(30864003)(53936002)(66476007)(73956011)(66946007);DIR:OUT;SFP:1101;SCL:1;SRVR:BN6PR11MB3907;H:BN6PR11MB3985.namprd11.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: microchip.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: FnLW/cSG44b12gK/zZJYzU/yav0N204+yJXrGDVVdCEBpxCTJaS9QUPVgG3WzKyoOAwn9iauKW6S1Z/ufUS/FQZLHi5nBtGkCsVG4vsx0OF9e4fh3D5GxxcwcslzVgUbUUsVuKrM+is46RGzi3U6eqKg5hWaIYjFt12v5bzSfIRgrO+GLLfdeR9UVx40FP05PiK7kbrG2aiiMaL7L8KyWqmAoY+kZ9h7EkuuPE9Wn+MisDgvz5UMqV7MMeIXMdvnrqG2cObEryWAWcZjhv1DDgmLNzVsBlu5cfIuvsR49l87msKyXC+liP5UWMYdgxAbsR1Cncn92rc0sD2ZC6cJJK1vnJ5Vl5nV0n+ZqZOkmKqwKpmfdut4t/lq2evu9WnjZBt+rQaWj3tvIn/9TkEIRIJKUVkfVKIxObpxzFQemxg=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-Network-Message-Id: 788349a6-e1b3-4d52-eb61-08d6fa338d38
X-MS-Exchange-CrossTenant-originalarrivaltime: 26 Jun 2019 12:41:04.4644
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3f4057f3-b418-4d4e-ba84-d55b4e897d88
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ajay.kathat@microchip.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR11MB3907
Sender: linux-wireless-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-wireless.vger.kernel.org>
X-Mailing-List: linux-wireless@vger.kernel.org

RnJvbTogQWpheSBTaW5naCA8YWpheS5rYXRoYXRAbWljcm9jaGlwLmNvbT4NCg0KQ2xlYW51cCBw
YXRjaCB0byByZW1vdmUgdGhlIHBhc3Npbmcgb2YgZHJpdmVyIGhhbmRsZXIsIGdldCB0aGUgJ2lk
eCcNCnZhbHVlIGluc2lkZSB0aGUgY2FsbGVkIGZ1bmN0aW9uLg0KDQpTaWduZWQtb2ZmLWJ5OiBB
amF5IFNpbmdoIDxhamF5LmthdGhhdEBtaWNyb2NoaXAuY29tPg0KLS0tDQogZHJpdmVycy9zdGFn
aW5nL3dpbGMxMDAwL2hvc3RfaW50ZXJmYWNlLmMgfCAxMTYgKysrKysrKysrKy0tLS0tLS0tLS0t
LS0tLS0tLS0tDQogZHJpdmVycy9zdGFnaW5nL3dpbGMxMDAwL3dpbGNfd2xhbi5jICAgICAgfCAg
IDMgKy0NCiBkcml2ZXJzL3N0YWdpbmcvd2lsYzEwMDAvd2lsY193bGFuLmggICAgICB8ICAgMiAr
LQ0KIDMgZmlsZXMgY2hhbmdlZCwgNDAgaW5zZXJ0aW9ucygrKSwgODEgZGVsZXRpb25zKC0pDQoN
CmRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvd2lsYzEwMDAvaG9zdF9pbnRlcmZhY2UuYyBi
L2RyaXZlcnMvc3RhZ2luZy93aWxjMTAwMC9ob3N0X2ludGVyZmFjZS5jDQppbmRleCAzNjg4MDg4
Li45MzQ1Y2FiIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9zdGFnaW5nL3dpbGMxMDAwL2hvc3RfaW50
ZXJmYWNlLmMNCisrKyBiL2RyaXZlcnMvc3RhZ2luZy93aWxjMTAwMC9ob3N0X2ludGVyZmFjZS5j
DQpAQCAtMjA1LDkgKzIwNSw3IEBAIHN0YXRpYyBpbnQgaGFuZGxlX3NjYW5fZG9uZShzdHJ1Y3Qg
d2lsY192aWYgKnZpZiwgZW51bSBzY2FuX2V2ZW50IGV2dCkNCiAJCXdpZC52YWwgPSAoczggKikm
YWJvcnRfcnVubmluZ19zY2FuOw0KIAkJd2lkLnNpemUgPSBzaXplb2YoY2hhcik7DQogDQotCQly
ZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSwN
Ci0JCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQotDQorCQlyZXN1bHQgPSB3aWxj
X3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSk7DQogCQlpZiAocmVz
dWx0KSB7DQogCQkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsICJGYWlsZWQgdG8gc2V0IGFib3J0IHJ1
bm5pbmdcbiIpOw0KIAkJCXJlc3VsdCA9IC1FRkFVTFQ7DQpAQCAtMzI4LDkgKzMyNiw3IEBAIGlu
dCB3aWxjX3NjYW4oc3RydWN0IHdpbGNfdmlmICp2aWYsIHU4IHNjYW5fc291cmNlLCB1OCBzY2Fu
X3R5cGUsDQogCWhpZl9kcnYtPnVzcl9zY2FuX3JlcS5zY2FuX3Jlc3VsdCA9IHNjYW5fcmVzdWx0
X2ZuOw0KIAloaWZfZHJ2LT51c3Jfc2Nhbl9yZXEuYXJnID0gdXNlcl9hcmc7DQogDQotCXJlc3Vs
dCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCB3aWRfbGlzdCwNCi0J
CQkJICAgICAgaW5kZXgsDQotCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJl
c3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCB3aWRfbGlzdCwg
aW5kZXgpOw0KIAlpZiAocmVzdWx0KSB7DQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxl
ZCB0byBzZW5kIHNjYW4gcGFyYW1ldGVyc1xuIik7DQogCQlnb3RvIGVycm9yOw0KQEAgLTM4MCw5
ICszNzYsNyBAQCBzdGF0aWMgaW50IHdpbGNfc2VuZF9jb25uZWN0X3dpZChzdHJ1Y3Qgd2lsY192
aWYgKnZpZikNCiAJd2lkX2xpc3Rbd2lkX2NudF0udmFsID0gKHU4ICopYnNzX3BhcmFtOw0KIAl3
aWRfY250Kys7DQogDQotCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19T
RVRfQ0ZHLCB3aWRfbGlzdCwNCi0JCQkJICAgICAgd2lkX2NudCwNCi0JCQkJICAgICAgd2lsY19n
ZXRfdmlmX2lkeCh2aWYpKTsNCisJcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBX
SUxDX1NFVF9DRkcsIHdpZF9saXN0LCB3aWRfY250KTsNCiAJaWYgKHJlc3VsdCkgew0KIAkJbmV0
ZGV2X2Vycih2aWYtPm5kZXYsICJmYWlsZWQgdG8gc2VuZCBjb25maWcgcGFja2V0XG4iKTsNCiAJ
CWdvdG8gZXJyb3I7DQpAQCAtNDMwLDggKzQyNCw3IEBAIHN0YXRpYyB2b2lkIGhhbmRsZV9jb25u
ZWN0X3RpbWVvdXQoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KIAl3aWQudmFsID0gKHM4ICop
JmR1bW15X3JlYXNvbl9jb2RlOw0KIAl3aWQuc2l6ZSA9IHNpemVvZihjaGFyKTsNCiANCi0JcmVz
dWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQot
CQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9j
b25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJ
CW5ldGRldl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNlbmQgZGlzY29ubmVjdFxuIik7DQog
DQpAQCAtNjE5LDggKzYxMiw3IEBAIHN0YXRpYyB2b2lkIGhvc3RfaW50X2dldF9hc3NvY19yZXNf
aW5mbyhzdHJ1Y3Qgd2lsY192aWYgKnZpZiwNCiAJd2lkLnZhbCA9IGFzc29jX3Jlc3BfaW5mbzsN
CiAJd2lkLnNpemUgPSBtYXhfYXNzb2NfcmVzcF9pbmZvX2xlbjsNCiANCi0JcmVzdWx0ID0gd2ls
Y19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX0dFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAg
IHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0
KHZpZiwgV0lMQ19HRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkgew0KIAkJKnJjdmRf
YXNzb2NfcmVzcF9pbmZvX2xlbiA9IDA7DQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxl
ZCB0byBzZW5kIGFzc29jaWF0aW9uIHJlc3BvbnNlXG4iKTsNCkBAIC03ODMsOCArNzc1LDcgQEAg
aW50IHdpbGNfZGlzY29ubmVjdChzdHJ1Y3Qgd2lsY192aWYgKnZpZikNCiAJdmlmLT5vYnRhaW5p
bmdfaXAgPSBmYWxzZTsNCiAJd2lsY19zZXRfcG93ZXJfbWdtdCh2aWYsIDAsIDApOw0KIA0KLQly
ZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSwN
Ci0JCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmVzdWx0ID0gd2lsY19zZW5k
X2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEpOw0KIAlpZiAocmVzdWx0KSB7
DQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxlZCB0byBzZW5kIGRpc2Nvbm5lY3RcbiIp
Ow0KIAkJcmV0dXJuIHJlc3VsdDsNCkBAIC04NjQsMTAgKzg1NSw3IEBAIGludCB3aWxjX2dldF9z
dGF0aXN0aWNzKHN0cnVjdCB3aWxjX3ZpZiAqdmlmLCBzdHJ1Y3QgcmZfaW5mbyAqc3RhdHMpDQog
CXdpZF9saXN0W3dpZF9jbnRdLnZhbCA9IChzOCAqKSZzdGF0cy0+dHhfZmFpbF9jbnQ7DQogCXdp
ZF9jbnQrKzsNCiANCi0JcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX0dF
VF9DRkcsIHdpZF9saXN0LA0KLQkJCQkgICAgICB3aWRfY250LA0KLQkJCQkgICAgICB3aWxjX2dl
dF92aWZfaWR4KHZpZikpOw0KLQ0KKwlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYs
IFdJTENfR0VUX0NGRywgd2lkX2xpc3QsIHdpZF9jbnQpOw0KIAlpZiAocmVzdWx0KSB7DQogCQlu
ZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxlZCB0byBzZW5kIHNjYW4gcGFyYW1ldGVyc1xuIik7
DQogCQlyZXR1cm4gcmVzdWx0Ow0KQEAgLTk1MCw4ICs5MzgsNyBAQCBzdGF0aWMgaW50IGhhbmRs
ZV9yZW1haW5fb25fY2hhbihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwNCiAJd2lkLnZhbFswXSA9IHJl
bWFpbl9vbl9jaGFuX2ZsYWc7DQogCXdpZC52YWxbMV0gPSAoczgpaGlmX3JlbWFpbl9jaC0+Y2g7
DQogDQotCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAm
d2lkLCAxLA0KLQkJCQkgICAgICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwlyZXN1bHQgPSB3
aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSk7DQogCWtmcmVl
KHdpZC52YWwpOw0KIAlpZiAocmVzdWx0KQ0KIAkJcmV0dXJuIC1FQlVTWTsNCkBAIC05ODYsOCAr
OTczLDcgQEAgc3RhdGljIGludCB3aWxjX2hhbmRsZV9yb2NfZXhwaXJlZChzdHJ1Y3Qgd2lsY192
aWYgKnZpZiwgdTY0IGNvb2tpZSkNCiAJCXdpZC52YWxbMF0gPSByZW1haW5fb25fY2hhbl9mbGFn
Ow0KIAkJd2lkLnZhbFsxXSA9IFdJTENfRkFMU0VfRlJNV1JfQ0hBTk5FTDsNCiANCi0JCXJlc3Vs
dCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxLA0KLQkJ
CQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJCXJlc3VsdCA9IHdpbGNfc2VuZF9j
b25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJCWtmcmVlKHdpZC52YWwp
Ow0KIAkJaWYgKHJlc3VsdCAhPSAwKSB7DQogCQkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsICJGYWls
ZWQgdG8gc2V0IHJlbWFpbiBjaGFubmVsXG4iKTsNCkBAIC0xMDYyLDggKzEwNDgsNyBAQCBzdGF0
aWMgdm9pZCBoYW5kbGVfc2V0X21jYXN0X2ZpbHRlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmsp
DQogCWlmIChzZXRfbWMtPmNudCA+IDAgJiYgc2V0X21jLT5tY19saXN0KQ0KIAkJbWVtY3B5KGN1
cl9ieXRlLCBzZXRfbWMtPm1jX2xpc3QsIHNldF9tYy0+Y250ICogRVRIX0FMRU4pOw0KIA0KLQly
ZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSwN
Ci0JCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmVzdWx0ID0gd2lsY19zZW5k
X2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEpOw0KIAlpZiAocmVzdWx0KQ0K
IAkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsICJGYWlsZWQgdG8gc2VuZCBzZXR1cCBtdWx0aWNhc3Rc
biIpOw0KIA0KQEAgLTExMzksOCArMTEyNCw3IEBAIGludCB3aWxjX3JlbW92ZV93ZXBfa2V5KHN0
cnVjdCB3aWxjX3ZpZiAqdmlmLCB1OCBpbmRleCkNCiAJd2lkLnNpemUgPSBzaXplb2YoY2hhcik7
DQogCXdpZC52YWwgPSAmaW5kZXg7DQogDQotCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0
KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxLA0KLQkJCQkgICAgICB3aWxjX2dldF92aWZfaWR4
KHZpZikpOw0KKwlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NG
RywgJndpZCwgMSk7DQogCWlmIChyZXN1bHQpDQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwNCiAJ
CQkgICAiRmFpbGVkIHRvIHNlbmQgcmVtb3ZlIHdlcCBrZXkgY29uZmlnIHBhY2tldFxuIik7DQpA
QCAtMTE1Niw4ICsxMTQwLDcgQEAgaW50IHdpbGNfc2V0X3dlcF9kZWZhdWx0X2tleWlkKHN0cnVj
dCB3aWxjX3ZpZiAqdmlmLCB1OCBpbmRleCkNCiAJd2lkLnR5cGUgPSBXSURfQ0hBUjsNCiAJd2lk
LnNpemUgPSBzaXplb2YoY2hhcik7DQogCXdpZC52YWwgPSAmaW5kZXg7DQotCXJlc3VsdCA9IHdp
bGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxLA0KLQkJCQkgICAg
ICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3Br
dCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSk7DQogCWlmIChyZXN1bHQpDQogCQluZXRkZXZf
ZXJyKHZpZi0+bmRldiwNCiAJCQkgICAiRmFpbGVkIHRvIHNlbmQgd2VwIGRlZmF1bHQga2V5IGNv
bmZpZyBwYWNrZXRcbiIpOw0KQEAgLTExODUsOCArMTE2OCw3IEBAIGludCB3aWxjX2FkZF93ZXBf
a2V5X2Jzc19zdGEoc3RydWN0IHdpbGNfdmlmICp2aWYsIGNvbnN0IHU4ICprZXksIHU4IGxlbiwN
CiAJd2VwX2tleS0+a2V5X2xlbiA9IGxlbjsNCiAJbWVtY3B5KHdlcF9rZXktPmtleSwga2V5LCBs
ZW4pOw0KIA0KLQlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NG
RywgJndpZCwgMSwNCi0JCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmVzdWx0
ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEpOw0KIAlp
ZiAocmVzdWx0KQ0KIAkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsDQogCQkJICAgIkZhaWxlZCB0byBh
ZGQgd2VwIGtleSBjb25maWcgcGFja2V0XG4iKTsNCkBAIC0xMjI1LDggKzEyMDcsNyBAQCBpbnQg
d2lsY19hZGRfd2VwX2tleV9ic3NfYXAoc3RydWN0IHdpbGNfdmlmICp2aWYsIGNvbnN0IHU4ICpr
ZXksIHU4IGxlbiwNCiAJd2VwX2tleS0+a2V5X2xlbiA9IGxlbjsNCiAJbWVtY3B5KHdlcF9rZXkt
PmtleSwga2V5LCBsZW4pOw0KIAlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJ
TENfU0VUX0NGRywgd2lkX2xpc3QsDQotCQkJCSAgICAgIEFSUkFZX1NJWkUod2lkX2xpc3QpLA0K
LQkJCQkgICAgICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwkJCQkgICAgICBBUlJBWV9TSVpF
KHdpZF9saXN0KSk7DQogCWlmIChyZXN1bHQpDQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwNCiAJ
CQkgICAiRmFpbGVkIHRvIGFkZCB3ZXAgYXAga2V5IGNvbmZpZyBwYWNrZXRcbiIpOw0KQEAgLTEy
NzMsOCArMTI1NCw3IEBAIGludCB3aWxjX2FkZF9wdGsoc3RydWN0IHdpbGNfdmlmICp2aWYsIGNv
bnN0IHU4ICpwdGssIHU4IHB0a19rZXlfbGVuLA0KIAkJd2lkX2xpc3RbMV0uc2l6ZSA9IHNpemVv
Zigqa2V5X2J1ZikgKyB0X2tleV9sZW47DQogCQl3aWRfbGlzdFsxXS52YWwgPSAodTggKilrZXlf
YnVmOw0KIAkJcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcs
IHdpZF9saXN0LA0KLQkJCQkJICAgICAgQVJSQVlfU0laRSh3aWRfbGlzdCksDQotCQkJCQkgICAg
ICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwkJCQkJICAgICAgQVJSQVlfU0laRSh3aWRfbGlz
dCkpOw0KIAkJa2ZyZWUoa2V5X2J1Zik7DQogCX0gZWxzZSBpZiAobW9kZSA9PSBXSUxDX1NUQVRJ
T05fTU9ERSkgew0KIAkJc3RydWN0IHdpZCB3aWQ7DQpAQCAtMTMwMCw4ICsxMjgwLDcgQEAgaW50
IHdpbGNfYWRkX3B0ayhzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgY29uc3QgdTggKnB0aywgdTggcHRr
X2tleV9sZW4sDQogCQl3aWQudHlwZSA9IFdJRF9TVFI7DQogCQl3aWQuc2l6ZSA9IHNpemVvZigq
a2V5X2J1ZikgKyB0X2tleV9sZW47DQogCQl3aWQudmFsID0gKHM4ICopa2V5X2J1ZjsNCi0JCXJl
c3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxLA0K
LQkJCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJCXJlc3VsdCA9IHdpbGNfc2Vu
ZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJCWtmcmVlKGtleV9i
dWYpOw0KIAl9DQogDQpAQCAtMTM1Myw4ICsxMzMyLDcgQEAgaW50IHdpbGNfYWRkX3J4X2d0ayhz
dHJ1Y3Qgd2lsY192aWYgKnZpZiwgY29uc3QgdTggKnJ4X2d0aywgdTggZ3RrX2tleV9sZW4sDQog
CQl3aWRfbGlzdFsxXS52YWwgPSAodTggKilndGtfa2V5Ow0KIA0KIAkJcmVzdWx0ID0gd2lsY19z
ZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsIHdpZF9saXN0LA0KLQkJCQkJICAgICAg
QVJSQVlfU0laRSh3aWRfbGlzdCksDQotCQkJCQkgICAgICB3aWxjX2dldF92aWZfaWR4KHZpZikp
Ow0KKwkJCQkJICAgICAgQVJSQVlfU0laRSh3aWRfbGlzdCkpOw0KIAl9IGVsc2UgaWYgKG1vZGUg
PT0gV0lMQ19TVEFUSU9OX01PREUpIHsNCiAJCXN0cnVjdCB3aWQgd2lkOw0KIA0KQEAgLTEzNjIs
OCArMTM0MCw3IEBAIGludCB3aWxjX2FkZF9yeF9ndGsoc3RydWN0IHdpbGNfdmlmICp2aWYsIGNv
bnN0IHU4ICpyeF9ndGssIHU4IGd0a19rZXlfbGVuLA0KIAkJd2lkLnR5cGUgPSBXSURfU1RSOw0K
IAkJd2lkLnNpemUgPSBzaXplb2YoKmd0a19rZXkpICsgdF9rZXlfbGVuOw0KIAkJd2lkLnZhbCA9
ICh1OCAqKWd0a19rZXk7DQotCQlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJ
TENfU0VUX0NGRywgJndpZCwgMSwNCi0JCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7
DQorCQlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndp
ZCwgMSk7DQogCX0NCiANCiAJa2ZyZWUoZ3RrX2tleSk7DQpAQCAtMTM3OSw4ICsxMzU2LDcgQEAg
aW50IHdpbGNfc2V0X3Bta2lkX2luZm8oc3RydWN0IHdpbGNfdmlmICp2aWYsIHN0cnVjdCB3aWxj
X3Bta2lkX2F0dHIgKnBta2lkKQ0KIAl3aWQuc2l6ZSA9IChwbWtpZC0+bnVtcG1raWQgKiBzaXpl
b2Yoc3RydWN0IHdpbGNfcG1raWQpKSArIDE7DQogCXdpZC52YWwgPSAodTggKilwbWtpZDsNCiAN
Ci0JcmV0dXJuIHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAx
LA0KLQkJCQkgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmV0dXJuIHdpbGNfc2VuZF9j
b25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiB9DQogDQogaW50IHdpbGNf
Z2V0X21hY19hZGRyZXNzKHN0cnVjdCB3aWxjX3ZpZiAqdmlmLCB1OCAqbWFjX2FkZHIpDQpAQCAt
MTM5Myw4ICsxMzY5LDcgQEAgaW50IHdpbGNfZ2V0X21hY19hZGRyZXNzKHN0cnVjdCB3aWxjX3Zp
ZiAqdmlmLCB1OCAqbWFjX2FkZHIpDQogCXdpZC5zaXplID0gRVRIX0FMRU47DQogCXdpZC52YWwg
PSBtYWNfYWRkcjsNCiANCi0JcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxD
X0dFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQor
CXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19HRVRfQ0ZHLCAmd2lkLCAx
KTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIGdl
dCBtYWMgYWRkcmVzc1xuIik7DQogDQpAQCAtMTQ0NCw4ICsxNDE5LDcgQEAgaW50IHdpbGNfc2V0
X21hY19jaG5sX251bShzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTggY2hhbm5lbCkNCiAJd2lkLnNp
emUgPSBzaXplb2YoY2hhcik7DQogCXdpZC52YWwgPSAmY2hhbm5lbDsNCiANCi0JcmVzdWx0ID0g
d2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAg
ICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdf
cGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRl
dl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNldCBjaGFubmVsXG4iKTsNCiANCkBAIC0xNDcx
LDggKzE0NDUsNyBAQCBpbnQgd2lsY19zZXRfd2ZpX2Rydl9oYW5kbGVyKHN0cnVjdCB3aWxjX3Zp
ZiAqdmlmLCBpbnQgaW5kZXgsIHU4IG1vZGUsDQogCWRydi5oYW5kbGVyID0gY3B1X3RvX2xlMzIo
aW5kZXgpOw0KIAlkcnYubW9kZSA9IChpZmNfaWQgfCAobW9kZSA8PCAxKSk7DQogDQotCXJlc3Vs
dCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxLA0KLQkJ
CQkgICAgICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwlyZXN1bHQgPSB3aWxjX3NlbmRfY29u
ZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSk7DQogCWlmIChyZXN1bHQpDQogCQlu
ZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxlZCB0byBzZXQgZHJpdmVyIGhhbmRsZXJcbiIpOw0K
IA0KQEAgLTE0OTIsOCArMTQ2NSw3IEBAIGludCB3aWxjX3NldF9vcGVyYXRpb25fbW9kZShzdHJ1
Y3Qgd2lsY192aWYgKnZpZiwgdTMyIG1vZGUpDQogDQogCW9wX21vZGUubW9kZSA9IGNwdV90b19s
ZTMyKG1vZGUpOw0KIA0KLQlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENf
U0VUX0NGRywgJndpZCwgMSwNCi0JCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJ
cmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEp
Ow0KIAlpZiAocmVzdWx0KQ0KIAkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsICJGYWlsZWQgdG8gc2V0
IG9wZXJhdGlvbiBtb2RlXG4iKTsNCiANCkBAIC0xNTEzLDggKzE0ODUsNyBAQCBzMzIgd2lsY19n
ZXRfaW5hY3RpdmVfdGltZShzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgY29uc3QgdTggKm1hYywgdTMy
ICpvdXRfdmFsKQ0KIAkJcmV0dXJuIC1FTk9NRU07DQogDQogCWV0aGVyX2FkZHJfY29weSh3aWQu
dmFsLCBtYWMpOw0KLQlyZXN1bHQgPSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VU
X0NGRywgJndpZCwgMSwNCi0JCQkJICAgICAgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmVz
dWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEpOw0K
IAlrZnJlZSh3aWQudmFsKTsNCiAJaWYgKHJlc3VsdCkgew0KIAkJbmV0ZGV2X2Vycih2aWYtPm5k
ZXYsICJGYWlsZWQgdG8gc2V0IGluYWN0aXZlIG1hY1xuIik7DQpAQCAtMTUyNSw4ICsxNDk2LDcg
QEAgczMyIHdpbGNfZ2V0X2luYWN0aXZlX3RpbWUoc3RydWN0IHdpbGNfdmlmICp2aWYsIGNvbnN0
IHU4ICptYWMsIHUzMiAqb3V0X3ZhbCkNCiAJd2lkLnR5cGUgPSBXSURfSU5UOw0KIAl3aWQudmFs
ID0gKHM4ICopb3V0X3ZhbDsNCiAJd2lkLnNpemUgPSBzaXplb2YodTMyKTsNCi0JcmVzdWx0ID0g
d2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX0dFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAg
ICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdf
cGt0KHZpZiwgV0lMQ19HRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRl
dl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIGdldCBpbmFjdGl2ZSB0aW1lXG4iKTsNCiANCkBA
IC0xNTQ3LDggKzE1MTcsNyBAQCBpbnQgd2lsY19nZXRfcnNzaShzdHJ1Y3Qgd2lsY192aWYgKnZp
ZiwgczggKnJzc2lfbGV2ZWwpDQogCXdpZC50eXBlID0gV0lEX0NIQVI7DQogCXdpZC5zaXplID0g
c2l6ZW9mKGNoYXIpOw0KIAl3aWQudmFsID0gcnNzaV9sZXZlbDsNCi0JcmVzdWx0ID0gd2lsY19z
ZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX0dFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAgIHdp
bGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZp
ZiwgV0lMQ19HRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9lcnIo
dmlmLT5uZGV2LCAiRmFpbGVkIHRvIGdldCBSU1NJIHZhbHVlXG4iKTsNCiANCkBAIC0xNjEwLDgg
KzE1NzksNyBAQCBpbnQgd2lsY19oaWZfc2V0X2NmZyhzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgc3Ry
dWN0IGNmZ19wYXJhbV9hdHRyICpwYXJhbSkNCiAJCWkrKzsNCiAJfQ0KIA0KLQlyZXR1cm4gd2ls
Y19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsIHdpZF9saXN0LA0KLQkJCQkgICAg
aSwgd2lsY19nZXRfdmlmX2lkeCh2aWYpKTsNCisJcmV0dXJuIHdpbGNfc2VuZF9jb25maWdfcGt0
KHZpZiwgV0lMQ19TRVRfQ0ZHLCB3aWRfbGlzdCwgaSk7DQogfQ0KIA0KIHN0YXRpYyB2b2lkIGdl
dF9wZXJpb2RpY19yc3NpKHN0cnVjdCB0aW1lcl9saXN0ICp0KQ0KQEAgLTE4NzYsOCArMTg0NCw3
IEBAIHZvaWQgd2lsY19mcmFtZV9yZWdpc3RlcihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTE2IGZy
YW1lX3R5cGUsIGJvb2wgcmVnKQ0KIAkJYnJlYWs7DQogCX0NCiAJcmVnX2ZyYW1lLmZyYW1lX3R5
cGUgPSBjcHVfdG9fbGUxNihmcmFtZV90eXBlKTsNCi0JcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZp
Z19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAgIHdpbGNfZ2V0X3Zp
Zl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19T
RVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9lcnIodmlmLT5uZGV2
LCAiRmFpbGVkIHRvIGZyYW1lIHJlZ2lzdGVyXG4iKTsNCiB9DQpAQCAtMTkxNCw4ICsxODgxLDcg
QEAgaW50IHdpbGNfYWRkX2JlYWNvbihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTMyIGludGVydmFs
LCB1MzIgZHRpbV9wZXJpb2QsDQogCWlmIChwYXJhbXMtPnRhaWxfbGVuID4gMCkNCiAJCW1lbWNw
eShjdXJfYnl0ZSwgcGFyYW1zLT50YWlsLCBwYXJhbXMtPnRhaWxfbGVuKTsNCiANCi0JcmVzdWx0
ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJ
CSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25m
aWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5l
dGRldl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNlbmQgYWRkIGJlYWNvblxuIik7DQogDQpA
QCAtMTkzNSw4ICsxOTAxLDcgQEAgaW50IHdpbGNfZGVsX2JlYWNvbihzdHJ1Y3Qgd2lsY192aWYg
KnZpZikNCiAJd2lkLnNpemUgPSBzaXplb2YoY2hhcik7DQogCXdpZC52YWwgPSAmZGVsX2JlYWNv
bjsNCiANCi0JcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcs
ICZ3aWQsIDEsDQotCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9
IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYg
KHJlc3VsdCkNCiAJCW5ldGRldl9lcnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNlbmQgZGVsZXRl
IGJlYWNvblxuIik7DQogDQpAQCAtMTk2MCw4ICsxOTI1LDcgQEAgaW50IHdpbGNfYWRkX3N0YXRp
b24oc3RydWN0IHdpbGNfdmlmICp2aWYsIGNvbnN0IHU4ICptYWMsDQogCWN1cl9ieXRlID0gd2lk
LnZhbDsNCiAJd2lsY19oaWZfcGFja19zdGFfcGFyYW0oY3VyX2J5dGUsIG1hYywgcGFyYW1zKTsN
CiANCi0JcmVzdWx0ID0gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3
aWQsIDEsDQotCQkJCSAgICAgIHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdp
bGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJl
c3VsdCAhPSAwKQ0KIAkJbmV0ZGV2X2Vycih2aWYtPm5kZXYsICJGYWlsZWQgdG8gc2VuZCBhZGQg
c3RhdGlvblxuIik7DQogDQpAQCAtMTk4Nyw4ICsxOTUxLDcgQEAgaW50IHdpbGNfZGVsX3N0YXRp
b24oc3RydWN0IHdpbGNfdmlmICp2aWYsIGNvbnN0IHU4ICptYWNfYWRkcikNCiAJZWxzZQ0KIAkJ
ZXRoZXJfYWRkcl9jb3B5KHdpZC52YWwsIG1hY19hZGRyKTsNCiANCi0JcmVzdWx0ID0gd2lsY19z
ZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAgIHdp
bGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZp
ZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9lcnIo
dmlmLT5uZGV2LCAiRmFpbGVkIHRvIGRlbCBzdGF0aW9uXG4iKTsNCiANCkBAIC0yMDIzLDggKzE5
ODYsNyBAQCBpbnQgd2lsY19kZWxfYWxsc3RhdGlvbihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTgg
bWFjX2FkZHJbXVtFVEhfQUxFTl0pDQogCXdpZC5zaXplID0gKGFzc29jX3N0YSAqIEVUSF9BTEVO
KSArIDE7DQogCXdpZC52YWwgPSAodTggKikmZGVsX3N0YTsNCiANCi0JcmVzdWx0ID0gd2lsY19z
ZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAgIHdp
bGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZp
ZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9lcnIo
dmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNlbmQgZGVsZXRlIGFsbCBzdGF0aW9uXG4iKTsNCiANCkBA
IC0yMDQ4LDggKzIwMTAsNyBAQCBpbnQgd2lsY19lZGl0X3N0YXRpb24oc3RydWN0IHdpbGNfdmlm
ICp2aWYsIGNvbnN0IHU4ICptYWMsDQogCWN1cl9ieXRlID0gd2lkLnZhbDsNCiAJd2lsY19oaWZf
cGFja19zdGFfcGFyYW0oY3VyX2J5dGUsIG1hYywgcGFyYW1zKTsNCiANCi0JcmVzdWx0ID0gd2ls
Y19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgICAg
IHdpbGNfZ2V0X3ZpZl9pZHgodmlmKSk7DQorCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0
KHZpZiwgV0lMQ19TRVRfQ0ZHLCAmd2lkLCAxKTsNCiAJaWYgKHJlc3VsdCkNCiAJCW5ldGRldl9l
cnIodmlmLT5uZGV2LCAiRmFpbGVkIHRvIHNlbmQgZWRpdCBzdGF0aW9uXG4iKTsNCiANCkBAIC0y
MDc0LDggKzIwMzUsNyBAQCBpbnQgd2lsY19zZXRfcG93ZXJfbWdtdChzdHJ1Y3Qgd2lsY192aWYg
KnZpZiwgYm9vbCBlbmFibGVkLCB1MzIgdGltZW91dCkNCiAJd2lkLmlkID0gV0lEX1BPV0VSX01B
TkFHRU1FTlQ7DQogCXdpZC52YWwgPSAmcG93ZXJfbW9kZTsNCiAJd2lkLnNpemUgPSBzaXplb2Yo
Y2hhcik7DQotCXJlc3VsdCA9IHdpbGNfc2VuZF9jb25maWdfcGt0KHZpZiwgV0lMQ19TRVRfQ0ZH
LCAmd2lkLCAxLA0KLQkJCQkgICAgICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwlyZXN1bHQg
PSB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJTENfU0VUX0NGRywgJndpZCwgMSk7DQogCWlm
IChyZXN1bHQpDQogCQluZXRkZXZfZXJyKHZpZi0+bmRldiwgIkZhaWxlZCB0byBzZW5kIHBvd2Vy
IG1hbmFnZW1lbnRcbiIpOw0KIA0KQEAgLTIxMTMsOCArMjA3Myw3IEBAIGludCB3aWxjX3NldF90
eF9wb3dlcihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTggdHhfcG93ZXIpDQogCXdpZC52YWwgPSAm
dHhfcG93ZXI7DQogCXdpZC5zaXplID0gc2l6ZW9mKGNoYXIpOw0KIA0KLQlyZXR1cm4gd2lsY19z
ZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX1NFVF9DRkcsICZ3aWQsIDEsDQotCQkJCSAgIHdpbGNf
Z2V0X3ZpZl9pZHgodmlmKSk7DQorCXJldHVybiB3aWxjX3NlbmRfY29uZmlnX3BrdCh2aWYsIFdJ
TENfU0VUX0NGRywgJndpZCwgMSk7DQogfQ0KIA0KIGludCB3aWxjX2dldF90eF9wb3dlcihzdHJ1
Y3Qgd2lsY192aWYgKnZpZiwgdTggKnR4X3Bvd2VyKQ0KQEAgLTIxMjYsNiArMjA4NSw1IEBAIGlu
dCB3aWxjX2dldF90eF9wb3dlcihzdHJ1Y3Qgd2lsY192aWYgKnZpZiwgdTggKnR4X3Bvd2VyKQ0K
IAl3aWQudmFsID0gdHhfcG93ZXI7DQogCXdpZC5zaXplID0gc2l6ZW9mKGNoYXIpOw0KIA0KLQly
ZXR1cm4gd2lsY19zZW5kX2NvbmZpZ19wa3QodmlmLCBXSUxDX0dFVF9DRkcsICZ3aWQsIDEsDQot
CQkJCSAgICB3aWxjX2dldF92aWZfaWR4KHZpZikpOw0KKwlyZXR1cm4gd2lsY19zZW5kX2NvbmZp
Z19wa3QodmlmLCBXSUxDX0dFVF9DRkcsICZ3aWQsIDEpOw0KIH0NCmRpZmYgLS1naXQgYS9kcml2
ZXJzL3N0YWdpbmcvd2lsYzEwMDAvd2lsY193bGFuLmMgYi9kcml2ZXJzL3N0YWdpbmcvd2lsYzEw
MDAvd2lsY193bGFuLmMNCmluZGV4IGJkMmZmYzMuLmQ0Njg3NmUgMTAwNjQ0DQotLS0gYS9kcml2
ZXJzL3N0YWdpbmcvd2lsYzEwMDAvd2lsY193bGFuLmMNCisrKyBiL2RyaXZlcnMvc3RhZ2luZy93
aWxjMTAwMC93aWxjX3dsYW4uYw0KQEAgLTEyMDIsMTAgKzEyMDIsMTEgQEAgaW50IHdpbGNfd2xh
bl9jZmdfZ2V0X3ZhbChzdHJ1Y3Qgd2lsYyAqd2wsIHUxNiB3aWQsIHU4ICpidWZmZXIsIHUzMiBi
dWZmZXJfc2l6ZSkNCiB9DQogDQogaW50IHdpbGNfc2VuZF9jb25maWdfcGt0KHN0cnVjdCB3aWxj
X3ZpZiAqdmlmLCB1OCBtb2RlLCBzdHJ1Y3Qgd2lkICp3aWRzLA0KLQkJCSB1MzIgY291bnQsIHUz
MiBkcnYpDQorCQkJIHUzMiBjb3VudCkNCiB7DQogCWludCBpOw0KIAlpbnQgcmV0ID0gMDsNCisJ
dTMyIGRydiA9IHdpbGNfZ2V0X3ZpZl9pZHgodmlmKTsNCiANCiAJaWYgKG1vZGUgPT0gV0lMQ19H
RVRfQ0ZHKSB7DQogCQlmb3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykgew0KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvc3RhZ2luZy93aWxjMTAwMC93aWxjX3dsYW4uaCBiL2RyaXZlcnMvc3RhZ2luZy93
aWxjMTAwMC93aWxjX3dsYW4uaA0KaW5kZXggM2U1NGE1Ni4uZDJlZWY3YiAxMDA2NDQNCi0tLSBh
L2RyaXZlcnMvc3RhZ2luZy93aWxjMTAwMC93aWxjX3dsYW4uaA0KKysrIGIvZHJpdmVycy9zdGFn
aW5nL3dpbGMxMDAwL3dpbGNfd2xhbi5oDQpAQCAtMzA3LDcgKzMwNyw3IEBAIHZvaWQgaG9zdF9z
bGVlcF9ub3RpZnkoc3RydWN0IHdpbGMgKndpbGMpOw0KIHZvaWQgY2hpcF9hbGxvd19zbGVlcChz
dHJ1Y3Qgd2lsYyAqd2lsYyk7DQogdm9pZCBjaGlwX3dha2V1cChzdHJ1Y3Qgd2lsYyAqd2lsYyk7
DQogaW50IHdpbGNfc2VuZF9jb25maWdfcGt0KHN0cnVjdCB3aWxjX3ZpZiAqdmlmLCB1OCBtb2Rl
LCBzdHJ1Y3Qgd2lkICp3aWRzLA0KLQkJCSB1MzIgY291bnQsIHUzMiBkcnYpOw0KKwkJCSB1MzIg
Y291bnQpOw0KIGludCB3aWxjX3dsYW5faW5pdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KTsNCiB1
MzIgd2lsY19nZXRfY2hpcGlkKHN0cnVjdCB3aWxjICp3aWxjLCBib29sIHVwZGF0ZSk7DQogI2Vu
ZGlmDQotLSANCjIuNy40DQoNCg==
