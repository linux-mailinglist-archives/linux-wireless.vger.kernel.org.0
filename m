Return-Path: <linux-wireless-owner@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id C2327772899
	for <lists+linux-wireless@lfdr.de>; Mon,  7 Aug 2023 17:06:23 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230132AbjHGPGU (ORCPT <rfc822;lists+linux-wireless@lfdr.de>);
        Mon, 7 Aug 2023 11:06:20 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:37268 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229986AbjHGPGO (ORCPT
        <rfc822;linux-wireless@vger.kernel.org>);
        Mon, 7 Aug 2023 11:06:14 -0400
Received: from NAM11-DM6-obe.outbound.protection.outlook.com (mail-dm6nam11on2081.outbound.protection.outlook.com [40.107.223.81])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 46BA910F6;
        Mon,  7 Aug 2023 08:06:13 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ml5IPmXPU/x0fxeOfkqN5XV3LE2vn3V4GawZDCFixg+0c3rGM9w04ZPdNjfkNNwMXPTYGH9pAIlnTy/VAaz/bf2Ehtamj15/KvYyHfdmkOAqRciBCqlDJflAN5BdS9a5VfFUrYgZEzEgd83ZyZHIxA5RiCtBZChGfSgi3TJLlS4JH127urUFr/cmhluShgztFz0q99y+bcLwkNyJX975dGxANyTYEeBv2Fhje997Xavkm3Uee8H5L7ooVyKeOJ2CxyqN/SnPPzG5fzzmwC5nLmZQH8J+5QtgcUGMS4GTWH4sezAkyLKCYc62LjRkW4eS/QfkPNWEHXgxsGA8SXOEJw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=dp9W8JpkBsJI+8roWiTaciR4U5Smckb0Rvxk9abqBoo=;
 b=V0vn/SYIFS1Ro2+E4v54zW+Pgio1dSoJ97w3bL5UCKErKRpQNUVkNE9+ySikwoE+OpIr9BiMg0oHlz/3lECgHi3RA+vC5k9jqIDh113Nw1X1/IymMyyDHmf8zQJVekeMLFIEnCtulZN1CeFQ+8dUgF/EZMFMo9N8XSy+WIRsvzfLp/WgmuGsMBTdqWKfnhIqUm8bTs1immg2sdAYmE07mulOTCmksOlJ+aobM0mq+syCHPbtJ1nVCKYdRvKTIxCTgPt39qsDyJYejbc8m8NpyqFyNq/LhF4bKZGIIUG1dxH2kWRS4Z9xM3KQ5b2Lll9JSvLqiA+HG0lZ5Zov+VkO4w==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=dp9W8JpkBsJI+8roWiTaciR4U5Smckb0Rvxk9abqBoo=;
 b=HM77YneNxRHJVvWdwdO73WZVSAy4WysNB6EFj/q9IF4QrqkCYHguWlggvs2rEmA4Obcfqm15/krNPHW9R8Fdk7TosOZhfH+4niaMaavXQQZbEOlqfOvz4//h1kffzOY7v5TJ9Jg3D7jIE2iyC9tLJpAE9mLSq7XFqaXzY6NRQfA=
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=silabs.com;
Received: from IA1PR11MB7773.namprd11.prod.outlook.com (2603:10b6:208:3f0::21)
 by SN7PR11MB7590.namprd11.prod.outlook.com (2603:10b6:806:348::13) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6652.27; Mon, 7 Aug
 2023 15:06:10 +0000
Received: from IA1PR11MB7773.namprd11.prod.outlook.com
 ([fe80::14b1:be6e:19a3:2eca]) by IA1PR11MB7773.namprd11.prod.outlook.com
 ([fe80::14b1:be6e:19a3:2eca%6]) with mapi id 15.20.6652.026; Mon, 7 Aug 2023
 15:06:09 +0000
From:   =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
To:     Kalle Valo <kvalo@kernel.org>
Cc:     linux-wireless@vger.kernel.org, linux-kernel@vger.kernel.org,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH 7/9] wifi: wfx: allow to send frames during ROC
Date:   Mon,  7 Aug 2023 17:05:40 +0200
Message-Id: <20230807150542.247801-8-jerome.pouiller@silabs.com>
X-Mailer: git-send-email 2.39.2
In-Reply-To: <20230807150542.247801-1-jerome.pouiller@silabs.com>
References: <20230807150542.247801-1-jerome.pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-ClientProxiedBy: PR0P264CA0252.FRAP264.PROD.OUTLOOK.COM (2603:10a6:100::24)
 To IA1PR11MB7773.namprd11.prod.outlook.com (2603:10b6:208:3f0::21)
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: IA1PR11MB7773:EE_|SN7PR11MB7590:EE_
X-MS-Office365-Filtering-Correlation-Id: 3df57d7a-3f72-4bc0-502a-08db9757d525
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: oQMGDUUR9IbmZhkmvvnI3EWmW22Rh67IQUjtE6XW9LBWBuGn9qoYwMBf6+dQaePrqU9aSvfpiOPXx+L7FtQCczgpWEOWfvzO3pGxnVRUA3rMbMrNPO9+Z3qhrdQDfkVwBm/6ctJIV20PR6gArWPSIDYKm8RxfqcYcNC7pzPoMUh8qtJi7NeFLf+8a3tU/9Bw5j70q1fRGjS9kXv6JQRdjCu3NTTOKPHDce3m/Zjnr1vBRDYPzaLzCH8NvnAiyTJmOQCX+9jVtfzGvDGQK6HChtabTc4VvmjsrHzfnfTfNUnMnRk54/n90VnaDEJZr+zXOF+v8JaxmExD1ozFxzgUNGwXKE35X/EgRDf0rdc3TJwGioEuuF2N2pYUr9UCSxPDfD+EG6j2hZGBicoU+gI0OXCeg4fiIXLyeLR59hR2fhpL77SB/RXPCtT2u2IPrpVpd9n7ARBtuktPpw0PohVsZJ0cUoksi3QXIZFI+uuCpCAWgZ9/SWm3NZaG6KI+kTwwwk6ReO8TbBHOYsfYpTCPBugl7LkO9GthdDIi29SR6OUbxXldn1jyOoQZCux4u52Ymavrrpfi3sp/RhgSL+6HZwVwNAF2hGmFM0O3D4/dY84t9d3ymm9wDrVjVZiX3Okj
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:IA1PR11MB7773.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230028)(136003)(39850400004)(376002)(346002)(396003)(366004)(451199021)(1800799003)(186006)(2906002)(4326008)(6916009)(66556008)(66476007)(66946007)(6486002)(52116002)(6666004)(66574015)(83380400001)(5660300002)(41300700001)(8936002)(316002)(8676002)(30864003)(38350700002)(38100700002)(2616005)(478600001)(36756003)(107886003)(26005)(6506007)(1076003)(86362001)(6512007);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: =?utf-8?B?dWFuUjhsT21odTdQOFpZNDM1WVpMZFJZWU5sZXVOR0JKQVZPM01BSHlJRFRG?=
 =?utf-8?B?NzZzSVpXbFNaeTV0SGVxQVVDVHNHNjlBeENUWDBVbGw2YUFINjVXQ0ZRS2Rl?=
 =?utf-8?B?aHg4a1lWZ0tTMkQrdzJseHMwKzVuNUgrcmNpRjJIajdid3duSVR5eXV1dWgv?=
 =?utf-8?B?UnAyc0RpbWsyNXBVbDBlQ016STBBMzRrQnc4dE9IRXdoYVk1U2FCL1BRaW5Z?=
 =?utf-8?B?WkFuV01qQ0RsZVFKR1NjRlFjSmdoMmtKQW1XMFZPRFdENHZydFpVQ1I1WlM2?=
 =?utf-8?B?dHBiNS9qdEtWenVxY2lnVU9kdlhESzhhR25QYmU2QzBiTktIYzdybTRQOFBu?=
 =?utf-8?B?alhxWjU4aE9OWW9PQTR0WFcvUHF4WHpqdjVIWm9aM2tXR2pPNC9JaVcyQ1p4?=
 =?utf-8?B?dCtNbW9ieEpodGlFUUdGQm5RM1VHM3pNaEhVNWtpYkRlamtSenNxTlRFTm9j?=
 =?utf-8?B?UTdZbStVOC9tOXFZMElPWnhzVitucVNTSUwvcHZjVEMvV3BSU2xwMFlDeTFo?=
 =?utf-8?B?aGpSU09ZRWRoSTJZbE5sRCtwMjY4M2pjQVo1dkVmTXEyY05qWU9oNUZQSFNJ?=
 =?utf-8?B?TEFDMTdJbTROdTZEUmljTkJOUlhkYXlnbUI3RkVzUnhRZFZyTGFJdWhHbGFm?=
 =?utf-8?B?Vlo5L1pHQWIxd004RkVVVFpYWVA5VFhDUVhrVUFCVlJicVVIL3J4WmlOUGxs?=
 =?utf-8?B?WmQ2ZnJ2OHFoUWh4VysrOCtzZEpzdndvN2ZHeE9RMlFwM01jd0QxY2FuN0VW?=
 =?utf-8?B?RmhnUWhSR2swNGlEajh0K2dkNFRQOWpTUGJaL3hRcXVLY0ptRmJDbGtmeEVE?=
 =?utf-8?B?MlBYUUt2Wks1SnVFMzdoTXVOTWxUVHlCeTF6UmRYbGpJc2pCUjlnU0drZUdI?=
 =?utf-8?B?bFBsT2phVDNZR01lYitHKzdxT1BkZGY2cCtZbkpaejZrelF6WGNlSXo2V0g5?=
 =?utf-8?B?eVllZmdOb2JTRE1vc01UbHBMRndlbjhvUTZSZ3hBeGhxOTRmbldXNjdQYWxk?=
 =?utf-8?B?RFB5SEJLVHptT2s2TjA1MGJCeGcxalNoN1BrZVFqOWxuUnZjL3FXZWFVSXFZ?=
 =?utf-8?B?QThsRjloVDl4Q2RPWXIydmZHZHJXYUMxRC9ZRVNuRmY2VCtpQ1FKSy9YZmNC?=
 =?utf-8?B?NFNuaHRSU1RIZm1WeFBWeWxGWTRXdG9qbzFQeEZxK0poaHROWFhFZmtaQXFj?=
 =?utf-8?B?QTVzNmFpRDJsQndzYnZiMXFaYWFMR2NlQkRmbFFIbVdGR2hKVmtNbk9VL2NF?=
 =?utf-8?B?M2E0SmNSZWdWSXZ5Y3VSaGpYUGF3NGRPVXNNQVYzTWJvTGdDY0RpRkVLbnl2?=
 =?utf-8?B?d2JqTFNNSFN5c0pwUC9rd3RyZkFGSDYxOHhxNlJzNEd3ZU9BTE1vUnE2UERN?=
 =?utf-8?B?NEVTZTRVREJaNTB4WS9RbFUzNmxkQXJnbUY0TW1YTFFleVFVaDBCdzFwZEc1?=
 =?utf-8?B?SzNsNDh5Wm8xUzZwUlFCdWlnQjgrOTFnS0txbm1UelVnWlF0aG52aW5oMSto?=
 =?utf-8?B?Z1ZBRFBVdEZvekdxbDBZelRGUERnWkVwN2RrRmtsNkFzN2JUc0ltVjd2SWdJ?=
 =?utf-8?B?cmJZN1FiQ1ZnMEo0QVhMVHN3dTVxc3hwaHFPRFZtNkVXMHd4UWdYZ3k1YlMx?=
 =?utf-8?B?ckorcmVPNnY5enBvK0UycEN5SUM5VFlhc24zbWZ3M1k5KzFoN2hZVDJaTGpp?=
 =?utf-8?B?dGVtU3dZeHI3WFc2WDVadGZ1VDJTRGM2bmFDK0JNWW1tR2RRRFhMcnY0ZjRU?=
 =?utf-8?B?bTlCMDVCQUhVUGJqd0VmdTBiSFduN2NmbS90YXBYYmJMampncTI0U1N6eml3?=
 =?utf-8?B?ZUtMVmIxeXJ2dnRDZ3d0cFRnZStlMTZKanh0LytJMldTcVpwQTFEaTEveHJi?=
 =?utf-8?B?a1NyeHRSUUowellzQ1pPUWpxank1MGsycW5Ea2w3ZWZjV0dKUEhIMWZDTnR4?=
 =?utf-8?B?dW1ERGUvTFJnUWJBNVV2V0lubitaSEVpUXJKT3ErSEFMNXVwV1hLb0FMNkUw?=
 =?utf-8?B?T0g4UFRsU3pHV2t5YkN3U05hdW1iYS8rT3hHczBMczUwZ0xBaHlqaXZPUHlQ?=
 =?utf-8?B?b3BlcW5WUXNncTNlWXRvVGlyenNpS3g0Q05YTlh4d1NDT0dJb3JETUJjU2JE?=
 =?utf-8?Q?lS4rYmVXKhk2N6YcOy0uTQkVc?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 3df57d7a-3f72-4bc0-502a-08db9757d525
X-MS-Exchange-CrossTenant-AuthSource: IA1PR11MB7773.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Aug 2023 15:06:09.8545
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: EvZelWq9GO//d4OoOVIiG34b10X8uDvKFpGeWGeymz2IrSi5CAIQ+OPAnGkpRPQafckjytU9o6JKrLeB4Fd+QA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN7PR11MB7590
X-Spam-Status: No, score=-0.9 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,FORGED_SPF_HELO,RCVD_IN_DNSWL_BLOCKED,RCVD_IN_MSPIKE_H2,
        SPF_HELO_PASS,SPF_NONE autolearn=no autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-wireless.vger.kernel.org>
X-Mailing-List: linux-wireless@vger.kernel.org

VW50aWwgbm93LCBhbGwgdGhlIHRyYWZmaWMgd2FzIGJsb2NrZWQgZHVyaW5nIFJlbWFpbiBPbiBD
aGFubmVsIChST0MpLgpUaGlzIHBhdGNoIGFsbG93cyB0byBoYW5kbGUgSUVFRTgwMjExX1RYX0NU
TF9UWF9PRkZDSEFOIGZyYW1lcy4KClRoZXNlIGZyYW1lcyBuZWVkIHRvIGJlIHNlbnQgb24gdGhl
IHZpcnR1YWwgaW50ZXJmYWNlICMyLiBVbnRpbCBub3csCnRoaXMgaW50ZXJmYWNlIHdhcyBvbmx5
IHVzZWQgYnkgdGhlIGRldmljZSBmb3IgaW50ZXJuYWwgcHVycG9zZS4gQnV0CnNpbmNlIEFQSSAz
LjksIGl0IGNhbiBiZSB1c2VkIHRvIHNlbmQgZGF0YSBkdXJpbmcgc2NhbiBvcGVyYXRpb24gKHdl
CmhpamFjayB0aGUgc2NhbiBwcm9jZXNzIHRvIGltcGxlbWVudCBST0MpLgoKVGh1cywgd2UgbmVl
ZCB0byBjaGFuZ2UgYSBiaXQgdGhlIHdheSB3ZSBtYXRjaCB0aGUgZnJhbWVzIHdpdGggdGhlCmlu
dGVyZmFjZS4KCkZvcnR1bmF0ZWx5LCB0aGUgZnJhbWVzIHJlY2VpdmVkIGR1cmluZyB0aGUgc2Nh
biBhcmUgbWFya2VkIHdpdGggdGhlCmNvcnJlY3QgaW50ZXJmYWNlIG51bWJlci4gU28gdGhlcmUg
aXMgbm8gY2hhbmdlIHRvIGRvIG9uIHRoaXMgcGFydC4KClNpZ25lZC1vZmYtYnk6IErDqXLDtG1l
IFBvdWlsbGVyIDxqZXJvbWUucG91aWxsZXJAc2lsYWJzLmNvbT4KLS0tCiBkcml2ZXJzL25ldC93
aXJlbGVzcy9zaWxhYnMvd2Z4L2RhdGFfdHguYyB8IDM2ICsrKysrKysrKysrKysrKy0tLS0tCiBk
cml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2RhdGFfdHguaCB8ICAyICsrCiBkcml2ZXJz
L25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmMgICB8IDQwICsrKysrKysrKysrKysrKysr
KystLS0tCiBkcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmggICB8ICAxICsK
IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93Zngvc2Nhbi5jICAgIHwgIDQgKy0tCiA1IGZp
bGVzIGNoYW5nZWQsIDY2IGluc2VydGlvbnMoKyksIDE3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZGF0YV90eC5jIGIvZHJpdmVycy9u
ZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmMKaW5kZXggY2UyYjVkY2ZkOGQ4OS4uZThi
NmQ0MWY1NTE5NiAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9k
YXRhX3R4LmMKKysrIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmMK
QEAgLTIyNiw2ICsyMjYsMTggQEAgc3RydWN0IHdmeF9oaWZfcmVxX3R4ICp3Znhfc2tiX3R4cmVx
KHN0cnVjdCBza19idWZmICpza2IpCiAJcmV0dXJuIHJlcTsKIH0KIAorc3RydWN0IHdmeF92aWYg
KndmeF9za2Jfd3ZpZihzdHJ1Y3Qgd2Z4X2RldiAqd2Rldiwgc3RydWN0IHNrX2J1ZmYgKnNrYikK
K3sKKwlzdHJ1Y3Qgd2Z4X3R4X3ByaXYgKnR4X3ByaXYgPSB3Znhfc2tiX3R4X3ByaXYoc2tiKTsK
KwlzdHJ1Y3Qgd2Z4X2hpZl9tc2cgKmhpZiA9IChzdHJ1Y3Qgd2Z4X2hpZl9tc2cgKilza2ItPmRh
dGE7CisKKwlpZiAodHhfcHJpdi0+dmlmX2lkICE9IGhpZi0+aW50ZXJmYWNlICYmIGhpZi0+aW50
ZXJmYWNlICE9IDIpIHsKKwkJZGV2X2Vycih3ZGV2LT5kZXYsICJjb3JydXB0ZWQgc2tiIik7CisJ
CXJldHVybiB3ZGV2X3RvX3d2aWYod2RldiwgaGlmLT5pbnRlcmZhY2UpOworCX0KKwlyZXR1cm4g
d2Rldl90b193dmlmKHdkZXYsIHR4X3ByaXYtPnZpZl9pZCk7Cit9CisKIHN0YXRpYyB1OCB3Znhf
dHhfZ2V0X2xpbmtfaWQoc3RydWN0IHdmeF92aWYgKnd2aWYsIHN0cnVjdCBpZWVlODAyMTFfc3Rh
ICpzdGEsCiAJCQkgICAgIHN0cnVjdCBpZWVlODAyMTFfaGRyICpoZHIpCiB7CkBAIC0zNTIsNiAr
MzY0LDcgQEAgc3RhdGljIGludCB3ZnhfdHhfaW5uZXIoc3RydWN0IHdmeF92aWYgKnd2aWYsIHN0
cnVjdCBpZWVlODAyMTFfc3RhICpzdGEsIHN0cnVjdAogCS8qIEZpbGwgdHhfcHJpdiAqLwogCXR4
X3ByaXYgPSAoc3RydWN0IHdmeF90eF9wcml2ICopdHhfaW5mby0+cmF0ZV9kcml2ZXJfZGF0YTsK
IAl0eF9wcml2LT5pY3Zfc2l6ZSA9IHdmeF90eF9nZXRfaWN2X2xlbihod19rZXkpOworCXR4X3By
aXYtPnZpZl9pZCA9IHd2aWYtPmlkOwogCiAJLyogRmlsbCBoaWZfbXNnICovCiAJV0FSTihza2Jf
aGVhZHJvb20oc2tiKSA8IHdtc2dfbGVuLCAibm90IGVub3VnaCBzcGFjZSBpbiBza2IiKTsKQEAg
LTM2Miw3ICszNzUsMTAgQEAgc3RhdGljIGludCB3ZnhfdHhfaW5uZXIoc3RydWN0IHdmeF92aWYg
Knd2aWYsIHN0cnVjdCBpZWVlODAyMTFfc3RhICpzdGEsIHN0cnVjdAogCWhpZl9tc2cgPSAoc3Ry
dWN0IHdmeF9oaWZfbXNnICopc2tiLT5kYXRhOwogCWhpZl9tc2ctPmxlbiA9IGNwdV90b19sZTE2
KHNrYi0+bGVuKTsKIAloaWZfbXNnLT5pZCA9IEhJRl9SRVFfSURfVFg7Ci0JaGlmX21zZy0+aW50
ZXJmYWNlID0gd3ZpZi0+aWQ7CisJaWYgKHR4X2luZm8tPmZsYWdzICYgSUVFRTgwMjExX1RYX0NU
TF9UWF9PRkZDSEFOKQorCQloaWZfbXNnLT5pbnRlcmZhY2UgPSAyOworCWVsc2UKKwkJaGlmX21z
Zy0+aW50ZXJmYWNlID0gd3ZpZi0+aWQ7CiAJaWYgKHNrYi0+bGVuID4gbGUxNl90b19jcHUod3Zp
Zi0+d2Rldi0+aHdfY2Fwcy5zaXplX2lucF9jaF9idWYpKSB7CiAJCWRldl93YXJuKHd2aWYtPndk
ZXYtPmRldiwKIAkJCSAicmVxdWVzdGVkIGZyYW1lIHNpemUgKCVkKSBpcyBsYXJnZXIgdGhhbiBt
YXhpbXVtIHN1cHBvcnRlZCAoJWQpXG4iLApAQCAtMzgzLDkgKzM5OSwxNSBAQCBzdGF0aWMgaW50
IHdmeF90eF9pbm5lcihzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZiwgc3RydWN0IGllZWU4MDIxMV9zdGEg
KnN0YSwgc3RydWN0CiAJcmVxLT5mY19vZmZzZXQgPSBvZmZzZXQ7CiAJLyogUXVldWUgaW5kZXgg
YXJlIGludmVydGVkIGJldHdlZW4gZmlybXdhcmUgYW5kIExpbnV4ICovCiAJcmVxLT5xdWV1ZV9p
ZCA9IDMgLSBxdWV1ZV9pZDsKLQlyZXEtPnBlZXJfc3RhX2lkID0gd2Z4X3R4X2dldF9saW5rX2lk
KHd2aWYsIHN0YSwgaGRyKTsKLQlyZXEtPnJldHJ5X3BvbGljeV9pbmRleCA9IHdmeF90eF9nZXRf
cmV0cnlfcG9saWN5X2lkKHd2aWYsIHR4X2luZm8pOwotCXJlcS0+ZnJhbWVfZm9ybWF0ID0gd2Z4
X3R4X2dldF9mcmFtZV9mb3JtYXQodHhfaW5mbyk7CisJaWYgKHR4X2luZm8tPmZsYWdzICYgSUVF
RTgwMjExX1RYX0NUTF9UWF9PRkZDSEFOKSB7CisJCXJlcS0+cGVlcl9zdGFfaWQgPSBISUZfTElO
S19JRF9OT1RfQVNTT0NJQVRFRDsKKwkJcmVxLT5yZXRyeV9wb2xpY3lfaW5kZXggPSBISUZfVFhf
UkVUUllfUE9MSUNZX0lOVkFMSUQ7CisJCXJlcS0+ZnJhbWVfZm9ybWF0ID0gSElGX0ZSQU1FX0ZP
Uk1BVF9OT05fSFQ7CisJfSBlbHNlIHsKKwkJcmVxLT5wZWVyX3N0YV9pZCA9IHdmeF90eF9nZXRf
bGlua19pZCh3dmlmLCBzdGEsIGhkcik7CisJCXJlcS0+cmV0cnlfcG9saWN5X2luZGV4ID0gd2Z4
X3R4X2dldF9yZXRyeV9wb2xpY3lfaWQod3ZpZiwgdHhfaW5mbyk7CisJCXJlcS0+ZnJhbWVfZm9y
bWF0ID0gd2Z4X3R4X2dldF9mcmFtZV9mb3JtYXQodHhfaW5mbyk7CisJfQogCWlmICh0eF9pbmZv
LT5kcml2ZXJfcmF0ZXNbMF0uZmxhZ3MgJiBJRUVFODAyMTFfVFhfUkNfU0hPUlRfR0kpCiAJCXJl
cS0+c2hvcnRfZ2kgPSAxOwogCWlmICh0eF9pbmZvLT5mbGFncyAmIElFRUU4MDIxMV9UWF9DVExf
U0VORF9BRlRFUl9EVElNKQpAQCAtNTAxLDcgKzUyMyw3IEBAIHZvaWQgd2Z4X3R4X2NvbmZpcm1f
Y2Ioc3RydWN0IHdmeF9kZXYgKndkZXYsIGNvbnN0IHN0cnVjdCB3ZnhfaGlmX2NuZl90eCAqYXJn
KQogCX0KIAl0eF9pbmZvID0gSUVFRTgwMjExX1NLQl9DQihza2IpOwogCXR4X3ByaXYgPSB3Znhf
c2tiX3R4X3ByaXYoc2tiKTsKLQl3dmlmID0gd2Rldl90b193dmlmKHdkZXYsICgoc3RydWN0IHdm
eF9oaWZfbXNnICopc2tiLT5kYXRhKS0+aW50ZXJmYWNlKTsKKwl3dmlmID0gd2Z4X3NrYl93dmlm
KHdkZXYsIHNrYik7CiAJV0FSTl9PTighd3ZpZik7CiAJaWYgKCF3dmlmKQogCQlyZXR1cm47CkBA
IC01NjMsNyArNTg1LDYgQEAgdm9pZCB3ZnhfZmx1c2goc3RydWN0IGllZWU4MDIxMV9odyAqaHcs
IHN0cnVjdCBpZWVlODAyMTFfdmlmICp2aWYsIHUzMiBxdWV1ZXMsIGIKIAlzdHJ1Y3Qgd2Z4X2Rl
diAqd2RldiA9IGh3LT5wcml2OwogCXN0cnVjdCBza19idWZmX2hlYWQgZHJvcHBlZDsKIAlzdHJ1
Y3Qgd2Z4X3ZpZiAqd3ZpZjsKLQlzdHJ1Y3Qgd2Z4X2hpZl9tc2cgKmhpZjsKIAlzdHJ1Y3Qgc2tf
YnVmZiAqc2tiOwogCiAJc2tiX3F1ZXVlX2hlYWRfaW5pdCgmZHJvcHBlZCk7CkBAIC01NzksOCAr
NjAwLDcgQEAgdm9pZCB3ZnhfZmx1c2goc3RydWN0IGllZWU4MDIxMV9odyAqaHcsIHN0cnVjdCBp
ZWVlODAyMTFfdmlmICp2aWYsIHUzMiBxdWV1ZXMsIGIKIAlpZiAod2Rldi0+Y2hpcF9mcm96ZW4p
CiAJCXdmeF9wZW5kaW5nX2Ryb3Aod2RldiwgJmRyb3BwZWQpOwogCXdoaWxlICgoc2tiID0gc2ti
X2RlcXVldWUoJmRyb3BwZWQpKSAhPSBOVUxMKSB7Ci0JCWhpZiA9IChzdHJ1Y3Qgd2Z4X2hpZl9t
c2cgKilza2ItPmRhdGE7Ci0JCXd2aWYgPSB3ZGV2X3RvX3d2aWYod2RldiwgaGlmLT5pbnRlcmZh
Y2UpOworCQl3dmlmID0gd2Z4X3NrYl93dmlmKHdkZXYsIHNrYik7CiAJCWllZWU4MDIxMV90eF9p
bmZvX2NsZWFyX3N0YXR1cyhJRUVFODAyMTFfU0tCX0NCKHNrYikpOwogCQl3Znhfc2tiX2R0b3Io
d3ZpZiwgc2tiKTsKIAl9CmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMv
d2Z4L2RhdGFfdHguaCBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZGF0YV90eC5o
CmluZGV4IGE1YjgwZWFjY2UzOWEuLjA2MjFiODIxMDNiZWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
bmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZGF0YV90eC5oCisrKyBiL2RyaXZlcnMvbmV0L3dpcmVs
ZXNzL3NpbGFicy93ZngvZGF0YV90eC5oCkBAIC0zNiw2ICszNiw3IEBAIHN0cnVjdCB3ZnhfdHhf
cG9saWN5X2NhY2hlIHsKIHN0cnVjdCB3ZnhfdHhfcHJpdiB7CiAJa3RpbWVfdCB4bWl0X3RpbWVz
dGFtcDsKIAl1bnNpZ25lZCBjaGFyIGljdl9zaXplOworCXVuc2lnbmVkIGNoYXIgdmlmX2lkOwog
fTsKIAogdm9pZCB3ZnhfdHhfcG9saWN5X2luaXQoc3RydWN0IHdmeF92aWYgKnd2aWYpOwpAQCAt
NDcsNSArNDgsNiBAQCB2b2lkIHdmeF9mbHVzaChzdHJ1Y3QgaWVlZTgwMjExX2h3ICpodywgc3Ry
dWN0IGllZWU4MDIxMV92aWYgKnZpZiwgdTMyIHF1ZXVlcywgYgogCiBzdHJ1Y3Qgd2Z4X3R4X3By
aXYgKndmeF9za2JfdHhfcHJpdihzdHJ1Y3Qgc2tfYnVmZiAqc2tiKTsKIHN0cnVjdCB3ZnhfaGlm
X3JlcV90eCAqd2Z4X3NrYl90eHJlcShzdHJ1Y3Qgc2tfYnVmZiAqc2tiKTsKK3N0cnVjdCB3Znhf
dmlmICp3Znhfc2tiX3d2aWYoc3RydWN0IHdmeF9kZXYgKndkZXYsIHN0cnVjdCBza19idWZmICpz
a2IpOwogCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93
ZngvcXVldWUuYyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvcXVldWUuYwppbmRl
eCAzN2Y0OTJlNWQzYmVhLi5iNTk3NWQxOGYwOWI0IDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC93
aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmMKKysrIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2ls
YWJzL3dmeC9xdWV1ZS5jCkBAIC02OCwxMyArNjgsMTYgQEAgdm9pZCB3ZnhfdHhfcXVldWVzX2lu
aXQoc3RydWN0IHdmeF92aWYgKnd2aWYpCiAJZm9yIChpID0gMDsgaSA8IElFRUU4MDIxMV9OVU1f
QUNTOyArK2kpIHsKIAkJc2tiX3F1ZXVlX2hlYWRfaW5pdCgmd3ZpZi0+dHhfcXVldWVbaV0ubm9y
bWFsKTsKIAkJc2tiX3F1ZXVlX2hlYWRfaW5pdCgmd3ZpZi0+dHhfcXVldWVbaV0uY2FiKTsKKwkJ
c2tiX3F1ZXVlX2hlYWRfaW5pdCgmd3ZpZi0+dHhfcXVldWVbaV0ub2ZmY2hhbik7CiAJCXd2aWYt
PnR4X3F1ZXVlW2ldLnByaW9yaXR5ID0gcHJpb3JpdGllc1tpXTsKIAl9CiB9CiAKIGJvb2wgd2Z4
X3R4X3F1ZXVlX2VtcHR5KHN0cnVjdCB3ZnhfdmlmICp3dmlmLCBzdHJ1Y3Qgd2Z4X3F1ZXVlICpx
dWV1ZSkKIHsKLQlyZXR1cm4gc2tiX3F1ZXVlX2VtcHR5X2xvY2tsZXNzKCZxdWV1ZS0+bm9ybWFs
KSAmJiBza2JfcXVldWVfZW1wdHlfbG9ja2xlc3MoJnF1ZXVlLT5jYWIpOworCXJldHVybiBza2Jf
cXVldWVfZW1wdHlfbG9ja2xlc3MoJnF1ZXVlLT5ub3JtYWwpICYmCisJICAgICAgIHNrYl9xdWV1
ZV9lbXB0eV9sb2NrbGVzcygmcXVldWUtPmNhYikgJiYKKwkgICAgICAgc2tiX3F1ZXVlX2VtcHR5
X2xvY2tsZXNzKCZxdWV1ZS0+b2ZmY2hhbik7CiB9CiAKIHZvaWQgd2Z4X3R4X3F1ZXVlc19jaGVj
a19lbXB0eShzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZikKQEAgLTEwMyw4ICsxMDYsOSBAQCBzdGF0aWMg
dm9pZCBfX3dmeF90eF9xdWV1ZV9kcm9wKHN0cnVjdCB3ZnhfdmlmICp3dmlmLAogdm9pZCB3Znhf
dHhfcXVldWVfZHJvcChzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZiwgc3RydWN0IHdmeF9xdWV1ZSAqcXVl
dWUsCiAJCSAgICAgICBzdHJ1Y3Qgc2tfYnVmZl9oZWFkICpkcm9wcGVkKQogewotCV9fd2Z4X3R4
X3F1ZXVlX2Ryb3Aod3ZpZiwgJnF1ZXVlLT5jYWIsIGRyb3BwZWQpOwogCV9fd2Z4X3R4X3F1ZXVl
X2Ryb3Aod3ZpZiwgJnF1ZXVlLT5ub3JtYWwsIGRyb3BwZWQpOworCV9fd2Z4X3R4X3F1ZXVlX2Ry
b3Aod3ZpZiwgJnF1ZXVlLT5jYWIsIGRyb3BwZWQpOworCV9fd2Z4X3R4X3F1ZXVlX2Ryb3Aod3Zp
ZiwgJnF1ZXVlLT5vZmZjaGFuLCBkcm9wcGVkKTsKIAl3YWtlX3VwKCZ3dmlmLT53ZGV2LT50eF9k
ZXF1ZXVlKTsKIH0KIApAQCAtMTEzLDcgKzExNyw5IEBAIHZvaWQgd2Z4X3R4X3F1ZXVlc19wdXQo
c3RydWN0IHdmeF92aWYgKnd2aWYsIHN0cnVjdCBza19idWZmICpza2IpCiAJc3RydWN0IHdmeF9x
dWV1ZSAqcXVldWUgPSAmd3ZpZi0+dHhfcXVldWVbc2tiX2dldF9xdWV1ZV9tYXBwaW5nKHNrYild
OwogCXN0cnVjdCBpZWVlODAyMTFfdHhfaW5mbyAqdHhfaW5mbyA9IElFRUU4MDIxMV9TS0JfQ0Io
c2tiKTsKIAotCWlmICh0eF9pbmZvLT5mbGFncyAmIElFRUU4MDIxMV9UWF9DVExfU0VORF9BRlRF
Ul9EVElNKQorCWlmICh0eF9pbmZvLT5mbGFncyAmIElFRUU4MDIxMV9UWF9DVExfVFhfT0ZGQ0hB
TikKKwkJc2tiX3F1ZXVlX3RhaWwoJnF1ZXVlLT5vZmZjaGFuLCBza2IpOworCWVsc2UgaWYgKHR4
X2luZm8tPmZsYWdzICYgSUVFRTgwMjExX1RYX0NUTF9TRU5EX0FGVEVSX0RUSU0pCiAJCXNrYl9x
dWV1ZV90YWlsKCZxdWV1ZS0+Y2FiLCBza2IpOwogCWVsc2UKIAkJc2tiX3F1ZXVlX3RhaWwoJnF1
ZXVlLT5ub3JtYWwsIHNrYik7CkBAIC0xMjMsMTMgKzEyOSwxMSBAQCB2b2lkIHdmeF9wZW5kaW5n
X2Ryb3Aoc3RydWN0IHdmeF9kZXYgKndkZXYsIHN0cnVjdCBza19idWZmX2hlYWQgKmRyb3BwZWQp
CiB7CiAJc3RydWN0IHdmeF9xdWV1ZSAqcXVldWU7CiAJc3RydWN0IHdmeF92aWYgKnd2aWY7Ci0J
c3RydWN0IHdmeF9oaWZfbXNnICpoaWY7CiAJc3RydWN0IHNrX2J1ZmYgKnNrYjsKIAogCVdBUk4o
IXdkZXYtPmNoaXBfZnJvemVuLCAiJXMgc2hvdWxkIG9ubHkgYmUgdXNlZCB0byByZWNvdmVyIGEg
ZnJvemVuIGRldmljZSIsIF9fZnVuY19fKTsKIAl3aGlsZSAoKHNrYiA9IHNrYl9kZXF1ZXVlKCZ3
ZGV2LT50eF9wZW5kaW5nKSkgIT0gTlVMTCkgewotCQloaWYgPSAoc3RydWN0IHdmeF9oaWZfbXNn
ICopc2tiLT5kYXRhOwotCQl3dmlmID0gd2Rldl90b193dmlmKHdkZXYsIGhpZi0+aW50ZXJmYWNl
KTsKKwkJd3ZpZiA9IHdmeF9za2Jfd3ZpZih3ZGV2LCBza2IpOwogCQlpZiAod3ZpZikgewogCQkJ
cXVldWUgPSAmd3ZpZi0+dHhfcXVldWVbc2tiX2dldF9xdWV1ZV9tYXBwaW5nKHNrYildOwogCQkJ
V0FSTl9PTihza2JfZ2V0X3F1ZXVlX21hcHBpbmcoc2tiKSA+IDMpOwpAQCAtMTU1LDcgKzE1OSw3
IEBAIHN0cnVjdCBza19idWZmICp3ZnhfcGVuZGluZ19nZXQoc3RydWN0IHdmeF9kZXYgKndkZXYs
IHUzMiBwYWNrZXRfaWQpCiAJCWlmIChyZXEtPnBhY2tldF9pZCAhPSBwYWNrZXRfaWQpCiAJCQlj
b250aW51ZTsKIAkJc3Bpbl91bmxvY2tfYmgoJndkZXYtPnR4X3BlbmRpbmcubG9jayk7Ci0JCXd2
aWYgPSB3ZGV2X3RvX3d2aWYod2RldiwgaGlmLT5pbnRlcmZhY2UpOworCQl3dmlmID0gd2Z4X3Nr
Yl93dmlmKHdkZXYsIHNrYik7CiAJCWlmICh3dmlmKSB7CiAJCQlxdWV1ZSA9ICZ3dmlmLT50eF9x
dWV1ZVtza2JfZ2V0X3F1ZXVlX21hcHBpbmcoc2tiKV07CiAJCQlXQVJOX09OKHNrYl9nZXRfcXVl
dWVfbWFwcGluZyhza2IpID4gMyk7CkBAIC0yNDYsNiArMjUwLDI4IEBAIHN0YXRpYyBzdHJ1Y3Qg
c2tfYnVmZiAqd2Z4X3R4X3F1ZXVlc19nZXRfc2tiKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2KQogCQl9
CiAJfQogCisJd3ZpZiA9IE5VTEw7CisJd2hpbGUgKCh3dmlmID0gd3ZpZl9pdGVyYXRlKHdkZXYs
IHd2aWYpKSAhPSBOVUxMKSB7CisJCWZvciAoaSA9IDA7IGkgPCBudW1fcXVldWVzOyBpKyspIHsK
KwkJCXNrYiA9IHNrYl9kZXF1ZXVlKCZxdWV1ZXNbaV0tPm9mZmNoYW4pOworCQkJaWYgKCFza2Ip
CisJCQkJY29udGludWU7CisJCQloaWYgPSAoc3RydWN0IHdmeF9oaWZfbXNnICopc2tiLT5kYXRh
OworCQkJLyogT2ZmY2hhbiBmcmFtZXMgYXJlIGFzc2lnbmVkIHRvIGEgc3BlY2lhbCBpbnRlcmZh
Y2UuCisJCQkgKiBUaGUgb25seSBpbnRlcmZhY2UgYWxsb3dlZCB0byBzZW5kIGRhdGEgZHVyaW5n
IHNjYW4uCisJCQkgKi8KKwkJCVdBUk5fT04oaGlmLT5pbnRlcmZhY2UgIT0gMik7CisJCQlhdG9t
aWNfaW5jKCZxdWV1ZXNbaV0tPnBlbmRpbmdfZnJhbWVzKTsKKwkJCXRyYWNlX3F1ZXVlc19zdGF0
cyh3ZGV2LCBxdWV1ZXNbaV0pOworCQkJcmV0dXJuIHNrYjsKKwkJfQorCX0KKworCXd2aWYgPSBO
VUxMOworCXdoaWxlICgod3ZpZiA9IHd2aWZfaXRlcmF0ZSh3ZGV2LCB3dmlmKSkgIT0gTlVMTCkK
KwkJaWYgKG11dGV4X2lzX2xvY2tlZCgmd3ZpZi0+c2Nhbl9sb2NrKSkKKwkJCXJldHVybiBOVUxM
OworCiAJd3ZpZiA9IE5VTEw7CiAJd2hpbGUgKCh3dmlmID0gd3ZpZl9pdGVyYXRlKHdkZXYsIHd2
aWYpKSAhPSBOVUxMKSB7CiAJCWlmICghd3ZpZi0+YWZ0ZXJfZHRpbV90eF9hbGxvd2VkKQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9xdWV1ZS5oIGIvZHJpdmVy
cy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9xdWV1ZS5oCmluZGV4IDQ3MzFkZWJjYTkzZDIuLjY4
NTdmYmQ2MGZiYWQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93Zngv
cXVldWUuaAorKysgYi9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmgKQEAg
LTE3LDYgKzE3LDcgQEAgc3RydWN0IHdmeF92aWY7CiBzdHJ1Y3Qgd2Z4X3F1ZXVlIHsKIAlzdHJ1
Y3Qgc2tfYnVmZl9oZWFkIG5vcm1hbDsKIAlzdHJ1Y3Qgc2tfYnVmZl9oZWFkIGNhYjsgLyogQ29u
dGVudCBBZnRlciAoRFRJTSkgQmVhY29uICovCisJc3RydWN0IHNrX2J1ZmZfaGVhZCBvZmZjaGFu
OwogCWF0b21pY190ICAgICAgICAgICAgcGVuZGluZ19mcmFtZXM7CiAJaW50ICAgICAgICAgICAg
ICAgICBwcmlvcml0eTsKIH07CmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxh
YnMvd2Z4L3NjYW4uYyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93Zngvc2Nhbi5jCmlu
ZGV4IDU3YTJkNjNkZDJhNjIuLjgxN2VlYjNhYThiZmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0
L3dpcmVsZXNzL3NpbGFicy93Zngvc2Nhbi5jCisrKyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3Np
bGFicy93Zngvc2Nhbi5jCkBAIC0xNjAsNyArMTYwLDcgQEAgdm9pZCB3ZnhfcmVtYWluX29uX2No
YW5uZWxfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCiAJCWRldl9pbmZvKHd2aWYtPndk
ZXYtPmRldiwgImFib3J0IGluLXByb2dyZXNzIFJFUV9KT0lOIik7CiAJCXdmeF9yZXNldCh3dmlm
KTsKIAl9Ci0Jd2Z4X3R4X2xvY2tfZmx1c2god3ZpZi0+d2Rldik7CisJd2Z4X3R4X2ZsdXNoKHd2
aWYtPndkZXYpOwogCiAJcmVpbml0X2NvbXBsZXRpb24oJnd2aWYtPnNjYW5fY29tcGxldGUpOwog
CXJldCA9IHdmeF9oaWZfc2Nhbl91bmlxKHd2aWYsIGNoYW4sIGR1cmF0aW9uKTsKQEAgLTE3OCw5
ICsxNzgsOSBAQCB2b2lkIHdmeF9yZW1haW5fb25fY2hhbm5lbF93b3JrKHN0cnVjdCB3b3JrX3N0
cnVjdCAqd29yaykKIAkJZGV2X2Vycih3dmlmLT53ZGV2LT5kZXYsICJyb2MgZGlkbid0IHN0b3Bc
biIpOwogCWllZWU4MDIxMV9yZW1haW5fb25fY2hhbm5lbF9leHBpcmVkKHd2aWYtPndkZXYtPmh3
KTsKIGVuZDoKLQl3ZnhfdHhfdW5sb2NrKHd2aWYtPndkZXYpOwogCW11dGV4X3VubG9jaygmd3Zp
Zi0+c2Nhbl9sb2NrKTsKIAltdXRleF91bmxvY2soJnd2aWYtPndkZXYtPmNvbmZfbXV0ZXgpOwor
CXdmeF9iaF9yZXF1ZXN0X3R4KHd2aWYtPndkZXYpOwogfQogCiBpbnQgd2Z4X3JlbWFpbl9vbl9j
aGFubmVsKHN0cnVjdCBpZWVlODAyMTFfaHcgKmh3LCBzdHJ1Y3QgaWVlZTgwMjExX3ZpZiAqdmlm
LAotLSAKMi4zOS4yCgo=
