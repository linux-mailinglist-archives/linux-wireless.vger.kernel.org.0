Return-Path: <linux-wireless-owner@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id D707012220D
	for <lists+linux-wireless@lfdr.de>; Tue, 17 Dec 2019 03:39:25 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726616AbfLQCjZ (ORCPT <rfc822;lists+linux-wireless@lfdr.de>);
        Mon, 16 Dec 2019 21:39:25 -0500
Received: from rtits2.realtek.com ([211.75.126.72]:39985 "EHLO
        rtits2.realtek.com.tw" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726448AbfLQCjY (ORCPT
        <rfc822;linux-wireless@vger.kernel.org>);
        Mon, 16 Dec 2019 21:39:24 -0500
Authenticated-By: 
X-SpamFilter-By: BOX Solutions SpamTrap 5.62 with qID xBH2dE69028213, This message is accepted by code: ctloc85258
Received: from mail.realtek.com (RTITCAS11.realtek.com.tw[172.21.6.12])
        by rtits2.realtek.com.tw (8.15.2/2.57/5.78) with ESMTPS id xBH2dE69028213
        (version=TLSv1.2 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
        Tue, 17 Dec 2019 10:39:14 +0800
Received: from RTEXMB03.realtek.com.tw (172.21.6.96) by
 RTITCAS11.realtek.com.tw (172.21.6.12) with Microsoft SMTP Server (TLS) id
 14.3.468.0; Tue, 17 Dec 2019 10:39:14 +0800
Received: from RTEXMB04.realtek.com.tw (172.21.6.97) by
 RTEXMB03.realtek.com.tw (172.21.6.96) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.1.1779.2; Tue, 17 Dec 2019 10:39:13 +0800
Received: from RTEXMB04.realtek.com.tw ([fe80::d9c5:a079:495e:b999]) by
 RTEXMB04.realtek.com.tw ([fe80::d9c5:a079:495e:b999%6]) with mapi id
 15.01.1779.005; Tue, 17 Dec 2019 10:39:13 +0800
From:   Tony Chuang <yhchuang@realtek.com>
To:     Chris Chiu <chiu@endlessm.com>
CC:     Kalle Valo <kvalo@codeaurora.org>,
        linux-wireless <linux-wireless@vger.kernel.org>,
        Brian Norris <briannorris@chromium.org>
Subject: RE: [PATCH v2 4/6] rtw88: support wowlan feature for 8822c
Thread-Topic: [PATCH v2 4/6] rtw88: support wowlan feature for 8822c
Thread-Index: AQHVrmFkJFYPZDyH5U2k5G388E4jeqe791+AgAGxJ6A=
Date:   Tue, 17 Dec 2019 02:39:13 +0000
Message-ID: <b7e8ec12a0824578a95d5160e83c7889@realtek.com>
References: <20191209072139.26068-1-yhchuang@realtek.com>
 <20191209072139.26068-5-yhchuang@realtek.com>
 <CAB4CAwdGJPNJRPfsvCKEGLqFGfQT2eBWXY3YCxSWJkN-1NwGrA@mail.gmail.com>
In-Reply-To: <CAB4CAwdGJPNJRPfsvCKEGLqFGfQT2eBWXY3YCxSWJkN-1NwGrA@mail.gmail.com>
Accept-Language: zh-TW, en-US
Content-Language: zh-TW
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [172.21.68.183]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: linux-wireless-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-wireless.vger.kernel.org>
X-Mailing-List: linux-wireless@vger.kernel.org

RnJvbTogQ2hyaXMgQ2hpdQ0KPiBPbiBNb24sIERlYyA5LCAyMDE5IGF0IDM6MjEgUE0gPHloY2h1
YW5nQHJlYWx0ZWsuY29tPiB3cm90ZToNCj4gPg0KPiA+IEZyb206IENoaW4tWWVuIExlZSA8dGlt
bGVlQHJlYWx0ZWsuY29tPg0KPiA+DQo+ID4gV2FrZSBvbiBXTEFOKHdvd2xhbikgaXMgYSBmZWF0
dXJlIHdoaWNoIGFsbG93cyBkZXZpY2VzDQo+ID4gdG8gYmUgd29rZW4gdXAgZnJvbSBzdXNwZW5k
IHN0YXRlIHRocm91Z2ggd2xhbiBldmVudHMuDQo+ID4NCj4gPiBXaGVuIHVzZXIgZW5hYmxlcyB3
b3dsYW4gZmVhdHVyZSBhbmQgdGhlbiBsZXQgdGhlIGRldmljZQ0KPiA+IGVudGVyIHN1c3BlbmQg
c3RhdGUsIHdvd2xhbiBmaXJtd2FyZSB3aWxsIGJlIGxvYWRlZCBieQ0KPiA+IHRoZSBkcml2ZXIg
YW5kIHBlcmlvZGljYWxseSBtb25pdG9ycyB3aWZpIHBhY2tldHMuDQo+ID4gUG93ZXIgY29uc3Vt
cHRpb24gb2Ygd2lmaSBjaGlwIHdpbGwgYmUgcmVkdWNlZCBpbiB0aGlzDQo+ID4gc3RhdGUuDQo+
ID4NCj4gPiBJZiB3b3dsYW4gZmlybXdhcmUgZGV0ZWN0cyB0aGF0IHNwZWNpZmljIHdsYW4gZXZl
bnQNCj4gPiBoYXBwZW5zLCBpdCB3aWxsIGlzc3VlIHdha2V1cCBzaWduYWwgdG8gdHJpZ2dlciBy
ZXN1bWUNCj4gPiBwcm9jZXNzLiBEcml2ZXIgd2lsbCBsb2FkIG5vcm1hbCBmaXJtd2FyZSBhbmQg
bGV0IHdpZmkNCj4gPiBjaGlwIHJldHVybiB0byB0aGUgb3JpZ2luYWwgc3RhdGUuDQo+ID4NCj4g
PiBDdXJyZW50bHkgc3VwcG9ydGVkIHdsYW4gZXZlbnRzIGluY2x1ZGUgcmVjZWl2aW5nIG1hZ2lj
IHBhY2tldCwNCj4gPiByZWtleSBwYWNrZXQgYW5kIGRlYXV0aCBwYWNrZXQsIGFuZCBkaXNjb25u
ZWN0aW5nIGZyb20gQVAuDQo+ID4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBDaGluLVllbiBMZWUgPHRp
bWxlZUByZWFsdGVrLmNvbT4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBZYW4tSHN1YW4gQ2h1YW5nIDx5
aGNodWFuZ0ByZWFsdGVrLmNvbT4NCj4gPiAtLS0NCj4gPg0KPiA+IHYxIC0+IHYyDQo+ID4gICog
bm8gY2hhbmdlDQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3MvcmVh
bHRlay9ydHc4OC93b3cuYw0KPiBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3JlYWx0ZWsvcnR3ODgv
d293LmMNCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiA+IGluZGV4IDAwMDAwMDAwMDAwMC4u
ZTE2NTdkM2NiNjE1DQo+ID4gLS0tIC9kZXYvbnVsbA0KPiA+ICsrKyBiL2RyaXZlcnMvbmV0L3dp
cmVsZXNzL3JlYWx0ZWsvcnR3ODgvd293LmMNCj4gPiBAQCAtMCwwICsxLDUzMSBAQA0KPiA+ICsv
LyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCBPUiBCU0QtMy1DbGF1c2UNCj4gPiAr
LyogQ29weXJpZ2h0KGMpIDIwMTgtMjAxOSAgUmVhbHRlayBDb3Jwb3JhdGlvbg0KPiA+ICsgKi8N
Cj4gPiArDQo+ID4gKyNpbmNsdWRlICJtYWluLmgiDQo+ID4gKyNpbmNsdWRlICJmdy5oIg0KPiA+
ICsjaW5jbHVkZSAid293LmgiDQo+ID4gKyNpbmNsdWRlICJyZWcuaCINCj4gPiArI2luY2x1ZGUg
ImRlYnVnLmgiDQo+ID4gKyNpbmNsdWRlICJtYWMuaCINCj4gPiArI2luY2x1ZGUgInBzLmgiDQo+
ID4gKw0KPiA+ICtzdGF0aWMgdm9pZCBydHdfd293X3Nob3dfd2FrZXVwX3JlYXNvbihzdHJ1Y3Qg
cnR3X2RldiAqcnR3ZGV2KQ0KPiA+ICt7DQo+ID4gKyAgICAgICB1OCByZWFzb247DQo+ID4gKw0K
PiA+ICsgICAgICAgcmVhc29uID0gcnR3X3JlYWQ4KHJ0d2RldiwgUkVHX1dPV0xBTl9XQUtFX1JF
QVNPTik7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKHJlYXNvbiA9PSBSVFdfV09XX1JTTl9SWF9E
RUFVVEgpDQo+ID4gKyAgICAgICAgICAgICAgIHJ0d19kYmcocnR3ZGV2LCBSVFdfREJHX1dPVywg
IldPVzogUngNCj4gZGVhdXRoXG4iKTsNCj4gPiArICAgICAgIGVsc2UgaWYgKHJlYXNvbiA9PSBS
VFdfV09XX1JTTl9ESVNDT05ORUNUKQ0KPiA+ICsgICAgICAgICAgICAgICBydHdfZGJnKHJ0d2Rl
diwgUlRXX0RCR19XT1csICJXT1c6IEFQIGlzDQo+IG9mZlxuIik7DQo+ID4gKyAgICAgICBlbHNl
IGlmIChyZWFzb24gPT0gUlRXX1dPV19SU05fUlhfTUFHSUNfUEtUKQ0KPiA+ICsgICAgICAgICAg
ICAgICBydHdfZGJnKHJ0d2RldiwgUlRXX0RCR19XT1csICJXT1c6IFJ4IG1hZ2ljDQo+IHBhY2tl
dFxuIik7DQo+ID4gKyAgICAgICBlbHNlIGlmIChyZWFzb24gPT0gUlRXX1dPV19SU05fUlhfR1RL
X1JFS0VZKQ0KPiA+ICsgICAgICAgICAgICAgICBydHdfZGJnKHJ0d2RldiwgUlRXX0RCR19XT1cs
ICJXT1c6IFJ4IGd0aw0KPiByZWtleVxuIik7DQo+ID4gKyAgICAgICBlbHNlIGlmIChyZWFzb24g
PT0gUlRXX1dPV19SU05fUlhfUFRLX1JFS0VZKQ0KPiA+ICsgICAgICAgICAgICAgICBydHdfZGJn
KHJ0d2RldiwgUlRXX0RCR19XT1csICJXT1c6IFJ4IHB0aw0KPiByZWtleVxuIik7DQo+ID4gKyAg
ICAgICBlbHNlDQo+ID4gKyAgICAgICAgICAgICAgIHJ0d193YXJuKHJ0d2RldiwgIlVua25vd24g
d2FrZXVwIHJlYXNvbiAleFxuIiwNCj4gcmVhc29uKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3Rh
dGljIHZvaWQgcnR3X3dvd19iYl9zdG9wKHN0cnVjdCBydHdfZGV2ICpydHdkZXYpDQo+ID4gK3sN
Cj4gPiArICAgICAgIHN0cnVjdCBydHdfd293X3BhcmFtICpydHdfd293ID0gJnJ0d2Rldi0+d293
Ow0KPiA+ICsNCj4gPiArICAgICAgIC8qIHdhaXQgMTAwbXMgZm9yIGZpcm13YXJlIHRvIGZpbmlz
aCBUWCAqLw0KPiA+ICsgICAgICAgbXNsZWVwKDEwMCk7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYg
KCFydHdfcmVhZDMyX21hc2socnR3ZGV2LCBSRUdfQkNOUV9JTkZPLA0KPiBCSVRfTUdRX0NQVV9F
TVBUWSkpDQo+ID4gKyAgICAgICAgICAgICAgIHJ0d193YXJuKHJ0d2RldiwgIldyb25nIHN0YXR1
cyBvZiBNR1FfQ1BVDQo+IGVtcHR5IVxuIik7DQo+ID4gKw0KPiA+ICsgICAgICAgcnR3X3dvdy0+
dHhwYXVzZSA9IHJ0d19yZWFkOChydHdkZXYsIFJFR19UWFBBVVNFKTsNCj4gPiArICAgICAgIHJ0
d193cml0ZTgocnR3ZGV2LCBSRUdfVFhQQVVTRSwgMHhmZik7DQo+ID4gKyAgICAgICBydHdfd3Jp
dGU4X2NscihydHdkZXYsIFJFR19TWVNfRlVOQ19FTiwgQklUX0ZFTl9CQl9SU1RCKTsNCj4gPiAr
fQ0KPiA+ICsNCj4gPiArc3RhdGljIHZvaWQgcnR3X3dvd19iYl9zdGFydChzdHJ1Y3QgcnR3X2Rl
diAqcnR3ZGV2KQ0KPiA+ICt7DQo+ID4gKyAgICAgICBzdHJ1Y3QgcnR3X3dvd19wYXJhbSAqcnR3
X3dvdyA9ICZydHdkZXYtPndvdzsNCj4gPiArDQo+ID4gKyAgICAgICBydHdfd3JpdGU4X3NldChy
dHdkZXYsIFJFR19TWVNfRlVOQ19FTiwgQklUX0ZFTl9CQl9SU1RCKTsNCj4gPiArICAgICAgIHJ0
d193cml0ZTgocnR3ZGV2LCBSRUdfVFhQQVVTRSwgcnR3X3dvdy0+dHhwYXVzZSk7DQo+ID4gK30N
Cj4gPiArDQo+ID4gK3N0YXRpYyB2b2lkIHJ0d193b3dfcnhfZG1hX3N0b3Aoc3RydWN0IHJ0d19k
ZXYgKnJ0d2RldikNCj4gPiArew0KPiA+ICsgICAgICAgLyogd2FpdCAxMDBtcyBmb3IgSFcgdG8g
ZmluaXNoIHJ4IGRtYSAqLw0KPiA+ICsgICAgICAgbXNsZWVwKDEwMCk7DQo+ID4gKw0KPiA+ICsg
ICAgICAgcnR3X3dyaXRlMzJfc2V0KHJ0d2RldiwgUkVHX1JYUEtUX05VTSwgQklUX1JXX1JFTEVB
U0UpOw0KPiA+ICsNCj4gPiArICAgICAgIGlmICghY2hlY2tfaHdfcmVhZHkocnR3ZGV2LCBSRUdf
UlhQS1RfTlVNLA0KPiBCSVRfUlhETUFfSURMRSwgMSkpDQo+ID4gKyAgICAgICAgICAgICAgIHJ0
d19lcnIocnR3ZGV2LCAiZmFpbGVkIHRvIHN0b3AgcnggZG1hXG4iKTsNCj4gPiArfQ0KPiA+ICsN
Cj4gPiArc3RhdGljIHZvaWQgcnR3X3dvd19yeF9kbWFfc3RhcnQoc3RydWN0IHJ0d19kZXYgKnJ0
d2RldikNCj4gPiArew0KPiA+ICsgICAgICAgcnR3X3dyaXRlMzJfY2xyKHJ0d2RldiwgUkVHX1JY
UEtUX05VTSwgQklUX1JXX1JFTEVBU0UpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgYm9v
bCBydHdfd293X2NoZWNrX2Z3X3N0YXR1cyhzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2LCBib29sDQo+
IHdvd19lbmFibGUpDQo+ID4gK3sNCj4gPiArICAgICAgIGJvb2wgcmV0Ow0KPiA+ICsNCj4gPiAr
ICAgICAgIC8qIHdhaXQgMTAwbXMgZm9yIHdvdyBmaXJtd2FyZSB0byBmaW5pc2ggd29yayAqLw0K
PiA+ICsgICAgICAgbXNsZWVwKDEwMCk7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKHdvd19lbmFi
bGUpIHsNCj4gPiArICAgICAgICAgICAgICAgaWYgKCFydHdfcmVhZDgocnR3ZGV2LA0KPiBSRUdf
V09XTEFOX1dBS0VfUkVBU09OKSkNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAw
Ow0KPiA+ICsgICAgICAgfSBlbHNlIHsNCj4gPiArICAgICAgICAgICAgICAgaWYgKHJ0d19yZWFk
MzJfbWFzayhydHdkZXYsIFJFR19GRTFJTVIsDQo+IEJJVF9GU19SWERPTkUpID09IDAgJiYNCj4g
PiArICAgICAgICAgICAgICAgICAgIHJ0d19yZWFkMzJfbWFzayhydHdkZXYsIFJFR19SWFBLVF9O
VU0sDQo+IEJJVF9SV19SRUxFQVNFKSA9PSAwKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IHJldCA9IDA7DQo+ID4gKyAgICAgICB9DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKHJldCkNCj4g
PiArICAgICAgICAgICAgICAgcnR3X2VycihydHdkZXYsICJmYWlsZWQgdG8gY2hlY2sgd293IHN0
YXR1cyAlc1xuIiwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICB3b3dfZW5hYmxlID8gImVu
YWJsZWQiIDogImRpc2FibGVkIik7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIHJldDsNCj4g
PiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHZvaWQgcnR3X3dvd19md19zZWN1cml0eV90eXBlX2l0
ZXIoc3RydWN0IGllZWU4MDIxMV9odyAqaHcsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IGllZWU4MDIxMV92aWYNCj4gKnZpZiwNCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaWVlZTgwMjExX3N0
YQ0KPiAqc3RhLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdA0KPiBpZWVlODAyMTFfa2V5X2NvbmYgKmtleSwNCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpkYXRhKQ0KPiA+ICt7DQo+ID4gKyAgICAg
ICBzdHJ1Y3QgcnR3X2Z3X2tleV90eXBlX2l0ZXJfZGF0YSAqaXRlcl9kYXRhID0gZGF0YTsNCj4g
PiArICAgICAgIHN0cnVjdCBydHdfZGV2ICpydHdkZXYgPSBody0+cHJpdjsNCj4gPiArICAgICAg
IHU4IGh3X2tleV90eXBlOw0KPiA+ICsNCj4gPiArICAgICAgIGlmICh2aWYgIT0gcnR3ZGV2LT53
b3cud293X3ZpZikNCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuOw0KPiA+ICsNCj4gPiArICAg
ICAgIHN3aXRjaCAoa2V5LT5jaXBoZXIpIHsNCj4gPiArICAgICAgIGNhc2UgV0xBTl9DSVBIRVJf
U1VJVEVfV0VQNDA6DQo+ID4gKyAgICAgICAgICAgICAgIGh3X2tleV90eXBlID0gUlRXX0NBTV9X
RVA0MDsNCj4gPiArICAgICAgICAgICAgICAgYnJlYWs7DQo+ID4gKyAgICAgICBjYXNlIFdMQU5f
Q0lQSEVSX1NVSVRFX1dFUDEwNDoNCj4gPiArICAgICAgICAgICAgICAgaHdfa2V5X3R5cGUgPSBS
VFdfQ0FNX1dFUDEwNDsNCj4gPiArICAgICAgICAgICAgICAgYnJlYWs7DQo+ID4gKyAgICAgICBj
YXNlIFdMQU5fQ0lQSEVSX1NVSVRFX1RLSVA6DQo+ID4gKyAgICAgICAgICAgICAgIGh3X2tleV90
eXBlID0gUlRXX0NBTV9US0lQOw0KPiA+ICsgICAgICAgICAgICAgICBrZXktPmZsYWdzIHw9IElF
RUU4MDIxMV9LRVlfRkxBR19HRU5FUkFURV9NTUlDOw0KPiA+ICsgICAgICAgICAgICAgICBicmVh
azsNCj4gPiArICAgICAgIGNhc2UgV0xBTl9DSVBIRVJfU1VJVEVfQ0NNUDoNCj4gPiArICAgICAg
ICAgICAgICAgaHdfa2V5X3R5cGUgPSBSVFdfQ0FNX0FFUzsNCj4gPiArICAgICAgICAgICAgICAg
a2V5LT5mbGFncyB8PSBJRUVFODAyMTFfS0VZX0ZMQUdfU1dfTUdNVF9UWDsNCj4gPiArICAgICAg
ICAgICAgICAgYnJlYWs7DQo+ID4gKyAgICAgICBkZWZhdWx0Og0KPiA+ICsgICAgICAgICAgICAg
ICBydHdfZXJyKHJ0d2RldiwgIlVuc3VwcG9ydGVkIGtleSB0eXBlIGZvciB3b3dsYW4NCj4gbW9k
ZVxuIik7DQo+ID4gKyAgICAgICAgICAgICAgIGh3X2tleV90eXBlID0gMDsNCj4gPiArICAgICAg
ICAgICAgICAgYnJlYWs7DQo+ID4gKyAgICAgICB9DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKHN0
YSkNCj4gPiArICAgICAgICAgICAgICAgaXRlcl9kYXRhLT5wYWlyd2lzZV9rZXlfdHlwZSA9IGh3
X2tleV90eXBlOw0KPiA+ICsgICAgICAgZWxzZQ0KPiA+ICsgICAgICAgICAgICAgICBpdGVyX2Rh
dGEtPmdyb3VwX2tleV90eXBlID0gaHdfa2V5X3R5cGU7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0
YXRpYyB2b2lkIHJ0d193b3dfZndfc2VjdXJpdHlfdHlwZShzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2
KQ0KPiA+ICt7DQo+ID4gKyAgICAgICBzdHJ1Y3QgcnR3X2Z3X2tleV90eXBlX2l0ZXJfZGF0YSBk
YXRhID0ge307DQo+ID4gKyAgICAgICBzdHJ1Y3QgaWVlZTgwMjExX3ZpZiAqd293X3ZpZiA9IHJ0
d2Rldi0+d293Lndvd192aWY7DQo+ID4gKw0KPiA+ICsgICAgICAgZGF0YS5ydHdkZXYgPSBydHdk
ZXY7DQo+ID4gKyAgICAgICBydHdfaXRlcmF0ZV9rZXlzKHJ0d2Rldiwgd293X3ZpZiwNCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgcnR3X3dvd19md19zZWN1cml0eV90eXBlX2l0ZXIsICZk
YXRhKTsNCj4gPiArICAgICAgIHJ0d19md19zZXRfYW9hY19nbG9iYWxfaW5mb19jbWQocnR3ZGV2
LA0KPiBkYXRhLnBhaXJ3aXNlX2tleV90eXBlLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkYXRhLmdyb3VwX2tleV90eXBlKTsNCj4gPiArfQ0KPiA+ICsNCj4g
PiArc3RhdGljIGludCBydHdfd293X2Z3X3N0YXJ0KHN0cnVjdCBydHdfZGV2ICpydHdkZXYpDQo+
ID4gK3sNCj4gPiArICAgICAgIGlmIChydHdfd293X21nZF9saW5rZWQocnR3ZGV2KSkgew0KPiA+
ICsgICAgICAgICAgICAgICBydHdfc2VuZF9yc3ZkX3BhZ2VfaDJjKHJ0d2Rldik7DQo+ID4gKyAg
ICAgICAgICAgICAgIHJ0d193b3dfZndfc2VjdXJpdHlfdHlwZShydHdkZXYpOw0KPiA+ICsgICAg
ICAgICAgICAgICBydHdfZndfc2V0X2Rpc2Nvbm5lY3RfZGVjaXNpb25fY21kKHJ0d2RldiwgdHJ1
ZSk7DQo+ID4gKyAgICAgICAgICAgICAgIHJ0d19md19zZXRfa2VlcF9hbGl2ZV9jbWQocnR3ZGV2
LCB0cnVlKTsNCj4gPiArICAgICAgIH0NCj4gPiArDQo+ID4gKyAgICAgICBydHdfZndfc2V0X3dv
d2xhbl9jdHJsX2NtZChydHdkZXYsIHRydWUpOw0KPiA+ICsgICAgICAgcnR3X2Z3X3NldF9yZW1v
dGVfd2FrZV9jdHJsX2NtZChydHdkZXYsIHRydWUpOw0KPiA+ICsNCj4gPiArICAgICAgIHJldHVy
biBydHdfd293X2NoZWNrX2Z3X3N0YXR1cyhydHdkZXYsIHRydWUpOw0KPiA+ICt9DQo+ID4gKw0K
PiA+ICtzdGF0aWMgaW50IHJ0d193b3dfZndfc3RvcChzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2KQ0K
PiA+ICt7DQo+ID4gKyAgICAgICBpZiAocnR3X3dvd19tZ2RfbGlua2VkKHJ0d2RldikpIHsNCj4g
PiArICAgICAgICAgICAgICAgcnR3X2Z3X3NldF9kaXNjb25uZWN0X2RlY2lzaW9uX2NtZChydHdk
ZXYsIGZhbHNlKTsNCj4gPiArICAgICAgICAgICAgICAgcnR3X2Z3X3NldF9rZWVwX2FsaXZlX2Nt
ZChydHdkZXYsIGZhbHNlKTsNCj4gPiArICAgICAgIH0NCj4gPiArDQo+ID4gKyAgICAgICBydHdf
Zndfc2V0X3dvd2xhbl9jdHJsX2NtZChydHdkZXYsIGZhbHNlKTsNCj4gPiArICAgICAgIHJ0d19m
d19zZXRfcmVtb3RlX3dha2VfY3RybF9jbWQocnR3ZGV2LCBmYWxzZSk7DQo+ID4gKw0KPiA+ICsg
ICAgICAgcmV0dXJuIHJ0d193b3dfY2hlY2tfZndfc3RhdHVzKHJ0d2RldiwgZmFsc2UpOw0KPiA+
ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgdm9pZCBydHdfd293X2F2b2lkX3Jlc2V0X21hYyhzdHJ1
Y3QgcnR3X2RldiAqcnR3ZGV2KQ0KPiA+ICt7DQo+ID4gKyAgICAgICAvKiBXaGVuIHJlc3VtaW5n
IGZyb20gd293bGFuIG1vZGUsIHNvbWUgaG9zdHMgaXNzdWUgc2lnbmFsDQo+ID4gKyAgICAgICAg
KiAoUENJRTogUFJFU1QsIFVTQjogU0UwUlNUKSB0byBkZXZpY2UsIGFuZCBsZWFkIHRvIHJlc2V0
DQo+ID4gKyAgICAgICAgKiBtYWMgY29yZS4gSWYgaXQgaGFwcGVucywgdGhlIGNvbm5lY3Rpb24g
dG8gQVAgd2lsbCBiZSBsb3N0Lg0KPiA+ICsgICAgICAgICogU2V0dGluZyBSRUdfUlNWX0NUUkwg
UmVnaXN0ZXIgY2FuIGF2b2lkIHRoaXMgcHJvY2Vzcy4NCj4gPiArICAgICAgICAqLw0KPiA+ICsg
ICAgICAgc3dpdGNoIChydHdfaGNpX3R5cGUocnR3ZGV2KSkgew0KPiA+ICsgICAgICAgY2FzZSBS
VFdfSENJX1RZUEVfUENJRToNCj4gPiArICAgICAgIGNhc2UgUlRXX0hDSV9UWVBFX1VTQjoNCj4g
PiArICAgICAgICAgICAgICAgcnR3X3dyaXRlOChydHdkZXYsIFJFR19SU1ZfQ1RSTCwNCj4gQklU
X1dMT0NLXzFDX0I2KTsNCj4gPiArICAgICAgICAgICAgICAgcnR3X3dyaXRlOChydHdkZXYsIFJF
R19SU1ZfQ1RSTCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICBCSVRfV0xPQ0tfMUNf
QjYgfCBCSVRfUl9ESVNfUFJTVCk7DQo+ID4gKyAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICsg
ICAgICAgZGVmYXVsdDoNCj4gPiArICAgICAgICAgICAgICAgcnR3X3dhcm4ocnR3ZGV2LCAiVW5z
dXBwb3J0ZWQgaGNpIHR5cGUgdG8gZGlzYWJsZQ0KPiByZXNldCBNQUNcbiIpOw0KPiA+ICsgICAg
ICAgICAgICAgICBicmVhazsNCj4gPiArICAgICAgIH0NCj4gPiArfQ0KPiA+ICsNCj4gPiArc3Rh
dGljIHZvaWQgcnR3X3dvd19md19tZWRpYV9zdGF0dXNfaXRlcih2b2lkICpkYXRhLCBzdHJ1Y3QN
Cj4gaWVlZTgwMjExX3N0YSAqc3RhKQ0KPiA+ICt7DQo+ID4gKyAgICAgICBzdHJ1Y3QgcnR3X3N0
YV9pbmZvICpzaSA9IChzdHJ1Y3QgcnR3X3N0YV9pbmZvICopc3RhLT5kcnZfcHJpdjsNCj4gPiAr
ICAgICAgIHN0cnVjdCBydHdfZndfbWVkaWFfc3RhdHVzX2l0ZXJfZGF0YSAqaXRlcl9kYXRhID0g
ZGF0YTsNCj4gPiArICAgICAgIHN0cnVjdCBydHdfZGV2ICpydHdkZXYgPSBpdGVyX2RhdGEtPnJ0
d2RldjsNCj4gPiArDQo+ID4gKyAgICAgICBydHdfZndfbWVkaWFfc3RhdHVzX3JlcG9ydChydHdk
ZXYsIHNpLT5tYWNfaWQsDQo+IGl0ZXJfZGF0YS0+Y29ubmVjdCk7DQo+ID4gK30NCj4gPiArDQo+
ID4gK3N0YXRpYyB2b2lkIHJ0d193b3dfZndfbWVkaWFfc3RhdHVzKHN0cnVjdCBydHdfZGV2ICpy
dHdkZXYsIGJvb2wNCj4gY29ubmVjdCkNCj4gPiArew0KPiA+ICsgICAgICAgc3RydWN0IHJ0d19m
d19tZWRpYV9zdGF0dXNfaXRlcl9kYXRhIGRhdGE7DQo+ID4gKw0KPiA+ICsgICAgICAgZGF0YS5y
dHdkZXYgPSBydHdkZXY7DQo+ID4gKyAgICAgICBkYXRhLmNvbm5lY3QgPSBjb25uZWN0Ow0KPiA+
ICsNCj4gPiArICAgICAgIHJ0d19pdGVyYXRlX3N0YXNfYXRvbWljKHJ0d2RldiwNCj4gcnR3X3dv
d19md19tZWRpYV9zdGF0dXNfaXRlciwgJmRhdGEpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICt2b2lk
IF9fcnR3X3dvd19jb25maWdfbGlua2VkX3JzdmRfcGFnZShzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2
KQ0KPiA+ICt7DQo+ID4gKyAgICAgICBydHdfYWRkX3JzdmRfcGFnZShydHdkZXYsIFJTVkRfUFNf
UE9MTCwgdHJ1ZSk7DQo+ID4gKyAgICAgICBydHdfYWRkX3JzdmRfcGFnZShydHdkZXYsIFJTVkRf
UU9TX05VTEwsIHRydWUpOw0KPiA+ICsgICAgICAgcnR3X2FkZF9yc3ZkX3BhZ2UocnR3ZGV2LCBS
U1ZEX05VTEwsIHRydWUpOw0KPiA+ICsgICAgICAgcnR3X2FkZF9yc3ZkX3BhZ2UocnR3ZGV2LCBS
U1ZEX0xQU19QR19EUEssIHRydWUpOw0KPiA+ICsgICAgICAgcnR3X2FkZF9yc3ZkX3BhZ2UocnR3
ZGV2LCBSU1ZEX0xQU19QR19JTkZPLCB0cnVlKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGlj
IHZvaWQgcnR3X3dvd19jb25maWdfcnN2ZF9wYWdlKHN0cnVjdCBydHdfZGV2ICpydHdkZXYpDQo+
ID4gK3sNCj4gPiArICAgICAgIHJ0d19yZXNldF9yc3ZkX3BhZ2UocnR3ZGV2KTsNCj4gPiArDQo+
ID4gKyAgICAgICBpZiAocnR3X3dvd19tZ2RfbGlua2VkKHJ0d2RldikpDQo+ID4gKyAgICAgICAg
ICAgICAgIF9fcnR3X3dvd19jb25maWdfbGlua2VkX3JzdmRfcGFnZShydHdkZXYpOw0KPiA+ICt9
DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW50IHJ0d193b3dfZGxfZndfcnN2ZF9wYWdlKHN0cnVjdCBy
dHdfZGV2ICpydHdkZXYpDQo+ID4gK3sNCj4gPiArICAgICAgIHN0cnVjdCBpZWVlODAyMTFfdmlm
ICp3b3dfdmlmID0gcnR3ZGV2LT53b3cud293X3ZpZjsNCj4gPiArDQo+ID4gKyAgICAgICBydHdf
d293X2NvbmZpZ19yc3ZkX3BhZ2UocnR3ZGV2KTsNCj4gPiArDQo+ID4gKyAgICAgICByZXR1cm4g
cnR3X2Z3X2Rvd25sb2FkX3JzdmRfcGFnZShydHdkZXYsIHdvd192aWYpOw0KPiA+ICt9DQo+ID4g
Kw0KPiA+ICtzdGF0aWMgaW50IHJ0d193b3dfc3dhcF9mdyhzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2
LCBlbnVtIHJ0d19md190eXBlDQo+IHR5cGUpDQo+ID4gK3sNCj4gPiArICAgICAgIHN0cnVjdCBy
dHdfZndfc3RhdGUgKmZ3Ow0KPiA+ICsgICAgICAgaW50IHJldDsNCj4gPiArDQo+ID4gKyAgICAg
ICBzd2l0Y2ggKHR5cGUpIHsNCj4gPiArICAgICAgIGNhc2UgUlRXX1dPV0xBTl9GVzoNCj4gPiAr
ICAgICAgICAgICAgICAgZncgPSAmcnR3ZGV2LT53b3dfZnc7DQo+ID4gKyAgICAgICAgICAgICAg
IGJyZWFrOw0KPiA+ICsNCj4gPiArICAgICAgIGNhc2UgUlRXX05PUk1BTF9GVzoNCj4gPiArICAg
ICAgICAgICAgICAgZncgPSAmcnR3ZGV2LT5mdzsNCj4gPiArICAgICAgICAgICAgICAgYnJlYWs7
DQo+ID4gKw0KPiA+ICsgICAgICAgZGVmYXVsdDoNCj4gPiArICAgICAgICAgICAgICAgcnR3X3dh
cm4ocnR3ZGV2LCAidW5zdXBwb3J0ZWQgZmlybXdhcmUgdHlwZSB0bw0KPiBzd2FwXG4iKTsNCj4g
PiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9FTlQ7DQo+ID4gKyAgICAgICB9DQo+ID4gKw0K
PiA+ICsgICAgICAgcmV0ID0gcnR3X2Rvd25sb2FkX2Zpcm13YXJlKHJ0d2RldiwgZncpOw0KPiA+
ICsgICAgICAgaWYgKHJldCkNCj4gPiArICAgICAgICAgICAgICAgZ290byBvdXQ7DQo+ID4gKw0K
PiA+ICsgICAgICAgcnR3X2Z3X3NlbmRfZ2VuZXJhbF9pbmZvKHJ0d2Rldik7DQo+ID4gKyAgICAg
ICBydHdfZndfc2VuZF9waHlkbV9pbmZvKHJ0d2Rldik7DQo+ID4gKyAgICAgICBydHdfd293X2Z3
X21lZGlhX3N0YXR1cyhydHdkZXYsIHRydWUpOw0KPiA+ICsNCj4gPiArb3V0Og0KPiA+ICsgICAg
ICAgcmV0dXJuIHJldDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIGludCBfX3J0d193b3df
bGVhdmVfbGlua2VkX3BzKHN0cnVjdCBydHdfZGV2ICpydHdkZXYpDQo+ID4gK3sNCj4gPiArICAg
ICAgIGlmICghdGVzdF9iaXQoUlRXX0ZMQUdfV09XTEFOLCBydHdkZXYtPmZsYWdzKSkNCj4gPiAr
DQo+IGNhbmNlbF9kZWxheWVkX3dvcmtfc3luYygmcnR3ZGV2LT53YXRjaF9kb2dfd29yayk7DQo+
ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRpYyBp
bnQgcnR3X3dvd19sZWF2ZV9wcyhzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2KQ0KPiA+ICt7DQo+ID4g
KyAgICAgICBpbnQgcmV0ID0gMDsNCj4gPiArDQo+ID4gKyAgICAgICBpZiAocnR3X3dvd19tZ2Rf
bGlua2VkKHJ0d2RldikpDQo+ID4gKyAgICAgICAgICAgICAgIHJldCA9IF9fcnR3X3dvd19sZWF2
ZV9saW5rZWRfcHMocnR3ZGV2KTsNCj4gPiArDQo+ID4gKyAgICAgICByZXR1cm4gcmV0Ow0KPiA+
ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW50IF9fcnR3X3dvd19lbnRlcl9saW5rZWRfcHMoc3Ry
dWN0IHJ0d19kZXYgKnJ0d2RldikNCj4gPiArew0KPiA+ICsgICAgICAgc3RydWN0IHJ0d193b3df
cGFyYW0gKnJ0d193b3cgPSAmcnR3ZGV2LT53b3c7DQo+ID4gKyAgICAgICBzdHJ1Y3QgaWVlZTgw
MjExX3ZpZiAqd293X3ZpZiA9IHJ0d193b3ctPndvd192aWY7DQo+ID4gKyAgICAgICBzdHJ1Y3Qg
cnR3X3ZpZiAqcnR3dmlmID0gKHN0cnVjdCBydHdfdmlmICopd293X3ZpZi0+ZHJ2X3ByaXY7DQo+
ID4gKw0KPiA+ICsgICAgICAgcnR3X2VudGVyX2xwcyhydHdkZXYsIHJ0d3ZpZi0+cG9ydCk7DQo+
ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIDA7DQo+ID4gK30NCj4gPiArDQo+ID4gK3N0YXRpYyBp
bnQgcnR3X3dvd19lbnRlcl9wcyhzdHJ1Y3QgcnR3X2RldiAqcnR3ZGV2KQ0KPiA+ICt7DQo+ID4g
KyAgICAgICBpbnQgcmV0ID0gMDsNCj4gPiArDQo+ID4gKyAgICAgICBpZiAocnR3X3dvd19tZ2Rf
bGlua2VkKHJ0d2RldikpDQo+ID4gKyAgICAgICAgICAgICAgIHJldCA9IF9fcnR3X3dvd19lbnRl
cl9saW5rZWRfcHMocnR3ZGV2KTsNCj4gPiArDQo+ID4gKyAgICAgICByZXR1cm4gcmV0Ow0KPiA+
ICt9DQo+ID4gKw0KPiANCj4gSSBkb24ndCBsaWtlIF9fdW5kZXJzY29yZV9tZWFuc19pbm5lcl9m
dW5jdGlvbigpLiBUaGUgZnVuY3Rpb24NCj4gdm9pZCBfX3J0d193b3dfY29uZmlnX2xpbmtlZF9y
c3ZkX3BhZ2UgZG9lcyBub3QgZXZlbiBwcmVmaXgNCj4gd2l0aCBzdGF0aWMuIEkgc3Ryb25nbHkg
cHJlZmVyIGZ1bmN0aW9uX2hhc19hX3Byb3Blcl9uYW1lKCkgc28gcGxlYXNlDQo+IGNvbWUgdXAg
d2l0aCBzb21ldGhpbmcgdGhhdCBkZXNjcmliZXMgd2hhdCBpdCBpcyByZWFsbHkgZG9pbmcNCj4g
YW5kIG5hbWUgaXQgbGlrZSB0aGF0LiBUaGUgcmVzdCBvZiB0aGUgY29kZSBsb29rcyBPSyB0byBt
ZS4NCj4gDQoNCkkgYW0gZmluZSB3aXRoIHRoZSBkb3VibGUgdW5kZXJzY29yZSwgYnV0IGluZGVl
ZCB0aGF0IHNob3VsZCBiZSBzdGF0aWMuDQpBbmQgc2luY2UgaXQgbG9va3MgbGlrZSB3ZSBjYW4g
anVzdCByZW1vdmUgdGhlIHVuZGVyc2NvcmVzIGhlcmUgc2FmZWx5LA0KSSBjYW4gcmVtb3ZlIHRo
ZW0uDQoNCllhbiBIc3Vhbg0K
