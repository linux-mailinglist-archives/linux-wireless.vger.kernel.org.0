Return-Path: <linux-wireless+bounces-5135-lists+linux-wireless=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id 95339886643
	for <lists+linux-wireless@lfdr.de>; Fri, 22 Mar 2024 06:33:49 +0100 (CET)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 4BA42285361
	for <lists+linux-wireless@lfdr.de>; Fri, 22 Mar 2024 05:33:48 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 1E60F1946B;
	Fri, 22 Mar 2024 05:32:27 +0000 (UTC)
X-Original-To: linux-wireless@vger.kernel.org
Received: from rtits2.realtek.com.tw (rtits2.realtek.com [211.75.126.72])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 22508C8FF
	for <linux-wireless@vger.kernel.org>; Fri, 22 Mar 2024 05:32:23 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=211.75.126.72
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1711085547; cv=none; b=Y2/oWUenH4rdL+02eOfXtqQaibdlqVnHbFtffro/rcagDh73fcbWd70S8gRRJXVMMxLsuSeNrqVfsNQNB0/OzQFtNtf7t+UqHT6S9++D8qZJMXY5n8lkkhbKS7H6EyOw+hPOT8QGb78uDw9AI/6ftUNx6udL4j/Y9JUB39k9znw=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1711085547; c=relaxed/simple;
	bh=btoWmNqBOv7OBVr4EKCpTULD5F9tLT+TzleFep7I8bA=;
	h=From:To:CC:Subject:Date:Message-ID:References:In-Reply-To:
	 Content-Type:MIME-Version; b=fkP34MC6nUHCE1y/uGOQUbLO7c9XY3CEkuZj3yjUL92EOGvyDChUI6nbDSFFZ5EYu1J0a/ocog0+Npyd4z2vKN1IQIsmwPdwxRG+uTHj7HcyHQySG9HeSxpdNN3NQdTWSDR4ZTVW2GOKqy26E9fO4z2XpNrGYTwVg8CpF+Rbgk4=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=realtek.com; spf=pass smtp.mailfrom=realtek.com; arc=none smtp.client-ip=211.75.126.72
Authentication-Results: smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=realtek.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=realtek.com
X-SpamFilter-By: ArmorX SpamTrap 5.78 with qID 42M5W3zD41484559, This message is accepted by code: ctloc85258
Received: from mail.realtek.com (rtexh36505.realtek.com.tw[172.21.6.25])
	by rtits2.realtek.com.tw (8.15.2/2.95/5.92) with ESMTPS id 42M5W3zD41484559
	(version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
	Fri, 22 Mar 2024 13:32:03 +0800
Received: from RTEXMBS02.realtek.com.tw (172.21.6.95) by
 RTEXH36505.realtek.com.tw (172.21.6.25) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.1.2507.35; Fri, 22 Mar 2024 13:32:03 +0800
Received: from RTEXMBS04.realtek.com.tw (172.21.6.97) by
 RTEXMBS02.realtek.com.tw (172.21.6.95) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.1.2507.35; Fri, 22 Mar 2024 13:32:03 +0800
Received: from RTEXMBS04.realtek.com.tw ([fe80::4c42:f80:bcc2:d00f]) by
 RTEXMBS04.realtek.com.tw ([fe80::4c42:f80:bcc2:d00f%5]) with mapi id
 15.01.2507.035; Fri, 22 Mar 2024 13:32:03 +0800
From: Ping-Ke Shih <pkshih@realtek.com>
To: "linux-wireless@vger.kernel.org" <linux-wireless@vger.kernel.org>,
        "rtl8821cerfe2@gmail.com" <rtl8821cerfe2@gmail.com>
CC: "Larry.Finger@lwfinger.net" <Larry.Finger@lwfinger.net>,
        "s.l-h@gmx.de"
	<s.l-h@gmx.de>,
        "chewitt@libreelec.tv" <chewitt@libreelec.tv>
Subject: Re: [PATCH v3 07/12] wifi: rtlwifi: Add rtl8192du/trx.{c,h}
Thread-Topic: [PATCH v3 07/12] wifi: rtlwifi: Add rtl8192du/trx.{c,h}
Thread-Index: AQHaev5W1aVGvLtoi0OCafDnHIoGi7FCuCSA
Date: Fri, 22 Mar 2024 05:32:03 +0000
Message-ID: <8ec17360777a4fcdafaada93501ba166bb381f5d.camel@realtek.com>
References: <7f4b3309-1580-48f3-9426-29f1eb4052fd@gmail.com>
	 <c0e120b2-1e98-4291-a4c3-dc7b7469c7b7@gmail.com>
In-Reply-To: <c0e120b2-1e98-4291-a4c3-dc7b7469c7b7@gmail.com>
Accept-Language: en-US, zh-TW
Content-Language: zh-TW
user-agent: Evolution 3.36.1-2 
x-kse-serverinfo: RTEXMBS02.realtek.com.tw, 9
x-kse-antispam-interceptor-info: fallback
x-kse-antivirus-interceptor-info: fallback
Content-Type: text/plain; charset="utf-8"
Content-ID: <B72339E4669B52459B979B27FDC56AD1@realtek.com>
Content-Transfer-Encoding: base64
Precedence: bulk
X-Mailing-List: linux-wireless@vger.kernel.org
List-Id: <linux-wireless.vger.kernel.org>
List-Subscribe: <mailto:linux-wireless+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-wireless+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-KSE-AntiSpam-Interceptor-Info: fallback
X-KSE-ServerInfo: RTEXH36505.realtek.com.tw, 9
X-KSE-AntiSpam-Interceptor-Info: fallback
X-KSE-Antivirus-Interceptor-Info: fallback
X-KSE-AntiSpam-Interceptor-Info: fallback

T24gV2VkLCAyMDI0LTAzLTIwIGF0IDIxOjM5ICswMjAwLCBCaXR0ZXJibHVlIFNtaXRoIHdyb3Rl
Og0KDQo+IA0KPiBUaGVzZSBjb250YWluIHJvdXRpbmVzIHJlbGF0ZWQgdG8gc2VuZGluZyBmcmFt
ZXMgdG8gdGhlIGNoaXAuDQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBCaXR0ZXJibHVlIFNtaXRoIDxy
dGw4ODIxY2VyZmUyQGdtYWlsLmNvbT4NCj4gLS0tDQo+IHYzOg0KPiAgLSBObyBjaGFuZ2UuDQo+
IA0KPiB2MjoNCj4gIC0gUGF0Y2ggaXMgbmV3IGluIHYyLCBzcGxpdCBmcm9tIHBhdGNoIDMvMyBp
biB2MS4NCj4gLS0tDQo+ICAuLi4vd2lyZWxlc3MvcmVhbHRlay9ydGx3aWZpL3J0bDgxOTJkdS90
cnguYyAgfCAzODAgKysrKysrKysrKysrKysrKysrDQo+ICAuLi4vd2lyZWxlc3MvcmVhbHRlay9y
dGx3aWZpL3J0bDgxOTJkdS90cnguaCAgfCAgNjAgKysrDQo+ICAyIGZpbGVzIGNoYW5nZWQsIDQ0
MCBpbnNlcnRpb25zKCspDQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9uZXQvd2lyZWxl
c3MvcmVhbHRlay9ydGx3aWZpL3J0bDgxOTJkdS90cnguYw0KPiAgY3JlYXRlIG1vZGUgMTAwNjQ0
IGRyaXZlcnMvbmV0L3dpcmVsZXNzL3JlYWx0ZWsvcnRsd2lmaS9ydGw4MTkyZHUvdHJ4LmgNCj4g
DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9yZWFsdGVrL3J0bHdpZmkvcnRs
ODE5MmR1L3RyeC5jDQo+IGIvZHJpdmVycy9uZXQvd2lyZWxlc3MvcmVhbHRlay9ydGx3aWZpL3J0
bDgxOTJkdS90cnguYw0KPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiBpbmRleCAwMDAwMDAwMDAw
MDAuLjgzMGU2ZTFmMjcxOA0KPiAtLS0gL2Rldi9udWxsDQo+ICsrKyBiL2RyaXZlcnMvbmV0L3dp
cmVsZXNzL3JlYWx0ZWsvcnRsd2lmaS9ydGw4MTkyZHUvdHJ4LmMNCj4gQEAgLTAsMCArMSwzODAg
QEANCj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wDQo+ICsvKiBDb3B5cmln
aHQoYykgMjAwOS0yMDEyICBSZWFsdGVrIENvcnBvcmF0aW9uLiovDQo+ICsNCj4gKyNpbmNsdWRl
ICIuLi93aWZpLmgiDQo+ICsjaW5jbHVkZSAiLi4vcGNpLmgiDQo+ICsjaW5jbHVkZSAiLi4vYmFz
ZS5oIg0KPiArI2luY2x1ZGUgIi4uL3N0YXRzLmgiDQo+ICsjaW5jbHVkZSAiLi4vdXNiLmgiDQo+
ICsjaW5jbHVkZSAiLi4vcnRsODE5MmQvcmVnLmgiDQo+ICsjaW5jbHVkZSAiLi4vcnRsODE5MmQv
ZGVmLmgiDQo+ICsjaW5jbHVkZSAiLi4vcnRsODE5MmQvcGh5X2NvbW1vbi5oIg0KPiArI2luY2x1
ZGUgIi4uL3J0bDgxOTJkL3RyeF9jb21tb24uaCINCj4gKyNpbmNsdWRlICJwaHkuaCINCj4gKyNp
bmNsdWRlICJ0cnguaCINCj4gKyNpbmNsdWRlICJsZWQuaCINCj4gKw0KPiArdm9pZCBydGw5MmR1
X3R4X2NsZWFudXAoc3RydWN0IGllZWU4MDIxMV9odyAqaHcsIHN0cnVjdCBza19idWZmICpza2Ip
DQo+ICt7DQo+ICt9DQo+ICsNCj4gK2ludCBydGw5MmR1X3R4X3Bvc3RfaGRsKHN0cnVjdCBpZWVl
ODAyMTFfaHcgKmh3LCBzdHJ1Y3QgdXJiICp1cmIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBza19idWZmICpza2IpDQo+ICt7DQo+ICsgICAgICAgcmV0dXJuIDA7DQo+ICt9DQo+
ICsNCj4gK3N0cnVjdCBza19idWZmICpydGw5MmR1X3R4X2FnZ3JlZ2F0ZV9oZGwoc3RydWN0IGll
ZWU4MDIxMV9odyAqaHcsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IHNrX2J1ZmZfaGVhZCAqbGlzdCkNCj4gK3sNCj4gKyAgICAgICByZXR1cm4gc2ti
X2RlcXVldWUobGlzdCk7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBlbnVtIHJ0bF9kZXNjX3FzZWwg
X3J0bDkyZHVfaHdxX3RvX2Rlc2NxKHUxNiBxdWV1ZV9pbmRleCkNCj4gK3sNCj4gKyAgICAgICBz
d2l0Y2ggKHF1ZXVlX2luZGV4KSB7DQo+ICsgICAgICAgY2FzZSBSVExfVFhRX0JDTjoNCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBRU0xUX0JFQUNPTjsNCj4gKyAgICAgICBjYXNlIFJUTF9UWFFf
TUdUOg0KPiArICAgICAgICAgICAgICAgcmV0dXJuIFFTTFRfTUdOVDsNCj4gKyAgICAgICBjYXNl
IFJUTF9UWFFfVk86DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUVNMVF9WTzsNCj4gKyAgICAg
ICBjYXNlIFJUTF9UWFFfVkk6DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUVNMVF9WSTsNCj4g
KyAgICAgICBjYXNlIFJUTF9UWFFfQks6DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gUVNMVF9C
SzsNCj4gKyAgICAgICBkZWZhdWx0Og0KPiArICAgICAgIGNhc2UgUlRMX1RYUV9CRToNCj4gKyAg
ICAgICAgICAgICAgIHJldHVybiBRU0xUX0JFOw0KPiArICAgICAgIH0NCj4gK30NCj4gKw0KPiAr
LyogRm9yIEhXIHJlY292ZXJ5IGluZm9ybWF0aW9uICovDQo+ICtzdGF0aWMgdm9pZCBfcnRsOTJk
dV90eF9kZXNjX2NoZWNrc3VtKF9fbGUzMiAqdHhkZXNjKQ0KPiArew0KPiArICAgICAgIF9fbGUx
NiAqcHRyID0gKF9fbGUxNiAqKXR4ZGVzYzsNCj4gKyAgICAgICB1MTYgY2hlY2tzdW0gPSAwOw0K
PiArICAgICAgIHUzMiBpbmRleDsNCj4gKw0KPiArICAgICAgIC8qIENsZWFyIGZpcnN0ICovDQo+
ICsgICAgICAgc2V0X3R4X2Rlc2NfdHhfZGVzY19jaGVja3N1bSh0eGRlc2MsIDApOw0KPiArICAg
ICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKQ0KPiArICAgICAgICAgICAg
ICAgY2hlY2tzdW0gPSBjaGVja3N1bSBeIGxlMTZfdG9fY3B1KCoocHRyICsgaW5kZXgpKTsNCj4g
KyAgICAgICBzZXRfdHhfZGVzY190eF9kZXNjX2NoZWNrc3VtKHR4ZGVzYywgY2hlY2tzdW0pOw0K
PiArfQ0KPiArDQo+ICt2b2lkIHJ0bDkyZHVfdHhfZmlsbF9kZXNjKHN0cnVjdCBpZWVlODAyMTFf
aHcgKmh3LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpZWVlODAyMTFfaGRy
ICpoZHIsIHU4ICpwZGVzY190eCwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICB1OCAqcGJk
X2Rlc2NfdHgsIHN0cnVjdCBpZWVlODAyMTFfdHhfaW5mbyAqaW5mbywNCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgaWVlZTgwMjExX3N0YSAqc3RhLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBza19idWZmICpza2IsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgdTggcXVldWVfaW5kZXgsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IHJ0bF90Y2JfZGVzYyAqdGNiX2Rlc2MpDQo+ICt7DQo+ICsgICAgICAgc3RydWN0IHJ0bF9wcml2
ICpydGxwcml2ID0gcnRsX3ByaXYoaHcpOw0KPiArICAgICAgIHN0cnVjdCBydGxfcHNfY3RsICpw
cHNjID0gcnRsX3BzYyhydGxwcml2KTsNCj4gKyAgICAgICBzdHJ1Y3QgcnRsX2hhbCAqcnRsaGFs
ID0gcnRsX2hhbChydGxwcml2KTsNCj4gKyAgICAgICBzdHJ1Y3QgcnRsX21hYyAqbWFjID0gcnRs
X21hYyhydGxwcml2KTsNCj4gKyAgICAgICBzdHJ1Y3QgcnRsX3N0YV9pbmZvICpzdGFfZW50cnk7
DQo+ICsgICAgICAgX19sZTE2IGZjID0gaGRyLT5mcmFtZV9jb250cm9sOw0KPiArICAgICAgIHU4
IGFnZ19zdGF0ZSA9IFJUTF9BR0dfU1RPUDsNCj4gKyAgICAgICB1MTYgcGt0bGVuID0gc2tiLT5s
ZW47DQo+ICsgICAgICAgdTggYW1wZHVfZGVuc2l0eSA9IDA7DQo+ICsgICAgICAgdTE2IHNlcV9u
dW1iZXI7DQo+ICsgICAgICAgX19sZTMyICp0eGRlc2M7DQo+ICsgICAgICAgdTggcmF0ZV9mbGFn
Ow0KPiArICAgICAgIHU4IHRpZDsNCj4gKw0KPiArICAgICAgIHJ0bF9nZXRfdGNiX2Rlc2MoaHcs
IGluZm8sIHN0YSwgc2tiLCB0Y2JfZGVzYyk7DQo+ICsNCj4gKyAgICAgICB0eGRlc2MgPSAoX19s
ZTMyICopc2tiX3B1c2goc2tiLCBSVExfVFhfSEVBREVSX1NJWkUpOw0KPiArICAgICAgIG1lbXNl
dCh0eGRlc2MsIDAsIFJUTF9UWF9IRUFERVJfU0laRSk7DQo+ICsNCj4gKyAgICAgICBzZXRfdHhf
ZGVzY19wa3Rfc2l6ZSh0eGRlc2MsIHBrdGxlbik7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfbGlu
aXAodHhkZXNjLCAwKTsNCj4gKyAgICAgICBzZXRfdHhfZGVzY19wa3Rfb2Zmc2V0KHR4ZGVzYywg
UlRMX0RVTU1ZX09GRlNFVCk7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2Nfb2Zmc2V0KHR4ZGVzYywg
UlRMX1RYX0hFQURFUl9TSVpFKTsNCj4gKyAgICAgICAvKiA1RyBoYXZlIG5vIENDSyByYXRlICov
DQo+ICsgICAgICAgaWYgKHJ0bGhhbC0+Y3VycmVudF9iYW5kdHlwZSA9PSBCQU5EX09OXzVHKQ0K
PiArICAgICAgICAgICAgICAgaWYgKHRjYl9kZXNjLT5od19yYXRlIDwgREVTQ19SQVRFNk0pDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIHRjYl9kZXNjLT5od19yYXRlID0gREVTQ19SQVRFNk07
DQo+ICsNCj4gKyAgICAgICBzZXRfdHhfZGVzY190eF9yYXRlKHR4ZGVzYywgdGNiX2Rlc2MtPmh3
X3JhdGUpOw0KPiArICAgICAgIGlmICh0Y2JfZGVzYy0+dXNlX3Nob3J0Z2kgfHwgdGNiX2Rlc2Mt
PnVzZV9zaG9ydHByZWFtYmxlKQ0KPiArICAgICAgICAgICAgICAgc2V0X3R4X2Rlc2NfZGF0YV9z
aG9ydGdpKHR4ZGVzYywgMSk7DQo+ICsNCj4gKyAgICAgICBpZiAocnRsaGFsLT5tYWNwaHltb2Rl
ID09IERVQUxNQUNfRFVBTFBIWSAmJg0KPiArICAgICAgICAgICB0Y2JfZGVzYy0+aHdfcmF0ZSA9
PSBERVNDX1JBVEVNQ1M3KQ0KPiArICAgICAgICAgICAgICAgc2V0X3R4X2Rlc2NfZGF0YV9zaG9y
dGdpKHR4ZGVzYywgMSk7DQo+ICsNCj4gKyAgICAgICBpZiAoc3RhKSB7DQo+ICsgICAgICAgICAg
ICAgICBzdGFfZW50cnkgPSAoc3RydWN0IHJ0bF9zdGFfaW5mbyAqKXN0YS0+ZHJ2X3ByaXY7DQo+
ICsgICAgICAgICAgICAgICB0aWQgPSBpZWVlODAyMTFfZ2V0X3RpZChoZHIpOw0KPiArICAgICAg
ICAgICAgICAgYWdnX3N0YXRlID0gc3RhX2VudHJ5LT50aWRzW3RpZF0uYWdnLmFnZ19zdGF0ZTsN
Cj4gKyAgICAgICAgICAgICAgIGFtcGR1X2RlbnNpdHkgPSBzdGEtPmRlZmxpbmsuaHRfY2FwLmFt
cGR1X2RlbnNpdHk7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgaWYgKGFnZ19zdGF0ZSA9
PSBSVExfQUdHX09QRVJBVElPTkFMICYmDQo+ICsgICAgICAgICAgIGluZm8tPmZsYWdzICYgSUVF
RTgwMjExX1RYX0NUTF9BTVBEVSkgew0KPiArICAgICAgICAgICAgICAgc2V0X3R4X2Rlc2NfYWdn
X2VuYWJsZSh0eGRlc2MsIDEpOw0KPiArICAgICAgICAgICAgICAgc2V0X3R4X2Rlc2NfbWF4X2Fn
Z19udW0odHhkZXNjLCAweDE0KTsNCj4gKyAgICAgICAgICAgICAgIHNldF90eF9kZXNjX2FtcGR1
X2RlbnNpdHkodHhkZXNjLCBhbXBkdV9kZW5zaXR5KTsNCj4gKyAgICAgICAgICAgICAgIHRjYl9k
ZXNjLT5ydHNfZW5hYmxlID0gMTsNCj4gKyAgICAgICAgICAgICAgIHRjYl9kZXNjLT5ydHNfcmF0
ZSA9IERFU0NfUkFURTI0TTsNCj4gKyAgICAgICB9IGVsc2Ugew0KPiArICAgICAgICAgICAgICAg
c2V0X3R4X2Rlc2NfYWdnX2JyZWFrKHR4ZGVzYywgMSk7DQo+ICsgICAgICAgfQ0KPiArICAgICAg
IHNlcV9udW1iZXIgPSAobGUxNl90b19jcHUoaGRyLT5zZXFfY3RybCkgJiBJRUVFODAyMTFfU0NU
TF9TRVEpID4+IDQ7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2Nfc2VxKHR4ZGVzYywgc2VxX251bWJl
cik7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfcnRzX2VuYWJsZSh0eGRlc2MsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAoKHRjYl9kZXNjLT5ydHNfZW5hYmxlICYmDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIXRjYl9kZXNjLT5jdHNfZW5hYmxlKSA/IDEgOiAw
KSk7DQoNCnUzMiBydHNfZW4gPSB0Y2JfZGVzYy0+cnRzX2VuYWJsZSAmJiAhdGNiX2Rlc2MtPmN0
c19lbmFibGUgPyAxIDogMDsNCg0Kb3IgDQoNCnUzMiBydHNfZW4gPSB0Y2JfZGVzYy0+cnRzX2Vu
YWJsZSAmJiAhdGNiX2Rlc2MtPmN0c19lbmFibGU7DQoNCnNldF90eF9kZXNjX3J0c19lbmFibGUo
dHhkZXNjLCBydHNfZW4pOw0KDQoNCg0KPiArICAgICAgIHNldF90eF9kZXNjX2h3X3J0c19lbmFi
bGUodHhkZXNjLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh0Y2JfZGVz
Yy0+cnRzX2VuYWJsZSB8fA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRj
Yl9kZXNjLT5jdHNfZW5hYmxlKSA/IDEgOiAwKSk7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfY3Rz
MnNlbGYodHhkZXNjLCAoKHRjYl9kZXNjLT5jdHNfZW5hYmxlKSA/IDEgOiAwKSk7DQo+ICsgICAg
ICAgc2V0X3R4X2Rlc2NfcnRzX3N0YmModHhkZXNjLCAoKHRjYl9kZXNjLT5ydHNfc3RiYykgPyAx
IDogMCkpOw0KPiArICAgICAgIC8qIDVHIGhhdmUgbm8gQ0NLIHJhdGUgKi8NCj4gKyAgICAgICBp
ZiAocnRsaGFsLT5jdXJyZW50X2JhbmR0eXBlID09IEJBTkRfT05fNUcpDQo+ICsgICAgICAgICAg
ICAgICBpZiAodGNiX2Rlc2MtPnJ0c19yYXRlIDwgREVTQ19SQVRFNk0pDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHRjYl9kZXNjLT5ydHNfcmF0ZSA9IERFU0NfUkFURTZNOw0KPiArICAgICAg
IHNldF90eF9kZXNjX3J0c19yYXRlKHR4ZGVzYywgdGNiX2Rlc2MtPnJ0c19yYXRlKTsNCj4gKyAg
ICAgICBzZXRfdHhfZGVzY19ydHNfYncodHhkZXNjLCAwKTsNCj4gKyAgICAgICBzZXRfdHhfZGVz
Y19ydHNfc2ModHhkZXNjLCB0Y2JfZGVzYy0+cnRzX3NjKTsNCj4gKyAgICAgICBzZXRfdHhfZGVz
Y19ydHNfc2hvcnQodHhkZXNjLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHRj
Yl9kZXNjLT5ydHNfcmF0ZSA8PSBERVNDX1JBVEU1NE0pID8NCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICh0Y2JfZGVzYy0+cnRzX3VzZV9zaG9ydHByZWFtYmxlID8gMSA6IDApDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh0Y2JfZGVzYy0+cnRzX3VzZV9zaG9y
dGdpID8gMSA6IDApKSk7DQoNCnUzMiBydHNfc2hvcnQ7DQoNCmlmICguLi4pDQogICAgcnRzX3No
b3J0ID0gMTsNCmVsc2UgaWYgKC4uLikNCiAgICBydHNfc2hvcnQgPSAxOw0KZWxzZQ0KICAgIHJ0
c19zaG9ydCA9IDA7DQoNCg0KPiArDQo+ICsgICAgICAgaWYgKGluZm8tPmNvbnRyb2wuaHdfa2V5
KSB7DQo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgaWVlZTgwMjExX2tleV9jb25mICprZXljb25m
ID0gaW5mby0+Y29udHJvbC5od19rZXk7DQo+ICsNCj4gKyAgICAgICAgICAgICAgIHN3aXRjaCAo
a2V5Y29uZi0+Y2lwaGVyKSB7DQo+ICsgICAgICAgICAgICAgICBjYXNlIFdMQU5fQ0lQSEVSX1NV
SVRFX1dFUDQwOg0KPiArICAgICAgICAgICAgICAgY2FzZSBXTEFOX0NJUEhFUl9TVUlURV9XRVAx
MDQ6DQo+ICsgICAgICAgICAgICAgICBjYXNlIFdMQU5fQ0lQSEVSX1NVSVRFX1RLSVA6DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHNldF90eF9kZXNjX3NlY190eXBlKHR4ZGVzYywgMHgxKTsN
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgICAgICAgICBjYXNl
IFdMQU5fQ0lQSEVSX1NVSVRFX0NDTVA6DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNldF90
eF9kZXNjX3NlY190eXBlKHR4ZGVzYywgMHgzKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
YnJlYWs7DQo+ICsgICAgICAgICAgICAgICBkZWZhdWx0Og0KPiArICAgICAgICAgICAgICAgICAg
ICAgICBzZXRfdHhfZGVzY19zZWNfdHlwZSh0eGRlc2MsIDB4MCk7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOw0KPiArICAgICAgICAgICAgICAgfQ0KPiArICAgICAgIH0NCg0KYmxh
bmsgbGluZQ0KDQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfcGt0X2lkKHR4ZGVzYywgMCk7DQo+ICsg
ICAgICAgc2V0X3R4X2Rlc2NfcXVldWVfc2VsKHR4ZGVzYywgX3J0bDkyZHVfaHdxX3RvX2Rlc2Nx
KHF1ZXVlX2luZGV4KSk7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfZGF0YV9yYXRlX2ZiX2xpbWl0
KHR4ZGVzYywgMHgxRik7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfcnRzX3JhdGVfZmJfbGltaXQo
dHhkZXNjLCAweEYpOw0KPiArICAgICAgIHNldF90eF9kZXNjX2Rpc2FibGVfZmIodHhkZXNjLCAw
KTsNCj4gKyAgICAgICBzZXRfdHhfZGVzY191c2VfcmF0ZSh0eGRlc2MsIHRjYl9kZXNjLT51c2Vf
ZHJpdmVyX3JhdGUgPyAxIDogMCk7DQoNCmJsYW5rIGxpbmUNCg0KPiArICAgICAgIGlmIChpZWVl
ODAyMTFfaXNfZGF0YV9xb3MoZmMpKSB7DQo+ICsgICAgICAgICAgICAgICBpZiAobWFjLT5yZGdf
ZW4pIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcnRsX2RiZyhydGxwcml2LCBDT01QX1NF
TkQsIERCR19UUkFDRSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRW5hYmxl
IFJERyBmdW5jdGlvblxuIik7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNldF90eF9kZXNj
X3JkZ19lbmFibGUodHhkZXNjLCAxKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2V0X3R4
X2Rlc2NfaHRjKHR4ZGVzYywgMSk7DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAg
ICAgICBzZXRfdHhfZGVzY19xb3ModHhkZXNjLCAxKTsNCj4gKyAgICAgICB9DQoNCj4gKyAgICAg
ICBpZiAocnRscHJpdi0+ZG0udXNlcmFtYXNrKSB7DQo+ICsgICAgICAgICAgICAgICBzZXRfdHhf
ZGVzY19yYXRlX2lkKHR4ZGVzYywgdGNiX2Rlc2MtPnJhdHJfaW5kZXgpOw0KPiArICAgICAgICAg
ICAgICAgc2V0X3R4X2Rlc2NfbWFjaWQodHhkZXNjLCB0Y2JfZGVzYy0+bWFjX2lkKTsNCj4gKyAg
ICAgICB9IGVsc2Ugew0KPiArICAgICAgICAgICAgICAgc2V0X3R4X2Rlc2NfcmF0ZV9pZCh0eGRl
c2MsIDB4QyArIHRjYl9kZXNjLT5yYXRyX2luZGV4KTsNCj4gKyAgICAgICAgICAgICAgIHNldF90
eF9kZXNjX21hY2lkKHR4ZGVzYywgdGNiX2Rlc2MtPnJhdHJfaW5kZXgpOw0KPiArICAgICAgIH0N
Cg0KPiArICAgICAgIGlmICghaWVlZTgwMjExX2lzX2RhdGFfcW9zKGZjKSAmJiBwcHNjLT5sZWlz
dXJlX3BzICYmDQo+ICsgICAgICAgICAgIHBwc2MtPmZ3Y3RybF9scHMpIHsNCj4gKyAgICAgICAg
ICAgICAgIHNldF90eF9kZXNjX2h3c2VxX2VuKHR4ZGVzYywgMSk7DQo+ICsgICAgICAgICAgICAg
ICBzZXRfdHhfZGVzY19wa3RfaWQodHhkZXNjLCA4KTsNCj4gKyAgICAgICB9DQoNCj4gKyAgICAg
ICBpZiAoaWVlZTgwMjExX2hhc19tb3JlZnJhZ3MoZmMpKQ0KPiArICAgICAgICAgICAgICAgc2V0
X3R4X2Rlc2NfbW9yZV9mcmFnKHR4ZGVzYywgMSk7DQo+ICsgICAgICAgaWYgKGlzX211bHRpY2Fz
dF9ldGhlcl9hZGRyKGllZWU4MDIxMV9nZXRfREEoaGRyKSkgfHwNCj4gKyAgICAgICAgICAgaXNf
YnJvYWRjYXN0X2V0aGVyX2FkZHIoaWVlZTgwMjExX2dldF9EQShoZHIpKSkNCj4gKyAgICAgICAg
ICAgICAgIHNldF90eF9kZXNjX2JtYyh0eGRlc2MsIDEpOw0KDQo+ICsgICAgICAgc2V0X3R4X2Rl
c2Nfb3duKHR4ZGVzYywgMSk7DQo+ICsgICAgICAgc2V0X3R4X2Rlc2NfbGFzdF9zZWcodHhkZXNj
LCAxKTsNCj4gKyAgICAgICBzZXRfdHhfZGVzY19maXJzdF9zZWcodHhkZXNjLCAxKTsNCj4gKyAg
ICAgICBfcnRsOTJkdV90eF9kZXNjX2NoZWNrc3VtKHR4ZGVzYyk7DQo+ICsNCj4gKyAgICAgICBy
dGxfZGJnKHJ0bHByaXYsIENPTVBfU0VORCwgREJHX1RSQUNFLCAiPT0+XG4iKTsNCj4gK30NCj4g
Kw0KDQoNClsuLi5dDQoNCg0KPiArDQo+ICtzdGF0aWMgaW50IF9ydGw5MmR1X291dF9lcF9tYXBw
aW5nKHN0cnVjdCBpZWVlODAyMTFfaHcgKmh3KQ0KPiArew0KPiArICAgICAgIHN0cnVjdCBydGxf
dXNiICpydGx1c2IgPSBydGxfdXNiZGV2KHJ0bF91c2Jwcml2KGh3KSk7DQo+ICsgICAgICAgc3Ry
dWN0IHJ0bF9lcF9tYXAgKmVwX21hcCA9ICZydGx1c2ItPmVwX21hcDsNCj4gKyAgICAgICBpbnQg
ZXJyID0gMDsNCj4gKw0KPiArICAgICAgIHN3aXRjaCAocnRsdXNiLT5vdXRfZXBfbnVtcykgew0K
PiArICAgICAgIGNhc2UgMToNCj4gKyAgICAgICAgICAgICAgIF9ydGw5MmR1X29uZV9vdXRfZXBf
bWFwcGluZyhydGx1c2IsIGVwX21hcCk7DQo+ICsgICAgICAgICAgICAgICBicmVhazsNCj4gKyAg
ICAgICBjYXNlIDI6DQo+ICsgICAgICAgICAgICAgICBfcnRsOTJkdV90d29fb3V0X2VwX21hcHBp
bmcocnRsdXNiLCBlcF9tYXApOw0KPiArICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAg
Y2FzZSAzOg0KPiArICAgICAgICAgICAgICAgX3J0bDkyZHVfdGhyZWVfb3V0X2VwX21hcHBpbmco
cnRsdXNiLCBlcF9tYXApOw0KPiArICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgZGVm
YXVsdDoNCj4gKyAgICAgICAgICAgICAgIGVyciA9IC1FSU5WQUw7DQoNCnJldHVybiAtRUlOVkFM
Ow0KDQo+ICsgICAgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICB9DQo+ICsNCj4gKyAgICAg
ICByZXR1cm4gZXJyOw0KDQpyZXR1cm4gMDsNCg0KPiArfQ0KPiArDQo+ICtpbnQgcnRsOTJkdV9l
bmRwb2ludF9tYXBwaW5nKHN0cnVjdCBpZWVlODAyMTFfaHcgKmh3KQ0KPiArew0KPiArICAgICAg
IHN0cnVjdCBydGxfdXNiICpydGx1c2IgPSBydGxfdXNiZGV2KHJ0bF91c2Jwcml2KGh3KSk7DQo+
ICsgICAgICAgaW50IGVycm9yID0gLUVJTlZBTDsNCj4gKw0KPiArICAgICAgIF9ydGw5MmR1X2Nv
bmZpZ19vdXRfZXAoaHcsIHJ0bHVzYi0+b3V0X2VwX251bXMpOw0KPiArDQo+ICsgICAgICAgLyog
Tm9ybWFsIGNoaXAgd2l0aCBvbmUgSU4gYW5kIG9uZSBPVVQgZG9lc24ndCBoYXZlIGludGVycnVw
dCBJTiBFUC4gKi8NCj4gKyAgICAgICBpZiAocnRsdXNiLT5vdXRfZXBfbnVtcyA9PSAxICYmIHJ0
bHVzYi0+aW5fZXBfbnVtcyAhPSAxKQ0KPiArICAgICAgICAgICAgICAgZ290byBlcnJfb3V0Ow0K
DQpyZXR1cm4gLUVJTlZBTDsNCg0KPiArDQo+ICsgICAgICAgZXJyb3IgPSBfcnRsOTJkdV9vdXRf
ZXBfbWFwcGluZyhodyk7DQo+ICsgICAgICAgaWYgKGVycm9yKQ0KPiArICAgICAgICAgICAgICAg
Z290byBlcnJfb3V0Ow0KDQpyZXR1cm4gcmV0Ow0KDQpvcg0KDQpyZXR1cm4gX3J0bDkyZHVfb3V0
X2VwX21hcHBpbmcoaHcpOw0KDQoNCj4gK2Vycl9vdXQ6DQo+ICsgICAgICAgcmV0dXJuIGVycm9y
Ow0KPiArfQ0KPiArDQoNCg0KDQo=

