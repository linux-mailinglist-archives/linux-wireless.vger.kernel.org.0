Return-Path: <linux-wireless-owner@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id F1DD67B0A58
	for <lists+linux-wireless@lfdr.de>; Wed, 27 Sep 2023 18:34:12 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S232040AbjI0Qdp (ORCPT <rfc822;lists+linux-wireless@lfdr.de>);
        Wed, 27 Sep 2023 12:33:45 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:45116 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S231991AbjI0Qdl (ORCPT
        <rfc822;linux-wireless@vger.kernel.org>);
        Wed, 27 Sep 2023 12:33:41 -0400
Received: from NAM12-BN8-obe.outbound.protection.outlook.com (mail-bn8nam12on2088.outbound.protection.outlook.com [40.107.237.88])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 54B5F12A;
        Wed, 27 Sep 2023 09:33:33 -0700 (PDT)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=UuZz5+pn/0pmsBDsJfjOiaHQGV/AFp2xVuJXfj4TJrivqfikQzDOY5zrOtnm6T+0Li5qrfO7trytRu89/icdrG1jwMQc7N/DM955/dNO2LvCicEQ1c1sDFH38mq//PVqVjUc9DwaKoovCEW0jLVig9/0wzlw6+nOJZKU2Zw7hjXhjwl3hHJozzhsEQQc5sVA/kmuzsgPDJpNXHKWdJpCwi5951G/Gb2rqOMk+cftd8u/bN/hoDEWoSzyTn5ocMlSFxTAqP7Iwd7Ja6e2dDhJnyinaJBFX9Oztq9fcLXrOYVwNWYw95788ct7GExdCtQNknH2P1FvIAFcw57PKywRxg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=mmMx7g757frUoJqf1Hvr6WQSffZEn9STezwVQ6/pcuU=;
 b=kOqV6KSueCUhaxYUgG6V3zKg32PcVh1aSA5zdIQipkrXD/r4aubc0u4DO9I3HOuVhXFuIctESZoIXsG8eZKkeQCR7RczrGSDAL/GndXKNrb0KUsX5atFMPJ7JJSQjmnBdox2KNgwW66EMPx+rVKx9JWFeAGzyvd6Xw2gIRn0iM4XZzoc2eifkHmQ4F5NTUGaNRoUK1t+myH0djs6n9VVCJSlIgPEIEAyTsjjHM8eIt8J8Kx24K3LIusUwGZ0o89Ahy7yPqLb90lAUzXrpuKSj5qrCeGbM/BhkfCZpfb7zElQTPRVtNYHe/9mpusYeODxiYpgBqSh2cQqdb+J3NR/Aw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=silabs.com; dmarc=pass action=none header.from=silabs.com;
 dkim=pass header.d=silabs.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=silabs.onmicrosoft.com; s=selector2-silabs-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=mmMx7g757frUoJqf1Hvr6WQSffZEn9STezwVQ6/pcuU=;
 b=N00L7h6E4F0xmWo4x7Lihhr7IFSLfAoovl+tSOm0y2nvXNWbMDrS6mgTkuJrUH7InHCtu6lh9IoifVX5lmiFdTGFHKfS/gw4PUU02fYGy8XWlcgWmqDFxF8f+f0IMPrKbhVUMqtCn8eOqgo6purqA1egAcmwoThh86fDEUjz8l0=
Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=silabs.com;
Received: from IA1PR11MB7773.namprd11.prod.outlook.com (2603:10b6:208:3f0::21)
 by CO1PR11MB5041.namprd11.prod.outlook.com (2603:10b6:303:90::16) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6813.28; Wed, 27 Sep
 2023 16:33:26 +0000
Received: from IA1PR11MB7773.namprd11.prod.outlook.com
 ([fe80::d6c8:4cb6:2594:d8f3]) by IA1PR11MB7773.namprd11.prod.outlook.com
 ([fe80::d6c8:4cb6:2594:d8f3%4]) with mapi id 15.20.6813.027; Wed, 27 Sep 2023
 16:33:26 +0000
From:   =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
To:     Kalle Valo <kvalo@kernel.org>
Cc:     linux-wireless@vger.kernel.org, linux-kernel@vger.kernel.org,
        =?UTF-8?q?J=C3=A9r=C3=B4me=20Pouiller?= 
        <jerome.pouiller@silabs.com>
Subject: [PATCH v2 7/9] wifi: wfx: allow to send frames during ROC
Date:   Wed, 27 Sep 2023 18:32:55 +0200
Message-Id: <20230927163257.568496-8-jerome.pouiller@silabs.com>
X-Mailer: git-send-email 2.39.2
In-Reply-To: <20230927163257.568496-1-jerome.pouiller@silabs.com>
References: <20230927163257.568496-1-jerome.pouiller@silabs.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
X-ClientProxiedBy: DS7PR06CA0052.namprd06.prod.outlook.com
 (2603:10b6:8:54::30) To IA1PR11MB7773.namprd11.prod.outlook.com
 (2603:10b6:208:3f0::21)
MIME-Version: 1.0
X-MS-PublicTrafficType: Email
X-MS-TrafficTypeDiagnostic: IA1PR11MB7773:EE_|CO1PR11MB5041:EE_
X-MS-Office365-Filtering-Correlation-Id: 43ec9c46-2c9e-4315-55f0-08dbbf777974
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: OWOZlvOf4J170INfhduFB5XxSpYZL0BEWwl9zkKmvHHwCqp6gNk9GoRjUKY9PrIclz00C1uRb9lSwE+Y1GLnsldD7CH0ppfCfclCoaSIprAodovNwXWbdbM1EVz39eycGNLQrUNMcNiIFV9CQfk/EDhzk+DAqLHIuZP0Sgo72M67B3aCfHYTwiMQTiTxK154HHriH5BeSc9ev18++KB0Q4+FFrkjwVPbHCUvBTsMOa4vGLHY/xA/Y/eP7N1+l8aEB3FcHkJ9lyU3lIWnkqXQC67AP36W64Uoo3Vzj79l9fg9TWKVKdMxkWmjCg1P6OI+Frk0LQwopi5rS0uLjSagdxRMFOezDW0EEiESyFr/xjh+7u/fzjUutkCglyHrUXlsTzng8GFlb+Q9E9e/WKypuH3Yt3Fpz6gAbyWJiouhWXf6wekTjMV0qPaLJ113oCcEIMAWRl64vBIIW4mn8tM7fkEc2b8/fVeR9Pnq3b9F/ifX+EudQU7AMnylkHMDJ7HnW+b/re9h0nkgXOcgcdRV9EdCh1pYzeCzn0eS8c5Aj0+sPiGp/0EzVIeITCWHTPuA
X-Forefront-Antispam-Report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:IA1PR11MB7773.namprd11.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230031)(376002)(136003)(346002)(39850400004)(396003)(366004)(230922051799003)(1800799009)(186009)(451199024)(6506007)(107886003)(66574015)(66556008)(66476007)(6666004)(1076003)(86362001)(6486002)(52116002)(6512007)(478600001)(38100700002)(2906002)(83380400001)(5660300002)(316002)(6916009)(36756003)(8936002)(8676002)(2616005)(66946007)(4326008)(30864003)(41300700001);DIR:OUT;SFP:1101;
X-MS-Exchange-AntiSpam-MessageData-ChunkCount: 1
X-MS-Exchange-AntiSpam-MessageData-0: =?utf-8?B?dWdCdzlkblhZcDB4bHFPdHhKRVp3eVpKb0hheTY4Sk8vSHRNUjk2bjdlSTdS?=
 =?utf-8?B?d0c5TXZnekNvR1BmS2Z3dlFBN0FaWnhLdTA0UmpMM2YzVkhnNEMyL3JzcDdT?=
 =?utf-8?B?OHRsbDAxbkd2amUvRHFlaTVIclRxSENSdFRLbEI1SU5yWFFkNS9MVW5UYlRN?=
 =?utf-8?B?ejRqUllTd1lSZEVFcFFCSFhvdGJYKzBzMGlvbXdqdlZKMFR6MDhZaHNoaytU?=
 =?utf-8?B?ZndLZ3Q0WFJTYXp5dTFKdkYwYWxUdlhNRGFQaUFZQ0I5WlNqR2E1QnhOT2tr?=
 =?utf-8?B?SUN3ZHBFUExBcjhua1dHZmJIOXNoY2VIWElveGFMZ0ZFTHgyV3JKWmhvczl1?=
 =?utf-8?B?T1V3U3ZYZmlsTXRZam9xZFQ4R3dWT25OV2FvZTgvc0U0ZlYvM250SnVlTFcy?=
 =?utf-8?B?RzRGS3NwTmsxempabFlHckNYOUwyNUg2ZlRYRjNTTzFKb1BMUG1ibG9OMFhv?=
 =?utf-8?B?eThQOGVpNU1UQmVOZVNORUhFMGYvZTNXdU1nSlFRUkllZHd2eEFEV0drTHNV?=
 =?utf-8?B?UXFCNjBhY283V1p5TDJlYXIzYlpkR0xST0gvYWphYkZuQ2ZCQWhXYVVHNXp0?=
 =?utf-8?B?cE9jRjV2ZUVvOTdrK0dMaWFhK05WT0RtNWxtS2VmOVZ1UFkrbElzN1JYU05l?=
 =?utf-8?B?enY3ZHVFMXd4am1wQ0kxUjAxYWhEK3BYWWZOeHZLWkF3bTJuWmIwcGRGZHNn?=
 =?utf-8?B?aGZpeXVNeXkrSTRyaE51enBMTWNPZzRTaEF5Q2ZHOXpXTUd5ckZ5b2IyYTIx?=
 =?utf-8?B?WE1QMk1RcEVCTTdIMElrVldxbkZtM1RCb3dIQ2FBZi9UVHRZRTJ4ajMvNkFL?=
 =?utf-8?B?b3NXemoxL0VMUlFuVXAvUTcrbGM2WERuSjJTbVdwRDdrdjFvZndjUWhHRjNw?=
 =?utf-8?B?YzMvcm5ERnB4WEFDQjZoYnVycGpyV2dPY1Vja0lyRG1SSFRQTjlyR1FRaHU0?=
 =?utf-8?B?R01WdnlZd1VZMFhSaC9XT2JVN2dVOXhXU3diQ1pLK1ZEZWdSc002aUI2Ym02?=
 =?utf-8?B?UUxkNCtrYUlWS3p1V3pneEtLZzNYSHNDT3ArcFVZVUpUeHFKZmdYME1tSkt5?=
 =?utf-8?B?aXdFa3pQNVUwdW1XWitJUW8xVG01c2N1WTZzaGhRZ0FweDNId1dtTExWMVMv?=
 =?utf-8?B?ZitnNThHTWFKUTJ6M3hPMnZ5bWRXQXpVZ0xIMlgzSmRuUUxEREt2YmdqeS83?=
 =?utf-8?B?ZUFYQnoySVE4Y3ZxZVk0M2Y4QkQwY2NFdElhVk5FbHE3eWZoOFNiaWQ5ZWR1?=
 =?utf-8?B?dENvS3ozVXZ4MmtLSS9SbWhOSXY4QzV0Qy9Xc2tVOEt5YWIwaWJ5cnZXbWc4?=
 =?utf-8?B?SnRHWERVQXhpVUJDUEJCMWJnZ25EUFl3NDlSZ3REQlNhcjRFbVNRSm9JaC9p?=
 =?utf-8?B?QTBFa1NoWCtIaHdKMlozVFJsY0twSEZHSHJxZEpKMnIzbHpzSitqU2VTYktE?=
 =?utf-8?B?cDRNOG9Tdk9Pd1N2eDJyeUF5WjJXUDNiaXVYY2FFTjFFMW9zNUpqazhNR1Jz?=
 =?utf-8?B?dXBzbHY1OWpRYlFYSzN0dmJCaTZsQlliN0taYTI0UDNLckhSYzZ4V2pHODhL?=
 =?utf-8?B?blZUR1lzeTJqU2dSZUJhcE91elk5Ny9mMGF5dTRVbXVodEg4TGxHS2xMc1Rn?=
 =?utf-8?B?YW1lWjM0L1Y2U1ZGZjh5TzFIRDcvZFI2dm1lQVhKWC9YcDhZbllTcVgzMU1Q?=
 =?utf-8?B?RHBjRUVLRDlHVXVpUS9xKzJIaGNhTjhybHk4L2pqRXE3RXp2L2twK1FUUHBp?=
 =?utf-8?B?cnZlN0EwbjFJUUFGam45dFNKTGF6UmFjSmp4RmtOTjZjNmpTRm1mTjRlaWUw?=
 =?utf-8?B?NDl0czlJQjJnMm5HbFkvbkpUOEVlaXZkdzFnUEp0cFNLZmsxSkpoR3NDTU1R?=
 =?utf-8?B?Njd3ckZrRUxCNkkxM0dMZFRMVVpyMnFwUGpnY2xuemdCeloxSTlRREppSFoz?=
 =?utf-8?B?ZXk4M3h6d3kxYzMwN0cyNmR1Q2x2YjMrN1Y1RXZlcFFGTTdKNC9NYWpYVDEw?=
 =?utf-8?B?bWsrMU8xVXFacXRNc1BHbnRXQm5zWVZodUFXcEhwRVhiQ1JWcXJqcVZEVDhL?=
 =?utf-8?B?MXRiSmhRTG01aERoYnFwUHNFTE11SmhZVFM5MVNnZXNZcDh6aTlFcm9hRlNZ?=
 =?utf-8?B?akpmNEd4SWhnb01QZVpkdXE5YUIrdUxzbk9CNnZMSzJSeDBwK292ajgrZXoy?=
 =?utf-8?Q?mYuIEiFqmHljyjwd351+nfa8lBTspZWUODr2j2v/jU2u?=
X-OriginatorOrg: silabs.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 43ec9c46-2c9e-4315-55f0-08dbbf777974
X-MS-Exchange-CrossTenant-AuthSource: IA1PR11MB7773.namprd11.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 27 Sep 2023 16:33:26.5205
 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 54dbd822-5231-4b20-944d-6f4abcd541fb
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: u4CjXRwCfhFR6QBKPjmfaPMi5KtLLNfmawyMM4Aysuq4fEsBmhMB0R0ietJwkFi8i2CCy6aj7qQcUJxrDWX+kQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CO1PR11MB5041
X-Spam-Status: No, score=-0.9 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,FORGED_SPF_HELO,RCVD_IN_DNSWL_BLOCKED,RCVD_IN_MSPIKE_H2,
        SPF_HELO_PASS,SPF_NONE autolearn=no autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-wireless.vger.kernel.org>
X-Mailing-List: linux-wireless@vger.kernel.org

VW50aWwgbm93LCBhbGwgdGhlIHRyYWZmaWMgd2FzIGJsb2NrZWQgZHVyaW5nIFJlbWFpbiBPbiBD
aGFubmVsIChST0MpLgpUaGlzIHBhdGNoIGFsbG93IHRvIGhhbmRsZSBJRUVFODAyMTFfVFhfQ1RM
X1RYX09GRkNIQU4gZnJhbWVzLgoKVGhlc2UgZnJhbWVzIG5lZWQgdG8gYmUgc2VudCBvbiB0aGUg
dmlydHVhbCBpbnRlcmZhY2UgIzIuIFVudGlsIG5vdywKdGhpcyBpbnRlcmZhY2Ugd2FzIG9ubHkg
dXNlZCBieSB0aGUgZGV2aWNlIGZvciBpbnRlcm5hbCBwdXJwb3NlLiBCdXQKc2luY2UgQVBJIDMu
OSwgaXQgY2FuIGJlIHVzZWQgdG8gc2VuZCBkYXRhIGR1cmluZyBzY2FuIG9wZXJhdGlvbiAod2UK
aGlqYWNrIHRoZSBzY2FuIHByb2Nlc3MgdG8gaW1wbGVtZW50IFJPQykuCgpUaHVzLCB3ZSBuZWVk
IHRvIGNoYW5nZSBhIGJpdCB0aGUgd2F5IHdlIG1hdGNoIHRoZSBmcmFtZXMgd2l0aCB0aGUKaW50
ZXJmYWNlLgoKRm9ydHVuYXRlbHksIHRoZSBmcmFtZXMgcmVjZWl2ZWQgZHVyaW5nIHRoZSBzY2Fu
IGFyZSBtYXJrZWQgd2l0aCB0aGUKY29ycmVjdCBpbnRlcmZhY2UgbnVtYmVyLiBTbyB0aGVyZSBp
cyBubyBjaGFuZ2UgdG8gZG8gb24gdGhpcyBwYXJ0LgoKU2lnbmVkLW9mZi1ieTogSsOpcsO0bWUg
UG91aWxsZXIgPGplcm9tZS5wb3VpbGxlckBzaWxhYnMuY29tPgotLS0KIGRyaXZlcnMvbmV0L3dp
cmVsZXNzL3NpbGFicy93ZngvZGF0YV90eC5jIHwgMzYgKysrKysrKysrKysrKysrLS0tLS0KIGRy
aXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvZGF0YV90eC5oIHwgIDIgKysKIGRyaXZlcnMv
bmV0L3dpcmVsZXNzL3NpbGFicy93ZngvcXVldWUuYyAgIHwgNDAgKysrKysrKysrKysrKysrKysr
Ky0tLS0KIGRyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvcXVldWUuaCAgIHwgIDEgKwog
ZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9zY2FuLmMgICAgfCAgNCArLS0KIDUgZmls
ZXMgY2hhbmdlZCwgNjYgaW5zZXJ0aW9ucygrKSwgMTcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmMgYi9kcml2ZXJzL25l
dC93aXJlbGVzcy9zaWxhYnMvd2Z4L2RhdGFfdHguYwppbmRleCBjZTJiNWRjZmQ4ZDg5Li5lOGI2
ZDQxZjU1MTk2IDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2Rh
dGFfdHguYworKysgYi9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L2RhdGFfdHguYwpA
QCAtMjI2LDYgKzIyNiwxOCBAQCBzdHJ1Y3Qgd2Z4X2hpZl9yZXFfdHggKndmeF9za2JfdHhyZXEo
c3RydWN0IHNrX2J1ZmYgKnNrYikKIAlyZXR1cm4gcmVxOwogfQogCitzdHJ1Y3Qgd2Z4X3ZpZiAq
d2Z4X3NrYl93dmlmKHN0cnVjdCB3ZnhfZGV2ICp3ZGV2LCBzdHJ1Y3Qgc2tfYnVmZiAqc2tiKQor
eworCXN0cnVjdCB3ZnhfdHhfcHJpdiAqdHhfcHJpdiA9IHdmeF9za2JfdHhfcHJpdihza2IpOwor
CXN0cnVjdCB3ZnhfaGlmX21zZyAqaGlmID0gKHN0cnVjdCB3ZnhfaGlmX21zZyAqKXNrYi0+ZGF0
YTsKKworCWlmICh0eF9wcml2LT52aWZfaWQgIT0gaGlmLT5pbnRlcmZhY2UgJiYgaGlmLT5pbnRl
cmZhY2UgIT0gMikgeworCQlkZXZfZXJyKHdkZXYtPmRldiwgImNvcnJ1cHRlZCBza2IiKTsKKwkJ
cmV0dXJuIHdkZXZfdG9fd3ZpZih3ZGV2LCBoaWYtPmludGVyZmFjZSk7CisJfQorCXJldHVybiB3
ZGV2X3RvX3d2aWYod2RldiwgdHhfcHJpdi0+dmlmX2lkKTsKK30KKwogc3RhdGljIHU4IHdmeF90
eF9nZXRfbGlua19pZChzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZiwgc3RydWN0IGllZWU4MDIxMV9zdGEg
KnN0YSwKIAkJCSAgICAgc3RydWN0IGllZWU4MDIxMV9oZHIgKmhkcikKIHsKQEAgLTM1Miw2ICsz
NjQsNyBAQCBzdGF0aWMgaW50IHdmeF90eF9pbm5lcihzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZiwgc3Ry
dWN0IGllZWU4MDIxMV9zdGEgKnN0YSwgc3RydWN0CiAJLyogRmlsbCB0eF9wcml2ICovCiAJdHhf
cHJpdiA9IChzdHJ1Y3Qgd2Z4X3R4X3ByaXYgKil0eF9pbmZvLT5yYXRlX2RyaXZlcl9kYXRhOwog
CXR4X3ByaXYtPmljdl9zaXplID0gd2Z4X3R4X2dldF9pY3ZfbGVuKGh3X2tleSk7CisJdHhfcHJp
di0+dmlmX2lkID0gd3ZpZi0+aWQ7CiAKIAkvKiBGaWxsIGhpZl9tc2cgKi8KIAlXQVJOKHNrYl9o
ZWFkcm9vbShza2IpIDwgd21zZ19sZW4sICJub3QgZW5vdWdoIHNwYWNlIGluIHNrYiIpOwpAQCAt
MzYyLDcgKzM3NSwxMCBAQCBzdGF0aWMgaW50IHdmeF90eF9pbm5lcihzdHJ1Y3Qgd2Z4X3ZpZiAq
d3ZpZiwgc3RydWN0IGllZWU4MDIxMV9zdGEgKnN0YSwgc3RydWN0CiAJaGlmX21zZyA9IChzdHJ1
Y3Qgd2Z4X2hpZl9tc2cgKilza2ItPmRhdGE7CiAJaGlmX21zZy0+bGVuID0gY3B1X3RvX2xlMTYo
c2tiLT5sZW4pOwogCWhpZl9tc2ctPmlkID0gSElGX1JFUV9JRF9UWDsKLQloaWZfbXNnLT5pbnRl
cmZhY2UgPSB3dmlmLT5pZDsKKwlpZiAodHhfaW5mby0+ZmxhZ3MgJiBJRUVFODAyMTFfVFhfQ1RM
X1RYX09GRkNIQU4pCisJCWhpZl9tc2ctPmludGVyZmFjZSA9IDI7CisJZWxzZQorCQloaWZfbXNn
LT5pbnRlcmZhY2UgPSB3dmlmLT5pZDsKIAlpZiAoc2tiLT5sZW4gPiBsZTE2X3RvX2NwdSh3dmlm
LT53ZGV2LT5od19jYXBzLnNpemVfaW5wX2NoX2J1ZikpIHsKIAkJZGV2X3dhcm4od3ZpZi0+d2Rl
di0+ZGV2LAogCQkJICJyZXF1ZXN0ZWQgZnJhbWUgc2l6ZSAoJWQpIGlzIGxhcmdlciB0aGFuIG1h
eGltdW0gc3VwcG9ydGVkICglZClcbiIsCkBAIC0zODMsOSArMzk5LDE1IEBAIHN0YXRpYyBpbnQg
d2Z4X3R4X2lubmVyKHN0cnVjdCB3ZnhfdmlmICp3dmlmLCBzdHJ1Y3QgaWVlZTgwMjExX3N0YSAq
c3RhLCBzdHJ1Y3QKIAlyZXEtPmZjX29mZnNldCA9IG9mZnNldDsKIAkvKiBRdWV1ZSBpbmRleCBh
cmUgaW52ZXJ0ZWQgYmV0d2VlbiBmaXJtd2FyZSBhbmQgTGludXggKi8KIAlyZXEtPnF1ZXVlX2lk
ID0gMyAtIHF1ZXVlX2lkOwotCXJlcS0+cGVlcl9zdGFfaWQgPSB3ZnhfdHhfZ2V0X2xpbmtfaWQo
d3ZpZiwgc3RhLCBoZHIpOwotCXJlcS0+cmV0cnlfcG9saWN5X2luZGV4ID0gd2Z4X3R4X2dldF9y
ZXRyeV9wb2xpY3lfaWQod3ZpZiwgdHhfaW5mbyk7Ci0JcmVxLT5mcmFtZV9mb3JtYXQgPSB3Znhf
dHhfZ2V0X2ZyYW1lX2Zvcm1hdCh0eF9pbmZvKTsKKwlpZiAodHhfaW5mby0+ZmxhZ3MgJiBJRUVF
ODAyMTFfVFhfQ1RMX1RYX09GRkNIQU4pIHsKKwkJcmVxLT5wZWVyX3N0YV9pZCA9IEhJRl9MSU5L
X0lEX05PVF9BU1NPQ0lBVEVEOworCQlyZXEtPnJldHJ5X3BvbGljeV9pbmRleCA9IEhJRl9UWF9S
RVRSWV9QT0xJQ1lfSU5WQUxJRDsKKwkJcmVxLT5mcmFtZV9mb3JtYXQgPSBISUZfRlJBTUVfRk9S
TUFUX05PTl9IVDsKKwl9IGVsc2UgeworCQlyZXEtPnBlZXJfc3RhX2lkID0gd2Z4X3R4X2dldF9s
aW5rX2lkKHd2aWYsIHN0YSwgaGRyKTsKKwkJcmVxLT5yZXRyeV9wb2xpY3lfaW5kZXggPSB3Znhf
dHhfZ2V0X3JldHJ5X3BvbGljeV9pZCh3dmlmLCB0eF9pbmZvKTsKKwkJcmVxLT5mcmFtZV9mb3Jt
YXQgPSB3ZnhfdHhfZ2V0X2ZyYW1lX2Zvcm1hdCh0eF9pbmZvKTsKKwl9CiAJaWYgKHR4X2luZm8t
PmRyaXZlcl9yYXRlc1swXS5mbGFncyAmIElFRUU4MDIxMV9UWF9SQ19TSE9SVF9HSSkKIAkJcmVx
LT5zaG9ydF9naSA9IDE7CiAJaWYgKHR4X2luZm8tPmZsYWdzICYgSUVFRTgwMjExX1RYX0NUTF9T
RU5EX0FGVEVSX0RUSU0pCkBAIC01MDEsNyArNTIzLDcgQEAgdm9pZCB3ZnhfdHhfY29uZmlybV9j
YihzdHJ1Y3Qgd2Z4X2RldiAqd2RldiwgY29uc3Qgc3RydWN0IHdmeF9oaWZfY25mX3R4ICphcmcp
CiAJfQogCXR4X2luZm8gPSBJRUVFODAyMTFfU0tCX0NCKHNrYik7CiAJdHhfcHJpdiA9IHdmeF9z
a2JfdHhfcHJpdihza2IpOwotCXd2aWYgPSB3ZGV2X3RvX3d2aWYod2RldiwgKChzdHJ1Y3Qgd2Z4
X2hpZl9tc2cgKilza2ItPmRhdGEpLT5pbnRlcmZhY2UpOworCXd2aWYgPSB3Znhfc2tiX3d2aWYo
d2Rldiwgc2tiKTsKIAlXQVJOX09OKCF3dmlmKTsKIAlpZiAoIXd2aWYpCiAJCXJldHVybjsKQEAg
LTU2Myw3ICs1ODUsNiBAQCB2b2lkIHdmeF9mbHVzaChzdHJ1Y3QgaWVlZTgwMjExX2h3ICpodywg
c3RydWN0IGllZWU4MDIxMV92aWYgKnZpZiwgdTMyIHF1ZXVlcywgYgogCXN0cnVjdCB3ZnhfZGV2
ICp3ZGV2ID0gaHctPnByaXY7CiAJc3RydWN0IHNrX2J1ZmZfaGVhZCBkcm9wcGVkOwogCXN0cnVj
dCB3ZnhfdmlmICp3dmlmOwotCXN0cnVjdCB3ZnhfaGlmX21zZyAqaGlmOwogCXN0cnVjdCBza19i
dWZmICpza2I7CiAKIAlza2JfcXVldWVfaGVhZF9pbml0KCZkcm9wcGVkKTsKQEAgLTU3OSw4ICs2
MDAsNyBAQCB2b2lkIHdmeF9mbHVzaChzdHJ1Y3QgaWVlZTgwMjExX2h3ICpodywgc3RydWN0IGll
ZWU4MDIxMV92aWYgKnZpZiwgdTMyIHF1ZXVlcywgYgogCWlmICh3ZGV2LT5jaGlwX2Zyb3plbikK
IAkJd2Z4X3BlbmRpbmdfZHJvcCh3ZGV2LCAmZHJvcHBlZCk7CiAJd2hpbGUgKChza2IgPSBza2Jf
ZGVxdWV1ZSgmZHJvcHBlZCkpICE9IE5VTEwpIHsKLQkJaGlmID0gKHN0cnVjdCB3ZnhfaGlmX21z
ZyAqKXNrYi0+ZGF0YTsKLQkJd3ZpZiA9IHdkZXZfdG9fd3ZpZih3ZGV2LCBoaWYtPmludGVyZmFj
ZSk7CisJCXd2aWYgPSB3Znhfc2tiX3d2aWYod2Rldiwgc2tiKTsKIAkJaWVlZTgwMjExX3R4X2lu
Zm9fY2xlYXJfc3RhdHVzKElFRUU4MDIxMV9TS0JfQ0Ioc2tiKSk7CiAJCXdmeF9za2JfZHRvcih3
dmlmLCBza2IpOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93
ZngvZGF0YV90eC5oIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmgK
aW5kZXggYTViODBlYWNjZTM5YS4uMDYyMWI4MjEwM2JlZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9u
ZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmgKKysrIGIvZHJpdmVycy9uZXQvd2lyZWxl
c3Mvc2lsYWJzL3dmeC9kYXRhX3R4LmgKQEAgLTM2LDYgKzM2LDcgQEAgc3RydWN0IHdmeF90eF9w
b2xpY3lfY2FjaGUgewogc3RydWN0IHdmeF90eF9wcml2IHsKIAlrdGltZV90IHhtaXRfdGltZXN0
YW1wOwogCXVuc2lnbmVkIGNoYXIgaWN2X3NpemU7CisJdW5zaWduZWQgY2hhciB2aWZfaWQ7CiB9
OwogCiB2b2lkIHdmeF90eF9wb2xpY3lfaW5pdChzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZik7CkBAIC00
Nyw1ICs0OCw2IEBAIHZvaWQgd2Z4X2ZsdXNoKHN0cnVjdCBpZWVlODAyMTFfaHcgKmh3LCBzdHJ1
Y3QgaWVlZTgwMjExX3ZpZiAqdmlmLCB1MzIgcXVldWVzLCBiCiAKIHN0cnVjdCB3ZnhfdHhfcHJp
diAqd2Z4X3NrYl90eF9wcml2KHN0cnVjdCBza19idWZmICpza2IpOwogc3RydWN0IHdmeF9oaWZf
cmVxX3R4ICp3Znhfc2tiX3R4cmVxKHN0cnVjdCBza19idWZmICpza2IpOworc3RydWN0IHdmeF92
aWYgKndmeF9za2Jfd3ZpZihzdHJ1Y3Qgd2Z4X2RldiAqd2Rldiwgc3RydWN0IHNrX2J1ZmYgKnNr
Yik7CiAKICNlbmRpZgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dm
eC9xdWV1ZS5jIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9xdWV1ZS5jCmluZGV4
IDM3ZjQ5MmU1ZDNiZWEuLmI1OTc1ZDE4ZjA5YjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbmV0L3dp
cmVsZXNzL3NpbGFicy93ZngvcXVldWUuYworKysgYi9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxh
YnMvd2Z4L3F1ZXVlLmMKQEAgLTY4LDEzICs2OCwxNiBAQCB2b2lkIHdmeF90eF9xdWV1ZXNfaW5p
dChzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZikKIAlmb3IgKGkgPSAwOyBpIDwgSUVFRTgwMjExX05VTV9B
Q1M7ICsraSkgewogCQlza2JfcXVldWVfaGVhZF9pbml0KCZ3dmlmLT50eF9xdWV1ZVtpXS5ub3Jt
YWwpOwogCQlza2JfcXVldWVfaGVhZF9pbml0KCZ3dmlmLT50eF9xdWV1ZVtpXS5jYWIpOworCQlz
a2JfcXVldWVfaGVhZF9pbml0KCZ3dmlmLT50eF9xdWV1ZVtpXS5vZmZjaGFuKTsKIAkJd3ZpZi0+
dHhfcXVldWVbaV0ucHJpb3JpdHkgPSBwcmlvcml0aWVzW2ldOwogCX0KIH0KIAogYm9vbCB3Znhf
dHhfcXVldWVfZW1wdHkoc3RydWN0IHdmeF92aWYgKnd2aWYsIHN0cnVjdCB3ZnhfcXVldWUgKnF1
ZXVlKQogewotCXJldHVybiBza2JfcXVldWVfZW1wdHlfbG9ja2xlc3MoJnF1ZXVlLT5ub3JtYWwp
ICYmIHNrYl9xdWV1ZV9lbXB0eV9sb2NrbGVzcygmcXVldWUtPmNhYik7CisJcmV0dXJuIHNrYl9x
dWV1ZV9lbXB0eV9sb2NrbGVzcygmcXVldWUtPm5vcm1hbCkgJiYKKwkgICAgICAgc2tiX3F1ZXVl
X2VtcHR5X2xvY2tsZXNzKCZxdWV1ZS0+Y2FiKSAmJgorCSAgICAgICBza2JfcXVldWVfZW1wdHlf
bG9ja2xlc3MoJnF1ZXVlLT5vZmZjaGFuKTsKIH0KIAogdm9pZCB3ZnhfdHhfcXVldWVzX2NoZWNr
X2VtcHR5KHN0cnVjdCB3ZnhfdmlmICp3dmlmKQpAQCAtMTAzLDggKzEwNiw5IEBAIHN0YXRpYyB2
b2lkIF9fd2Z4X3R4X3F1ZXVlX2Ryb3Aoc3RydWN0IHdmeF92aWYgKnd2aWYsCiB2b2lkIHdmeF90
eF9xdWV1ZV9kcm9wKHN0cnVjdCB3ZnhfdmlmICp3dmlmLCBzdHJ1Y3Qgd2Z4X3F1ZXVlICpxdWV1
ZSwKIAkJICAgICAgIHN0cnVjdCBza19idWZmX2hlYWQgKmRyb3BwZWQpCiB7Ci0JX193ZnhfdHhf
cXVldWVfZHJvcCh3dmlmLCAmcXVldWUtPmNhYiwgZHJvcHBlZCk7CiAJX193ZnhfdHhfcXVldWVf
ZHJvcCh3dmlmLCAmcXVldWUtPm5vcm1hbCwgZHJvcHBlZCk7CisJX193ZnhfdHhfcXVldWVfZHJv
cCh3dmlmLCAmcXVldWUtPmNhYiwgZHJvcHBlZCk7CisJX193ZnhfdHhfcXVldWVfZHJvcCh3dmlm
LCAmcXVldWUtPm9mZmNoYW4sIGRyb3BwZWQpOwogCXdha2VfdXAoJnd2aWYtPndkZXYtPnR4X2Rl
cXVldWUpOwogfQogCkBAIC0xMTMsNyArMTE3LDkgQEAgdm9pZCB3ZnhfdHhfcXVldWVzX3B1dChz
dHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZiwgc3RydWN0IHNrX2J1ZmYgKnNrYikKIAlzdHJ1Y3Qgd2Z4X3F1
ZXVlICpxdWV1ZSA9ICZ3dmlmLT50eF9xdWV1ZVtza2JfZ2V0X3F1ZXVlX21hcHBpbmcoc2tiKV07
CiAJc3RydWN0IGllZWU4MDIxMV90eF9pbmZvICp0eF9pbmZvID0gSUVFRTgwMjExX1NLQl9DQihz
a2IpOwogCi0JaWYgKHR4X2luZm8tPmZsYWdzICYgSUVFRTgwMjExX1RYX0NUTF9TRU5EX0FGVEVS
X0RUSU0pCisJaWYgKHR4X2luZm8tPmZsYWdzICYgSUVFRTgwMjExX1RYX0NUTF9UWF9PRkZDSEFO
KQorCQlza2JfcXVldWVfdGFpbCgmcXVldWUtPm9mZmNoYW4sIHNrYik7CisJZWxzZSBpZiAodHhf
aW5mby0+ZmxhZ3MgJiBJRUVFODAyMTFfVFhfQ1RMX1NFTkRfQUZURVJfRFRJTSkKIAkJc2tiX3F1
ZXVlX3RhaWwoJnF1ZXVlLT5jYWIsIHNrYik7CiAJZWxzZQogCQlza2JfcXVldWVfdGFpbCgmcXVl
dWUtPm5vcm1hbCwgc2tiKTsKQEAgLTEyMywxMyArMTI5LDExIEBAIHZvaWQgd2Z4X3BlbmRpbmdf
ZHJvcChzdHJ1Y3Qgd2Z4X2RldiAqd2Rldiwgc3RydWN0IHNrX2J1ZmZfaGVhZCAqZHJvcHBlZCkK
IHsKIAlzdHJ1Y3Qgd2Z4X3F1ZXVlICpxdWV1ZTsKIAlzdHJ1Y3Qgd2Z4X3ZpZiAqd3ZpZjsKLQlz
dHJ1Y3Qgd2Z4X2hpZl9tc2cgKmhpZjsKIAlzdHJ1Y3Qgc2tfYnVmZiAqc2tiOwogCiAJV0FSTigh
d2Rldi0+Y2hpcF9mcm96ZW4sICIlcyBzaG91bGQgb25seSBiZSB1c2VkIHRvIHJlY292ZXIgYSBm
cm96ZW4gZGV2aWNlIiwgX19mdW5jX18pOwogCXdoaWxlICgoc2tiID0gc2tiX2RlcXVldWUoJndk
ZXYtPnR4X3BlbmRpbmcpKSAhPSBOVUxMKSB7Ci0JCWhpZiA9IChzdHJ1Y3Qgd2Z4X2hpZl9tc2cg
Kilza2ItPmRhdGE7Ci0JCXd2aWYgPSB3ZGV2X3RvX3d2aWYod2RldiwgaGlmLT5pbnRlcmZhY2Up
OworCQl3dmlmID0gd2Z4X3NrYl93dmlmKHdkZXYsIHNrYik7CiAJCWlmICh3dmlmKSB7CiAJCQlx
dWV1ZSA9ICZ3dmlmLT50eF9xdWV1ZVtza2JfZ2V0X3F1ZXVlX21hcHBpbmcoc2tiKV07CiAJCQlX
QVJOX09OKHNrYl9nZXRfcXVldWVfbWFwcGluZyhza2IpID4gMyk7CkBAIC0xNTUsNyArMTU5LDcg
QEAgc3RydWN0IHNrX2J1ZmYgKndmeF9wZW5kaW5nX2dldChzdHJ1Y3Qgd2Z4X2RldiAqd2Rldiwg
dTMyIHBhY2tldF9pZCkKIAkJaWYgKHJlcS0+cGFja2V0X2lkICE9IHBhY2tldF9pZCkKIAkJCWNv
bnRpbnVlOwogCQlzcGluX3VubG9ja19iaCgmd2Rldi0+dHhfcGVuZGluZy5sb2NrKTsKLQkJd3Zp
ZiA9IHdkZXZfdG9fd3ZpZih3ZGV2LCBoaWYtPmludGVyZmFjZSk7CisJCXd2aWYgPSB3Znhfc2ti
X3d2aWYod2Rldiwgc2tiKTsKIAkJaWYgKHd2aWYpIHsKIAkJCXF1ZXVlID0gJnd2aWYtPnR4X3F1
ZXVlW3NrYl9nZXRfcXVldWVfbWFwcGluZyhza2IpXTsKIAkJCVdBUk5fT04oc2tiX2dldF9xdWV1
ZV9tYXBwaW5nKHNrYikgPiAzKTsKQEAgLTI0Niw2ICsyNTAsMjggQEAgc3RhdGljIHN0cnVjdCBz
a19idWZmICp3ZnhfdHhfcXVldWVzX2dldF9za2Ioc3RydWN0IHdmeF9kZXYgKndkZXYpCiAJCX0K
IAl9CiAKKwl3dmlmID0gTlVMTDsKKwl3aGlsZSAoKHd2aWYgPSB3dmlmX2l0ZXJhdGUod2Rldiwg
d3ZpZikpICE9IE5VTEwpIHsKKwkJZm9yIChpID0gMDsgaSA8IG51bV9xdWV1ZXM7IGkrKykgewor
CQkJc2tiID0gc2tiX2RlcXVldWUoJnF1ZXVlc1tpXS0+b2ZmY2hhbik7CisJCQlpZiAoIXNrYikK
KwkJCQljb250aW51ZTsKKwkJCWhpZiA9IChzdHJ1Y3Qgd2Z4X2hpZl9tc2cgKilza2ItPmRhdGE7
CisJCQkvKiBPZmZjaGFuIGZyYW1lcyBhcmUgYXNzaWduZWQgdG8gYSBzcGVjaWFsIGludGVyZmFj
ZS4KKwkJCSAqIFRoZSBvbmx5IGludGVyZmFjZSBhbGxvd2VkIHRvIHNlbmQgZGF0YSBkdXJpbmcg
c2Nhbi4KKwkJCSAqLworCQkJV0FSTl9PTihoaWYtPmludGVyZmFjZSAhPSAyKTsKKwkJCWF0b21p
Y19pbmMoJnF1ZXVlc1tpXS0+cGVuZGluZ19mcmFtZXMpOworCQkJdHJhY2VfcXVldWVzX3N0YXRz
KHdkZXYsIHF1ZXVlc1tpXSk7CisJCQlyZXR1cm4gc2tiOworCQl9CisJfQorCisJd3ZpZiA9IE5V
TEw7CisJd2hpbGUgKCh3dmlmID0gd3ZpZl9pdGVyYXRlKHdkZXYsIHd2aWYpKSAhPSBOVUxMKQor
CQlpZiAobXV0ZXhfaXNfbG9ja2VkKCZ3dmlmLT5zY2FuX2xvY2spKQorCQkJcmV0dXJuIE5VTEw7
CisKIAl3dmlmID0gTlVMTDsKIAl3aGlsZSAoKHd2aWYgPSB3dmlmX2l0ZXJhdGUod2Rldiwgd3Zp
ZikpICE9IE5VTEwpIHsKIAkJaWYgKCF3dmlmLT5hZnRlcl9kdGltX3R4X2FsbG93ZWQpCmRpZmYg
LS1naXQgYS9kcml2ZXJzL25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmggYi9kcml2ZXJz
L25ldC93aXJlbGVzcy9zaWxhYnMvd2Z4L3F1ZXVlLmgKaW5kZXggNDczMWRlYmNhOTNkMi4uNjg1
N2ZiZDYwZmJhZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9x
dWV1ZS5oCisrKyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFicy93ZngvcXVldWUuaApAQCAt
MTcsNiArMTcsNyBAQCBzdHJ1Y3Qgd2Z4X3ZpZjsKIHN0cnVjdCB3ZnhfcXVldWUgewogCXN0cnVj
dCBza19idWZmX2hlYWQgbm9ybWFsOwogCXN0cnVjdCBza19idWZmX2hlYWQgY2FiOyAvKiBDb250
ZW50IEFmdGVyIChEVElNKSBCZWFjb24gKi8KKwlzdHJ1Y3Qgc2tfYnVmZl9oZWFkIG9mZmNoYW47
CiAJYXRvbWljX3QgICAgICAgICAgICBwZW5kaW5nX2ZyYW1lczsKIAlpbnQgICAgICAgICAgICAg
ICAgIHByaW9yaXR5OwogfTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL3NpbGFi
cy93Zngvc2Nhbi5jIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2lsYWJzL3dmeC9zY2FuLmMKaW5k
ZXggNTdhMmQ2M2RkMmE2Mi4uODE3ZWViM2FhOGJmZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9uZXQv
d2lyZWxlc3Mvc2lsYWJzL3dmeC9zY2FuLmMKKysrIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mvc2ls
YWJzL3dmeC9zY2FuLmMKQEAgLTE2MCw3ICsxNjAsNyBAQCB2b2lkIHdmeF9yZW1haW5fb25fY2hh
bm5lbF93b3JrKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKIAkJZGV2X2luZm8od3ZpZi0+d2Rl
di0+ZGV2LCAiYWJvcnQgaW4tcHJvZ3Jlc3MgUkVRX0pPSU4iKTsKIAkJd2Z4X3Jlc2V0KHd2aWYp
OwogCX0KLQl3ZnhfdHhfbG9ja19mbHVzaCh3dmlmLT53ZGV2KTsKKwl3ZnhfdHhfZmx1c2god3Zp
Zi0+d2Rldik7CiAKIAlyZWluaXRfY29tcGxldGlvbigmd3ZpZi0+c2Nhbl9jb21wbGV0ZSk7CiAJ
cmV0ID0gd2Z4X2hpZl9zY2FuX3VuaXEod3ZpZiwgY2hhbiwgZHVyYXRpb24pOwpAQCAtMTc4LDkg
KzE3OCw5IEBAIHZvaWQgd2Z4X3JlbWFpbl9vbl9jaGFubmVsX3dvcmsoc3RydWN0IHdvcmtfc3Ry
dWN0ICp3b3JrKQogCQlkZXZfZXJyKHd2aWYtPndkZXYtPmRldiwgInJvYyBkaWRuJ3Qgc3RvcFxu
Iik7CiAJaWVlZTgwMjExX3JlbWFpbl9vbl9jaGFubmVsX2V4cGlyZWQod3ZpZi0+d2Rldi0+aHcp
OwogZW5kOgotCXdmeF90eF91bmxvY2sod3ZpZi0+d2Rldik7CiAJbXV0ZXhfdW5sb2NrKCZ3dmlm
LT5zY2FuX2xvY2spOwogCW11dGV4X3VubG9jaygmd3ZpZi0+d2Rldi0+Y29uZl9tdXRleCk7CisJ
d2Z4X2JoX3JlcXVlc3RfdHgod3ZpZi0+d2Rldik7CiB9CiAKIGludCB3ZnhfcmVtYWluX29uX2No
YW5uZWwoc3RydWN0IGllZWU4MDIxMV9odyAqaHcsIHN0cnVjdCBpZWVlODAyMTFfdmlmICp2aWYs
Ci0tIAoyLjM5LjIKCg==
