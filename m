Return-Path: <linux-wireless-owner@vger.kernel.org>
X-Original-To: lists+linux-wireless@lfdr.de
Delivered-To: lists+linux-wireless@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id AC0B41B7EFF
	for <lists+linux-wireless@lfdr.de>; Fri, 24 Apr 2020 21:33:12 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1729419AbgDXTdK (ORCPT <rfc822;lists+linux-wireless@lfdr.de>);
        Fri, 24 Apr 2020 15:33:10 -0400
Received: from mailgw01.mediatek.com ([210.61.82.183]:8386 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1729256AbgDXTdE (ORCPT
        <rfc822;linux-wireless@vger.kernel.org>);
        Fri, 24 Apr 2020 15:33:04 -0400
X-UUID: 03ebb7d1ccf94a0fb998ed335b10186a-20200425
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=Dhp8tKK52n3yoODGWyE5hR5OT1QU6XvTqCmCtQv21/k=;
        b=GhURu43iLOoY8XVnNBmparOgIPi2iM6LQLd0znTO/cCTmoQ4VBPLYelRUyCc1AaC2jUvItERMDQHCRtnvK0pn4rdMyo5btCemGU9rFMarybidEue71/GGU5qEercT7wC3PgVln7bQ1YKXjzJbAIk9jmTC60t5VQl4nG/TI9LLJM=;
X-UUID: 03ebb7d1ccf94a0fb998ed335b10186a-20200425
Received: from mtkcas08.mediatek.inc [(172.21.101.126)] by mailgw01.mediatek.com
        (envelope-from <ryder.lee@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 1312835490; Sat, 25 Apr 2020 03:33:00 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs02n2.mediatek.inc (172.21.101.101) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Sat, 25 Apr 2020 03:32:53 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Sat, 25 Apr 2020 03:32:56 +0800
From:   Ryder Lee <ryder.lee@mediatek.com>
To:     Felix Fietkau <nbd@nbd.name>,
        Lorenzo Bianconi <lorenzo.bianconi@redhat.com>
CC:     Shayne Chen <shayne.chen@mediatek.com>,
        YF Luo <yf.luo@mediatek.com>,
        Yiwei Chung <yiwei.chung@mediatek.com>,
        Chih-Min Chen <chih-min.chen@mediatek.com>,
        Evelyn Tsai <evelyn.tsai@mediatek.com>,
        "Sean Wang" <sean.wang@mediatek.com>,
        <linux-wireless@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>,
        Ryder Lee <ryder.lee@mediatek.com>
Subject: [PATCH v3 15/18] mt76: mt7915: set peer Tx fixed rate through debugfs
Date:   Sat, 25 Apr 2020 03:32:36 +0800
Message-ID: <76828f8fb5753181546daf9c709c819421b7a5e0.1587756404.git.ryder.lee@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <cover.1587756404.git.ryder.lee@mediatek.com>
References: <cover.1587756404.git.ryder.lee@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-TM-SNTS-SMTP: 75C50582A5C776BDEC4AE8153D2A5573093721EE63C5ADAF87DAB4302C3AA7892000:8
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-wireless-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-wireless.vger.kernel.org>
X-Mailing-List: linux-wireless@vger.kernel.org

RHJpdmVyIGNhbiBtYW51YWxseSBzZXQgZml4ZWQgcmF0ZSBmb3IgZWFjaCBwZWVyIHRocm91Z2gg
ZGVidWdmcy4NCg0KTWF5IHVzZSAuc2V0X2JpdHJhdGVfbWFzayBjYWxsYmFjayBhbmQgaXRlcmF0
ZSBzdGF0aW9ucyB1bmRlciB0aGUNCmN1cnJlbnQgdmlmIHRvIGFjaGlldmUgdGhlIGFpbSBvbmNl
IGl0IHN1cHBvcnRzIEhFIHJhdGUuDQoNClNpZ25lZC1vZmYtYnk6IFJ5ZGVyIExlZSA8cnlkZXIu
bGVlQG1lZGlhdGVrLmNvbT4NClNpZ25lZC1vZmYtYnk6IFNoYXluZSBDaGVuIDxzaGF5bmUuY2hl
bkBtZWRpYXRlay5jb20+DQotLS0NCiAuLi4vd2lyZWxlc3MvbWVkaWF0ZWsvbXQ3Ni9tdDc5MTUv
ZGVidWdmcy5jICAgfCAxMyArKysrKysNCiAuLi4vbmV0L3dpcmVsZXNzL21lZGlhdGVrL210NzYv
bXQ3OTE1L21jdS5jICAgfCA0NiArKysrKysrKysrKysrKysrKysrDQogLi4uL25ldC93aXJlbGVz
cy9tZWRpYXRlay9tdDc2L210NzkxNS9tY3UuaCAgIHwgMjggKysrKysrKysrKysNCiAuLi4vd2ly
ZWxlc3MvbWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbXQ3OTE1LmggICAgfCAgMiArDQogNCBmaWxlcyBj
aGFuZ2VkLCA4OSBpbnNlcnRpb25zKCspDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC93aXJl
bGVzcy9tZWRpYXRlay9tdDc2L210NzkxNS9kZWJ1Z2ZzLmMgYi9kcml2ZXJzL25ldC93aXJlbGVz
cy9tZWRpYXRlay9tdDc2L210NzkxNS9kZWJ1Z2ZzLmMNCmluZGV4IDdmNjdhMWE4MDEzYi4uY2Yz
YjYwZGVkNmVmIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9uZXQvd2lyZWxlc3MvbWVkaWF0ZWsvbXQ3
Ni9tdDc5MTUvZGVidWdmcy5jDQorKysgYi9kcml2ZXJzL25ldC93aXJlbGVzcy9tZWRpYXRlay9t
dDc2L210NzkxNS9kZWJ1Z2ZzLmMNCkBAIC0zMDUsNiArMzA1LDE4IEBAIGludCBtdDc5MTVfaW5p
dF9kZWJ1Z2ZzKHN0cnVjdCBtdDc5MTVfZGV2ICpkZXYpDQogDQogLyoqIHBlci1zdGF0aW9uIGRl
YnVnZnMgKiovDQogDQorLyogdXNhZ2U6IDx0eCBtb2RlPiA8bGRwYz4gPHN0YmM+IDxidz4gPGdp
PiA8bnNzPiA8bWNzPiAqLw0KK3N0YXRpYyBpbnQgbXQ3OTE1X3N0YV9maXhlZF9yYXRlX3NldCh2
b2lkICpkYXRhLCB1NjQgcmF0ZSkNCit7DQorCXN0cnVjdCBpZWVlODAyMTFfc3RhICpzdGEgPSBk
YXRhOw0KKwlzdHJ1Y3QgbXQ3OTE1X3N0YSAqbXN0YSA9IChzdHJ1Y3QgbXQ3OTE1X3N0YSAqKXN0
YS0+ZHJ2X3ByaXY7DQorDQorCXJldHVybiBtdDc5MTVfbWN1X3NldF9maXhlZF9yYXRlKG1zdGEt
PnZpZi0+ZGV2LCBzdGEsIHJhdGUpOw0KK30NCisNCitERUZJTkVfREVCVUdGU19BVFRSSUJVVEUo
Zm9wc19maXhlZF9yYXRlLCBOVUxMLA0KKwkJCSBtdDc5MTVfc3RhX2ZpeGVkX3JhdGVfc2V0LCAi
JWxseFxuIik7DQorDQogc3RhdGljIGludA0KIG10NzkxNV9zdGFfc3RhdHNfcmVhZChzdHJ1Y3Qg
c2VxX2ZpbGUgKnMsIHZvaWQgKmRhdGEpDQogew0KQEAgLTM2NSw1ICszNzcsNiBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyBmb3BzX3N0YV9zdGF0cyA9IHsNCiB2b2lkIG10
NzkxNV9zdGFfYWRkX2RlYnVnZnMoc3RydWN0IGllZWU4MDIxMV9odyAqaHcsIHN0cnVjdCBpZWVl
ODAyMTFfdmlmICp2aWYsDQogCQkJICAgIHN0cnVjdCBpZWVlODAyMTFfc3RhICpzdGEsIHN0cnVj
dCBkZW50cnkgKmRpcikNCiB7DQorCWRlYnVnZnNfY3JlYXRlX2ZpbGUoImZpeGVkX3JhdGUiLCAw
NjAwLCBkaXIsIHN0YSwgJmZvcHNfZml4ZWRfcmF0ZSk7DQogCWRlYnVnZnNfY3JlYXRlX2ZpbGUo
InN0YXRzIiwgMDQwMCwgZGlyLCBzdGEsICZmb3BzX3N0YV9zdGF0cyk7DQogfQ0KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvbmV0L3dpcmVsZXNzL21lZGlhdGVrL210NzYvbXQ3OTE1L21jdS5jIGIvZHJp
dmVycy9uZXQvd2lyZWxlc3MvbWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbWN1LmMNCmluZGV4IGFhMjRm
MTMwNjk0MS4uY2JmOTZhNTY5NDdhIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9uZXQvd2lyZWxlc3Mv
bWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbWN1LmMNCisrKyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL21l
ZGlhdGVrL210NzYvbXQ3OTE1L21jdS5jDQpAQCAtMTczNSw2ICsxNzM1LDUyIEBAIGludCBtdDc5
MTVfbWN1X2FkZF9zdGEoc3RydWN0IG10NzkxNV9kZXYgKmRldiwgc3RydWN0IGllZWU4MDIxMV92
aWYgKnZpZiwNCiAJcmV0dXJuIDA7DQogfQ0KIA0KK2ludCBtdDc5MTVfbWN1X3NldF9maXhlZF9y
YXRlKHN0cnVjdCBtdDc5MTVfZGV2ICpkZXYsDQorCQkJICAgICAgc3RydWN0IGllZWU4MDIxMV9z
dGEgKnN0YSwgdTMyIHJhdGUpDQorew0KKwlzdHJ1Y3QgbXQ3OTE1X3N0YSAqbXN0YSA9IChzdHJ1
Y3QgbXQ3OTE1X3N0YSAqKXN0YS0+ZHJ2X3ByaXY7DQorCXN0cnVjdCBtdDc5MTVfdmlmICptdmlm
ID0gbXN0YS0+dmlmOw0KKwlzdHJ1Y3Qgc3RhX3JlY19yYV9maXhlZCAqcmE7DQorCXN0cnVjdCBz
a19idWZmICpza2I7DQorCXN0cnVjdCB0bHYgKnRsdjsNCisNCisJc2tiID0gbXQ3OTE1X21jdV9h
bGxvY19zdGFfcmVxKGRldiwgbXZpZiwgbXN0YSwNCisJCQkJICAgICAgIE1UNzkxNV9TVEFfVVBE
QVRFX01BWF9TSVpFKTsNCisJaWYgKElTX0VSUihza2IpKQ0KKwkJcmV0dXJuIFBUUl9FUlIoc2ti
KTsNCisNCisJdGx2ID0gbXQ3OTE1X21jdV9hZGRfdGx2KHNrYiwgU1RBX1JFQ19SQV9VUERBVEUs
IHNpemVvZigqcmEpKTsNCisJcmEgPSAoc3RydWN0IHN0YV9yZWNfcmFfZml4ZWQgKil0bHY7DQor
DQorCWlmICghcmF0ZSkgew0KKwkJcmEtPmZpZWxkID0gY3B1X3RvX2xlMzIoUkFURV9QQVJBTV9B
VVRPKTsNCisJCWdvdG8gb3V0Ow0KKwl9IGVsc2Ugew0KKwkJcmEtPmZpZWxkID0gY3B1X3RvX2xl
MzIoUkFURV9QQVJBTV9GSVhFRCk7DQorCX0NCisNCisJcmEtPnBoeS50eXBlID0gRklFTERfR0VU
KFJBVEVfQ0ZHX1BIWV9UWVBFLCByYXRlKTsNCisJcmEtPnBoeS5idyA9IEZJRUxEX0dFVChSQVRF
X0NGR19CVywgcmF0ZSk7DQorCXJhLT5waHkubnNzID0gRklFTERfR0VUKFJBVEVfQ0ZHX05TUywg
cmF0ZSk7DQorCXJhLT5waHkubWNzID0gRklFTERfR0VUKFJBVEVfQ0ZHX01DUywgcmF0ZSk7DQor
CXJhLT5waHkuc3RiYyA9IEZJRUxEX0dFVChSQVRFX0NGR19TVEJDLCByYXRlKTsNCisNCisJaWYg
KHJhLT5waHkuYncpDQorCQlyYS0+cGh5LmxkcGMgPSA3Ow0KKwllbHNlDQorCQlyYS0+cGh5Lmxk
cGMgPSBGSUVMRF9HRVQoUkFURV9DRkdfTERQQywgcmF0ZSkgKiA3Ow0KKw0KKwkvKiBIVC9WSFQg
LSBTR0k6IDEsIExHSTogMDsgSEUgLSBTR0k6IDAsIE1HSTogMSwgTEdJOiAyICovDQorCWlmIChy
YS0+cGh5LnR5cGUgPiBNVF9QSFlfVFlQRV9WSFQpDQorCQlyYS0+cGh5LnNnaSA9IHJhLT5waHku
bWNzICogODU7DQorCWVsc2UNCisJCXJhLT5waHkuc2dpID0gcmEtPnBoeS5tY3MgKiAxNTsNCisN
CitvdXQ6DQorCXJldHVybiBfX210NzZfbWN1X3NrYl9zZW5kX21zZygmZGV2LT5tdDc2LCBza2Is
DQorCQkJCSAgICAgICBNQ1VfRVhUX0NNRF9TVEFfUkVDX1VQREFURSwgdHJ1ZSk7DQorfQ0KKw0K
IGludCBtdDc5MTVfbWN1X2FkZF9kZXZfaW5mbyhzdHJ1Y3QgbXQ3OTE1X2RldiAqZGV2LA0KIAkJ
CSAgICBzdHJ1Y3QgaWVlZTgwMjExX3ZpZiAqdmlmLCBib29sIGVuYWJsZSkNCiB7DQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9uZXQvd2lyZWxlc3MvbWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbWN1LmggYi9k
cml2ZXJzL25ldC93aXJlbGVzcy9tZWRpYXRlay9tdDc2L210NzkxNS9tY3UuaA0KaW5kZXggY2Mw
ZTI3NzMwYWFiLi5iOGQyOGQ5NzE5NzQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL25ldC93aXJlbGVz
cy9tZWRpYXRlay9tdDc2L210NzkxNS9tY3UuaA0KKysrIGIvZHJpdmVycy9uZXQvd2lyZWxlc3Mv
bWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbWN1LmgNCkBAIC04MDMsNiArODAzLDM0IEBAIHN0cnVjdCBz
dGFfcmVjX3JhIHsNCiAJc3RydWN0IHJhX3BoeSBwaHk7DQogfSBfX3BhY2tlZDsNCiANCitzdHJ1
Y3Qgc3RhX3JlY19yYV9maXhlZCB7DQorCV9fbGUxNiB0YWc7DQorCV9fbGUxNiBsZW47DQorDQor
CV9fbGUzMiBmaWVsZDsNCisJdTggb3BfbW9kZTsNCisJdTggb3Bfdmh0X2NoYW5fd2lkdGg7DQor
CXU4IG9wX3ZodF9yeF9uc3M7DQorCXU4IG9wX3ZodF9yeF9uc3NfdHlwZTsNCisNCisJc3RydWN0
IHJhX3BoeSBwaHk7DQorDQorCXU4IHNwZV9lbjsNCisJdTggc2hvcnRfcHJlYW1ibGU7DQorCXU4
IGlzXzVnOw0KKwl1OCBtbXBzX21vZGU7DQorfSBfX3BhY2tlZDsNCisNCisjZGVmaW5lIFJBVEVf
UEFSQU1fRklYRUQJCTMNCisjZGVmaW5lIFJBVEVfUEFSQU1fQVVUTwkJCTIwDQorI2RlZmluZSBS
QVRFX0NGR19NQ1MJCQlHRU5NQVNLKDMsIDApDQorI2RlZmluZSBSQVRFX0NGR19OU1MJCQlHRU5N
QVNLKDcsIDQpDQorI2RlZmluZSBSQVRFX0NGR19HSQkJCUdFTk1BU0soMTEsIDgpDQorI2RlZmlu
ZSBSQVRFX0NGR19CVwkJCUdFTk1BU0soMTUsIDEyKQ0KKyNkZWZpbmUgUkFURV9DRkdfU1RCQwkJ
CUdFTk1BU0soMTksIDE2KQ0KKyNkZWZpbmUgUkFURV9DRkdfTERQQwkJCUdFTk1BU0soMjMsIDIw
KQ0KKyNkZWZpbmUgUkFURV9DRkdfUEhZX1RZUEUJCUdFTk1BU0soMjcsIDI0KQ0KKw0KIGVudW0g
ew0KIAlTVEFfUkVDX0JBU0lDLA0KIAlTVEFfUkVDX1JBLA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
bmV0L3dpcmVsZXNzL21lZGlhdGVrL210NzYvbXQ3OTE1L210NzkxNS5oIGIvZHJpdmVycy9uZXQv
d2lyZWxlc3MvbWVkaWF0ZWsvbXQ3Ni9tdDc5MTUvbXQ3OTE1LmgNCmluZGV4IDM1ZTM0ZDI3MGMx
NS4uZTU4MjFkMTQ0Yzg1IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9uZXQvd2lyZWxlc3MvbWVkaWF0
ZWsvbXQ3Ni9tdDc5MTUvbXQ3OTE1LmgNCisrKyBiL2RyaXZlcnMvbmV0L3dpcmVsZXNzL21lZGlh
dGVrL210NzYvbXQ3OTE1L210NzkxNS5oDQpAQCAtMzAzLDYgKzMwMyw4IEBAIGludCBtdDc5MTVf
bWN1X2FkZF9zbXBzKHN0cnVjdCBtdDc5MTVfZGV2ICpkZXYsIHN0cnVjdCBpZWVlODAyMTFfdmlm
ICp2aWYsDQogCQkJc3RydWN0IGllZWU4MDIxMV9zdGEgKnN0YSk7DQogaW50IG10NzkxNV9tY3Vf
c2V0X2NoYW5faW5mbyhzdHJ1Y3QgbXQ3OTE1X3BoeSAqcGh5LCBpbnQgY21kKTsNCiBpbnQgbXQ3
OTE1X21jdV9zZXRfdHgoc3RydWN0IG10NzkxNV9kZXYgKmRldiwgc3RydWN0IGllZWU4MDIxMV92
aWYgKnZpZik7DQoraW50IG10NzkxNV9tY3Vfc2V0X2ZpeGVkX3JhdGUoc3RydWN0IG10NzkxNV9k
ZXYgKmRldiwNCisJCQkgICAgICBzdHJ1Y3QgaWVlZTgwMjExX3N0YSAqc3RhLCB1MzIgcmF0ZSk7
DQogaW50IG10NzkxNV9tY3Vfc2V0X2VlcHJvbShzdHJ1Y3QgbXQ3OTE1X2RldiAqZGV2KTsNCiBp
bnQgbXQ3OTE1X21jdV9nZXRfZWVwcm9tKHN0cnVjdCBtdDc5MTVfZGV2ICpkZXYsIHUzMiBvZmZz
ZXQpOw0KIGludCBtdDc5MTVfbWN1X3NldF9tYWMoc3RydWN0IG10NzkxNV9kZXYgKmRldiwgaW50
IGJhbmQsIGJvb2wgZW5hYmxlLA0KLS0gDQoyLjE4LjANCg==

